(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();var Cd={exports:{}},Na={},Td={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Em;function rC(){if(Em)return je;Em=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),S=Symbol.iterator;function C(U){return U===null||typeof U!="object"?null:(U=S&&U[S]||U["@@iterator"],typeof U=="function"?U:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,D={};function b(U,Y,ne){this.props=U,this.context=Y,this.refs=D,this.updater=ne||k}b.prototype.isReactComponent={},b.prototype.setState=function(U,Y){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,Y,"setState")},b.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function B(){}B.prototype=b.prototype;function j(U,Y,ne){this.props=U,this.context=Y,this.refs=D,this.updater=ne||k}var X=j.prototype=new B;X.constructor=j,L(X,b.prototype),X.isPureReactComponent=!0;var W=Array.isArray,q=Object.prototype.hasOwnProperty,Q={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function P(U,Y,ne){var pe,G={},Ce=null,Ie=null;if(Y!=null)for(pe in Y.ref!==void 0&&(Ie=Y.ref),Y.key!==void 0&&(Ce=""+Y.key),Y)q.call(Y,pe)&&!R.hasOwnProperty(pe)&&(G[pe]=Y[pe]);var de=arguments.length-2;if(de===1)G.children=ne;else if(1<de){for(var be=Array(de),me=0;me<de;me++)be[me]=arguments[me+2];G.children=be}if(U&&U.defaultProps)for(pe in de=U.defaultProps,de)G[pe]===void 0&&(G[pe]=de[pe]);return{$$typeof:n,type:U,key:Ce,ref:Ie,props:G,_owner:Q.current}}function T(U,Y){return{$$typeof:n,type:U.type,key:Y,ref:U.ref,props:U.props,_owner:U._owner}}function x(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function O(U){var Y={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ne){return Y[ne]})}var N=/\/+/g;function A(U,Y){return typeof U=="object"&&U!==null&&U.key!=null?O(""+U.key):Y.toString(36)}function ye(U,Y,ne,pe,G){var Ce=typeof U;(Ce==="undefined"||Ce==="boolean")&&(U=null);var Ie=!1;if(U===null)Ie=!0;else switch(Ce){case"string":case"number":Ie=!0;break;case"object":switch(U.$$typeof){case n:case e:Ie=!0}}if(Ie)return Ie=U,G=G(Ie),U=pe===""?"."+A(Ie,0):pe,W(G)?(ne="",U!=null&&(ne=U.replace(N,"$&/")+"/"),ye(G,Y,ne,"",function(me){return me})):G!=null&&(x(G)&&(G=T(G,ne+(!G.key||Ie&&Ie.key===G.key?"":(""+G.key).replace(N,"$&/")+"/")+U)),Y.push(G)),1;if(Ie=0,pe=pe===""?".":pe+":",W(U))for(var de=0;de<U.length;de++){Ce=U[de];var be=pe+A(Ce,de);Ie+=ye(Ce,Y,ne,be,G)}else if(be=C(U),typeof be=="function")for(U=be.call(U),de=0;!(Ce=U.next()).done;)Ce=Ce.value,be=pe+A(Ce,de++),Ie+=ye(Ce,Y,ne,be,G);else if(Ce==="object")throw Y=String(U),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return Ie}function Se(U,Y,ne){if(U==null)return U;var pe=[],G=0;return ye(U,pe,"","",function(Ce){return Y.call(ne,Ce,G++)}),pe}function Ae(U){if(U._status===-1){var Y=U._result;Y=Y(),Y.then(function(ne){(U._status===0||U._status===-1)&&(U._status=1,U._result=ne)},function(ne){(U._status===0||U._status===-1)&&(U._status=2,U._result=ne)}),U._status===-1&&(U._status=0,U._result=Y)}if(U._status===1)return U._result.default;throw U._result}var Te={current:null},ee={transition:null},ce={ReactCurrentDispatcher:Te,ReactCurrentBatchConfig:ee,ReactCurrentOwner:Q};function re(){throw Error("act(...) is not supported in production builds of React.")}return je.Children={map:Se,forEach:function(U,Y,ne){Se(U,function(){Y.apply(this,arguments)},ne)},count:function(U){var Y=0;return Se(U,function(){Y++}),Y},toArray:function(U){return Se(U,function(Y){return Y})||[]},only:function(U){if(!x(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},je.Component=b,je.Fragment=t,je.Profiler=o,je.PureComponent=j,je.StrictMode=r,je.Suspense=f,je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ce,je.act=re,je.cloneElement=function(U,Y,ne){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var pe=L({},U.props),G=U.key,Ce=U.ref,Ie=U._owner;if(Y!=null){if(Y.ref!==void 0&&(Ce=Y.ref,Ie=Q.current),Y.key!==void 0&&(G=""+Y.key),U.type&&U.type.defaultProps)var de=U.type.defaultProps;for(be in Y)q.call(Y,be)&&!R.hasOwnProperty(be)&&(pe[be]=Y[be]===void 0&&de!==void 0?de[be]:Y[be])}var be=arguments.length-2;if(be===1)pe.children=ne;else if(1<be){de=Array(be);for(var me=0;me<be;me++)de[me]=arguments[me+2];pe.children=de}return{$$typeof:n,type:U.type,key:G,ref:Ce,props:pe,_owner:Ie}},je.createContext=function(U){return U={$$typeof:c,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:a,_context:U},U.Consumer=U},je.createElement=P,je.createFactory=function(U){var Y=P.bind(null,U);return Y.type=U,Y},je.createRef=function(){return{current:null}},je.forwardRef=function(U){return{$$typeof:d,render:U}},je.isValidElement=x,je.lazy=function(U){return{$$typeof:_,_payload:{_status:-1,_result:U},_init:Ae}},je.memo=function(U,Y){return{$$typeof:m,type:U,compare:Y===void 0?null:Y}},je.startTransition=function(U){var Y=ee.transition;ee.transition={};try{U()}finally{ee.transition=Y}},je.unstable_act=re,je.useCallback=function(U,Y){return Te.current.useCallback(U,Y)},je.useContext=function(U){return Te.current.useContext(U)},je.useDebugValue=function(){},je.useDeferredValue=function(U){return Te.current.useDeferredValue(U)},je.useEffect=function(U,Y){return Te.current.useEffect(U,Y)},je.useId=function(){return Te.current.useId()},je.useImperativeHandle=function(U,Y,ne){return Te.current.useImperativeHandle(U,Y,ne)},je.useInsertionEffect=function(U,Y){return Te.current.useInsertionEffect(U,Y)},je.useLayoutEffect=function(U,Y){return Te.current.useLayoutEffect(U,Y)},je.useMemo=function(U,Y){return Te.current.useMemo(U,Y)},je.useReducer=function(U,Y,ne){return Te.current.useReducer(U,Y,ne)},je.useRef=function(U){return Te.current.useRef(U)},je.useState=function(U){return Te.current.useState(U)},je.useSyncExternalStore=function(U,Y,ne){return Te.current.useSyncExternalStore(U,Y,ne)},je.useTransition=function(){return Te.current.useTransition()},je.version="18.3.1",je}var wm;function Ef(){return wm||(wm=1,Td.exports=rC()),Td.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sm;function iC(){if(Sm)return Na;Sm=1;var n=Ef(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(d,f,m){var _,S={},C=null,k=null;m!==void 0&&(C=""+m),f.key!==void 0&&(C=""+f.key),f.ref!==void 0&&(k=f.ref);for(_ in f)r.call(f,_)&&!a.hasOwnProperty(_)&&(S[_]=f[_]);if(d&&d.defaultProps)for(_ in f=d.defaultProps,f)S[_]===void 0&&(S[_]=f[_]);return{$$typeof:e,type:d,key:C,ref:k,props:S,_owner:o.current}}return Na.Fragment=t,Na.jsx=c,Na.jsxs=c,Na}var Cm;function sC(){return Cm||(Cm=1,Cd.exports=iC()),Cd.exports}var le=sC(),y=Ef(),Ou={},Id={exports:{}},hn={},Ld={exports:{}},Pd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tm;function oC(){return Tm||(Tm=1,function(n){function e(ee,ce){var re=ee.length;ee.push(ce);e:for(;0<re;){var U=re-1>>>1,Y=ee[U];if(0<o(Y,ce))ee[U]=ce,ee[re]=Y,re=U;else break e}}function t(ee){return ee.length===0?null:ee[0]}function r(ee){if(ee.length===0)return null;var ce=ee[0],re=ee.pop();if(re!==ce){ee[0]=re;e:for(var U=0,Y=ee.length,ne=Y>>>1;U<ne;){var pe=2*(U+1)-1,G=ee[pe],Ce=pe+1,Ie=ee[Ce];if(0>o(G,re))Ce<Y&&0>o(Ie,G)?(ee[U]=Ie,ee[Ce]=re,U=Ce):(ee[U]=G,ee[pe]=re,U=pe);else if(Ce<Y&&0>o(Ie,re))ee[U]=Ie,ee[Ce]=re,U=Ce;else break e}}return ce}function o(ee,ce){var re=ee.sortIndex-ce.sortIndex;return re!==0?re:ee.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var f=[],m=[],_=1,S=null,C=3,k=!1,L=!1,D=!1,b=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function X(ee){for(var ce=t(m);ce!==null;){if(ce.callback===null)r(m);else if(ce.startTime<=ee)r(m),ce.sortIndex=ce.expirationTime,e(f,ce);else break;ce=t(m)}}function W(ee){if(D=!1,X(ee),!L)if(t(f)!==null)L=!0,Ae(q);else{var ce=t(m);ce!==null&&Te(W,ce.startTime-ee)}}function q(ee,ce){L=!1,D&&(D=!1,B(P),P=-1),k=!0;var re=C;try{for(X(ce),S=t(f);S!==null&&(!(S.expirationTime>ce)||ee&&!O());){var U=S.callback;if(typeof U=="function"){S.callback=null,C=S.priorityLevel;var Y=U(S.expirationTime<=ce);ce=n.unstable_now(),typeof Y=="function"?S.callback=Y:S===t(f)&&r(f),X(ce)}else r(f);S=t(f)}if(S!==null)var ne=!0;else{var pe=t(m);pe!==null&&Te(W,pe.startTime-ce),ne=!1}return ne}finally{S=null,C=re,k=!1}}var Q=!1,R=null,P=-1,T=5,x=-1;function O(){return!(n.unstable_now()-x<T)}function N(){if(R!==null){var ee=n.unstable_now();x=ee;var ce=!0;try{ce=R(!0,ee)}finally{ce?A():(Q=!1,R=null)}}else Q=!1}var A;if(typeof j=="function")A=function(){j(N)};else if(typeof MessageChannel<"u"){var ye=new MessageChannel,Se=ye.port2;ye.port1.onmessage=N,A=function(){Se.postMessage(null)}}else A=function(){b(N,0)};function Ae(ee){R=ee,Q||(Q=!0,A())}function Te(ee,ce){P=b(function(){ee(n.unstable_now())},ce)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ee){ee.callback=null},n.unstable_continueExecution=function(){L||k||(L=!0,Ae(q))},n.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<ee?Math.floor(1e3/ee):5},n.unstable_getCurrentPriorityLevel=function(){return C},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(ee){switch(C){case 1:case 2:case 3:var ce=3;break;default:ce=C}var re=C;C=ce;try{return ee()}finally{C=re}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ee,ce){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var re=C;C=ee;try{return ce()}finally{C=re}},n.unstable_scheduleCallback=function(ee,ce,re){var U=n.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?U+re:U):re=U,ee){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=re+Y,ee={id:_++,callback:ce,priorityLevel:ee,startTime:re,expirationTime:Y,sortIndex:-1},re>U?(ee.sortIndex=re,e(m,ee),t(f)===null&&ee===t(m)&&(D?(B(P),P=-1):D=!0,Te(W,re-U))):(ee.sortIndex=Y,e(f,ee),L||k||(L=!0,Ae(q))),ee},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(ee){var ce=C;return function(){var re=C;C=ce;try{return ee.apply(this,arguments)}finally{C=re}}}}(Pd)),Pd}var Im;function aC(){return Im||(Im=1,Ld.exports=oC()),Ld.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lm;function lC(){if(Lm)return hn;Lm=1;var n=Ef(),e=aC();function t(i){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+i,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function a(i,s){c(i,s),c(i+"Capture",s)}function c(i,s){for(o[i]=s,i=0;i<s.length;i++)r.add(s[i])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},S={};function C(i){return f.call(S,i)?!0:f.call(_,i)?!1:m.test(i)?S[i]=!0:(_[i]=!0,!1)}function k(i,s,l,h){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function L(i,s,l,h){if(s===null||typeof s>"u"||k(i,s,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function D(i,s,l,h,p,v,w){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=i,this.type=s,this.sanitizeURL=v,this.removeEmptyString=w}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){b[i]=new D(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var s=i[0];b[s]=new D(s,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){b[i]=new D(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){b[i]=new D(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){b[i]=new D(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){b[i]=new D(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){b[i]=new D(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){b[i]=new D(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){b[i]=new D(i,5,!1,i.toLowerCase(),null,!1,!1)});var B=/[\-:]([a-z])/g;function j(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var s=i.replace(B,j);b[s]=new D(s,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var s=i.replace(B,j);b[s]=new D(s,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var s=i.replace(B,j);b[s]=new D(s,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){b[i]=new D(i,1,!1,i.toLowerCase(),null,!1,!1)}),b.xlinkHref=new D("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){b[i]=new D(i,1,!1,i.toLowerCase(),null,!0,!0)});function X(i,s,l,h){var p=b.hasOwnProperty(s)?b[s]:null;(p!==null?p.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(L(s,l,p,h)&&(l=null),h||p===null?C(s)&&(l===null?i.removeAttribute(s):i.setAttribute(s,""+l)):p.mustUseProperty?i[p.propertyName]=l===null?p.type===3?!1:"":l:(s=p.attributeName,h=p.attributeNamespace,l===null?i.removeAttribute(s):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,h?i.setAttributeNS(h,s,l):i.setAttribute(s,l))))}var W=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,q=Symbol.for("react.element"),Q=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),O=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),ye=Symbol.for("react.suspense_list"),Se=Symbol.for("react.memo"),Ae=Symbol.for("react.lazy"),Te=Symbol.for("react.offscreen"),ee=Symbol.iterator;function ce(i){return i===null||typeof i!="object"?null:(i=ee&&i[ee]||i["@@iterator"],typeof i=="function"?i:null)}var re=Object.assign,U;function Y(i){if(U===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);U=s&&s[1]||""}return`
`+U+i}var ne=!1;function pe(i,s){if(!i||ne)return"";ne=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(K){var h=K}Reflect.construct(i,[],s)}else{try{s.call()}catch(K){h=K}i.call(s.prototype)}else{try{throw Error()}catch(K){h=K}i()}}catch(K){if(K&&h&&typeof K.stack=="string"){for(var p=K.stack.split(`
`),v=h.stack.split(`
`),w=p.length-1,M=v.length-1;1<=w&&0<=M&&p[w]!==v[M];)M--;for(;1<=w&&0<=M;w--,M--)if(p[w]!==v[M]){if(w!==1||M!==1)do if(w--,M--,0>M||p[w]!==v[M]){var V=`
`+p[w].replace(" at new "," at ");return i.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",i.displayName)),V}while(1<=w&&0<=M);break}}}finally{ne=!1,Error.prepareStackTrace=l}return(i=i?i.displayName||i.name:"")?Y(i):""}function G(i){switch(i.tag){case 5:return Y(i.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return i=pe(i.type,!1),i;case 11:return i=pe(i.type.render,!1),i;case 1:return i=pe(i.type,!0),i;default:return""}}function Ce(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case R:return"Fragment";case Q:return"Portal";case T:return"Profiler";case P:return"StrictMode";case A:return"Suspense";case ye:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case O:return(i.displayName||"Context")+".Consumer";case x:return(i._context.displayName||"Context")+".Provider";case N:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Se:return s=i.displayName||null,s!==null?s:Ce(i.type)||"Memo";case Ae:s=i._payload,i=i._init;try{return Ce(i(s))}catch{}}return null}function Ie(i){var s=i.type;switch(i.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=s.render,i=i.displayName||i.name||"",s.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ce(s);case 8:return s===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function de(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function be(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function me(i){var s=be(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),h=""+i[s];if(!i.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,v=l.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return p.call(this)},set:function(w){h=""+w,v.call(this,w)}}),Object.defineProperty(i,s,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(w){h=""+w},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Ue(i){i._valueTracker||(i._valueTracker=me(i))}function Rt(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),h="";return i&&(h=be(i)?i.checked?"true":"false":i.value),i=h,i!==l?(s.setValue(i),!0):!1}function At(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function fn(i,s){var l=s.checked;return re({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??i._wrapperState.initialChecked})}function He(i,s){var l=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;l=de(s.value!=null?s.value:l),i._wrapperState={initialChecked:h,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ui(i,s){s=s.checked,s!=null&&X(i,"checked",s,!1)}function ur(i,s){ui(i,s);var l=de(s.value),h=s.type;if(l!=null)h==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+l):i.value!==""+l&&(i.value=""+l);else if(h==="submit"||h==="reset"){i.removeAttribute("value");return}s.hasOwnProperty("value")?jn(i,s.type,l):s.hasOwnProperty("defaultValue")&&jn(i,s.type,de(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(i.defaultChecked=!!s.defaultChecked)}function rs(i,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+i._wrapperState.initialValue,l||s===i.value||(i.value=s),i.defaultValue=s}l=i.name,l!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,l!==""&&(i.name=l)}function jn(i,s,l){(s!=="number"||At(i.ownerDocument)!==i)&&(l==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+l&&(i.defaultValue=""+l))}var Tn=Array.isArray;function nn(i,s,l,h){if(i=i.options,s){s={};for(var p=0;p<l.length;p++)s["$"+l[p]]=!0;for(l=0;l<i.length;l++)p=s.hasOwnProperty("$"+i[l].value),i[l].selected!==p&&(i[l].selected=p),p&&h&&(i[l].defaultSelected=!0)}else{for(l=""+de(l),s=null,p=0;p<i.length;p++){if(i[p].value===l){i[p].selected=!0,h&&(i[p].defaultSelected=!0);return}s!==null||i[p].disabled||(s=i[p])}s!==null&&(s.selected=!0)}}function ci(i,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return re({},s,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Bn(i,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(Tn(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}i._wrapperState={initialValue:de(l)}}function Nr(i,s){var l=de(s.value),h=de(s.defaultValue);l!=null&&(l=""+l,l!==i.value&&(i.value=l),s.defaultValue==null&&i.defaultValue!==l&&(i.defaultValue=l)),h!=null&&(i.defaultValue=""+h)}function hi(i){var s=i.textContent;s===i._wrapperState.initialValue&&s!==""&&s!==null&&(i.value=s)}function gt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function at(i,s){return i==null||i==="http://www.w3.org/1999/xhtml"?gt(s):i==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var In,cr=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,h,p){MSApp.execUnsafeLocalFunction(function(){return i(s,l,h,p)})}:i}(function(i,s){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=s;else{for(In=In||document.createElement("div"),In.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=In.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;s.firstChild;)i.appendChild(s.firstChild)}});function zn(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var Ln={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hr=["Webkit","ms","Moz","O"];Object.keys(Ln).forEach(function(i){hr.forEach(function(s){s=s+i.charAt(0).toUpperCase()+i.substring(1),Ln[s]=Ln[i]})});function dr(i,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||Ln.hasOwnProperty(i)&&Ln[i]?(""+s).trim():s+"px"}function di(i,s){i=i.style;for(var l in s)if(s.hasOwnProperty(l)){var h=l.indexOf("--")===0,p=dr(l,s[l],h);l==="float"&&(l="cssFloat"),h?i.setProperty(l,p):i[l]=p}}var fr=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fi(i,s){if(s){if(fr[i]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function pr(i,s){if(i.indexOf("-")===-1)return typeof s.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gr=null;function $n(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Vr=null,Zt=null,pn=null;function Wn(i){if(i=wa(i)){if(typeof Vr!="function")throw Error(t(280));var s=i.stateNode;s&&(s=Ql(s),Vr(i.stateNode,i.type,s))}}function gn(i){Zt?pn?pn.push(i):pn=[i]:Zt=i}function mr(){if(Zt){var i=Zt,s=pn;if(pn=Zt=null,Wn(i),s)for(i=0;i<s.length;i++)Wn(s[i])}}function vr(i,s){return i(s)}function yr(){}var Pn=!1;function is(i,s,l){if(Pn)return i(s,l);Pn=!0;try{return vr(i,s,l)}finally{Pn=!1,(Zt!==null||pn!==null)&&(yr(),mr())}}function tt(i,s){var l=i.stateNode;if(l===null)return null;var h=Ql(l);if(h===null)return null;l=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var xe=!1;if(d)try{var Hn={};Object.defineProperty(Hn,"passive",{get:function(){xe=!0}}),window.addEventListener("test",Hn,Hn),window.removeEventListener("test",Hn,Hn)}catch{xe=!1}function ss(i,s,l,h,p,v,w,M,V){var K=Array.prototype.slice.call(arguments,3);try{s.apply(l,K)}catch(se){this.onError(se)}}var os=!1,zs=null,qn=!1,ta=null,Zc={onError:function(i){os=!0,zs=i}};function $s(i,s,l,h,p,v,w,M,V){os=!1,zs=null,ss.apply(Zc,arguments)}function El(i,s,l,h,p,v,w,M,V){if($s.apply(this,arguments),os){if(os){var K=zs;os=!1,zs=null}else throw Error(t(198));qn||(qn=!0,ta=K)}}function Gn(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,s.flags&4098&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function as(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function Kn(i){if(Gn(i)!==i)throw Error(t(188))}function wl(i){var s=i.alternate;if(!s){if(s=Gn(i),s===null)throw Error(t(188));return s!==i?null:i}for(var l=i,h=s;;){var p=l.return;if(p===null)break;var v=p.alternate;if(v===null){if(h=p.return,h!==null){l=h;continue}break}if(p.child===v.child){for(v=p.child;v;){if(v===l)return Kn(p),i;if(v===h)return Kn(p),s;v=v.sibling}throw Error(t(188))}if(l.return!==h.return)l=p,h=v;else{for(var w=!1,M=p.child;M;){if(M===l){w=!0,l=p,h=v;break}if(M===h){w=!0,h=p,l=v;break}M=M.sibling}if(!w){for(M=v.child;M;){if(M===l){w=!0,l=v,h=p;break}if(M===h){w=!0,h=v,l=p;break}M=M.sibling}if(!w)throw Error(t(189))}}if(l.alternate!==h)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?i:s}function na(i){return i=wl(i),i!==null?Ws(i):null}function Ws(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var s=Ws(i);if(s!==null)return s;i=i.sibling}return null}var Hs=e.unstable_scheduleCallback,ra=e.unstable_cancelCallback,Sl=e.unstable_shouldYield,Jc=e.unstable_requestPaint,rt=e.unstable_now,Cl=e.unstable_getCurrentPriorityLevel,ls=e.unstable_ImmediatePriority,pi=e.unstable_UserBlockingPriority,kn=e.unstable_NormalPriority,ia=e.unstable_LowPriority,Tl=e.unstable_IdlePriority,us=null,mn=null;function Il(i){if(mn&&typeof mn.onCommitFiberRoot=="function")try{mn.onCommitFiberRoot(us,i,void 0,(i.current.flags&128)===128)}catch{}}var Jt=Math.clz32?Math.clz32:Pl,sa=Math.log,Ll=Math.LN2;function Pl(i){return i>>>=0,i===0?32:31-(sa(i)/Ll|0)|0}var qs=64,Gs=4194304;function gi(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function cs(i,s){var l=i.pendingLanes;if(l===0)return 0;var h=0,p=i.suspendedLanes,v=i.pingedLanes,w=l&268435455;if(w!==0){var M=w&~p;M!==0?h=gi(M):(v&=w,v!==0&&(h=gi(v)))}else w=l&~p,w!==0?h=gi(w):v!==0&&(h=gi(v));if(h===0)return 0;if(s!==0&&s!==h&&!(s&p)&&(p=h&-h,v=s&-s,p>=v||p===16&&(v&4194240)!==0))return s;if(h&4&&(h|=l&16),s=i.entangledLanes,s!==0)for(i=i.entanglements,s&=h;0<s;)l=31-Jt(s),p=1<<l,h|=i[l],s&=~p;return h}function Xc(i,s){switch(i){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ur(i,s){for(var l=i.suspendedLanes,h=i.pingedLanes,p=i.expirationTimes,v=i.pendingLanes;0<v;){var w=31-Jt(v),M=1<<w,V=p[w];V===-1?(!(M&l)||M&h)&&(p[w]=Xc(M,s)):V<=s&&(i.expiredLanes|=M),v&=~M}}function vn(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function hs(){var i=qs;return qs<<=1,!(qs&4194240)&&(qs=64),i}function mi(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function vi(i,s,l){i.pendingLanes|=s,s!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,s=31-Jt(s),i[s]=l}function nt(i,s){var l=i.pendingLanes&~s;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=s,i.mutableReadLanes&=s,i.entangledLanes&=s,s=i.entanglements;var h=i.eventTimes;for(i=i.expirationTimes;0<l;){var p=31-Jt(l),v=1<<p;s[p]=0,h[p]=-1,i[p]=-1,l&=~v}}function yi(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var h=31-Jt(l),p=1<<h;p&s|i[h]&s&&(i[h]|=s),l&=~p}}var qe=0;function _i(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var kl,Ks,Rl,Al,xl,oa=!1,_r=[],Nt=null,Qn=null,Yn=null,Ei=new Map,Rn=new Map,Er=[],eh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bl(i,s){switch(i){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":Qn=null;break;case"mouseover":case"mouseout":Yn=null;break;case"pointerover":case"pointerout":Ei.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rn.delete(s.pointerId)}}function rn(i,s,l,h,p,v){return i===null||i.nativeEvent!==v?(i={blockedOn:s,domEventName:l,eventSystemFlags:h,nativeEvent:v,targetContainers:[p]},s!==null&&(s=wa(s),s!==null&&Ks(s)),i):(i.eventSystemFlags|=h,s=i.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),i)}function th(i,s,l,h,p){switch(s){case"focusin":return Nt=rn(Nt,i,s,l,h,p),!0;case"dragenter":return Qn=rn(Qn,i,s,l,h,p),!0;case"mouseover":return Yn=rn(Yn,i,s,l,h,p),!0;case"pointerover":var v=p.pointerId;return Ei.set(v,rn(Ei.get(v)||null,i,s,l,h,p)),!0;case"gotpointercapture":return v=p.pointerId,Rn.set(v,rn(Rn.get(v)||null,i,s,l,h,p)),!0}return!1}function Ml(i){var s=ms(i.target);if(s!==null){var l=Gn(s);if(l!==null){if(s=l.tag,s===13){if(s=as(l),s!==null){i.blockedOn=s,xl(i.priority,function(){Rl(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Fr(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=Qs(i.domEventName,i.eventSystemFlags,s[0],i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);gr=h,l.target.dispatchEvent(h),gr=null}else return s=wa(l),s!==null&&Ks(s),i.blockedOn=l,!1;s.shift()}return!0}function ds(i,s,l){Fr(i)&&l.delete(s)}function Ol(){oa=!1,Nt!==null&&Fr(Nt)&&(Nt=null),Qn!==null&&Fr(Qn)&&(Qn=null),Yn!==null&&Fr(Yn)&&(Yn=null),Ei.forEach(ds),Rn.forEach(ds)}function Zn(i,s){i.blockedOn===s&&(i.blockedOn=null,oa||(oa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ol)))}function Jn(i){function s(p){return Zn(p,i)}if(0<_r.length){Zn(_r[0],i);for(var l=1;l<_r.length;l++){var h=_r[l];h.blockedOn===i&&(h.blockedOn=null)}}for(Nt!==null&&Zn(Nt,i),Qn!==null&&Zn(Qn,i),Yn!==null&&Zn(Yn,i),Ei.forEach(s),Rn.forEach(s),l=0;l<Er.length;l++)h=Er[l],h.blockedOn===i&&(h.blockedOn=null);for(;0<Er.length&&(l=Er[0],l.blockedOn===null);)Ml(l),l.blockedOn===null&&Er.shift()}var jr=W.ReactCurrentBatchConfig,wi=!0;function lt(i,s,l,h){var p=qe,v=jr.transition;jr.transition=null;try{qe=1,aa(i,s,l,h)}finally{qe=p,jr.transition=v}}function nh(i,s,l,h){var p=qe,v=jr.transition;jr.transition=null;try{qe=4,aa(i,s,l,h)}finally{qe=p,jr.transition=v}}function aa(i,s,l,h){if(wi){var p=Qs(i,s,l,h);if(p===null)fh(i,s,h,fs,l),bl(i,h);else if(th(p,i,s,l,h))h.stopPropagation();else if(bl(i,h),s&4&&-1<eh.indexOf(i)){for(;p!==null;){var v=wa(p);if(v!==null&&kl(v),v=Qs(i,s,l,h),v===null&&fh(i,s,h,fs,l),v===p)break;p=v}p!==null&&h.stopPropagation()}else fh(i,s,h,null,l)}}var fs=null;function Qs(i,s,l,h){if(fs=null,i=$n(h),i=ms(i),i!==null)if(s=Gn(i),s===null)i=null;else if(l=s.tag,l===13){if(i=as(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null);return fs=i,null}function la(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Cl()){case ls:return 1;case pi:return 4;case kn:case ia:return 16;case Tl:return 536870912;default:return 16}default:return 16}}var yn=null,Ys=null,sn=null;function ua(){if(sn)return sn;var i,s=Ys,l=s.length,h,p="value"in yn?yn.value:yn.textContent,v=p.length;for(i=0;i<l&&s[i]===p[i];i++);var w=l-i;for(h=1;h<=w&&s[l-h]===p[v-h];h++);return sn=p.slice(i,1<h?1-h:void 0)}function Zs(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function wr(){return!0}function ca(){return!1}function Vt(i){function s(l,h,p,v,w){this._reactName=l,this._targetInst=p,this.type=h,this.nativeEvent=v,this.target=w,this.currentTarget=null;for(var M in i)i.hasOwnProperty(M)&&(l=i[M],this[M]=l?l(v):v[M]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?wr:ca,this.isPropagationStopped=ca,this}return re(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=wr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=wr)},persist:function(){},isPersistent:wr}),s}var Xn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Js=Vt(Xn),Sr=re({},Xn,{view:0,detail:0}),rh=Vt(Sr),Xs,Br,Si,ps=re({},Sr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Si&&(Si&&i.type==="mousemove"?(Xs=i.screenX-Si.screenX,Br=i.screenY-Si.screenY):Br=Xs=0,Si=i),Xs)},movementY:function(i){return"movementY"in i?i.movementY:Br}}),eo=Vt(ps),ha=re({},ps,{dataTransfer:0}),Dl=Vt(ha),to=re({},Sr,{relatedTarget:0}),no=Vt(to),Nl=re({},Xn,{animationName:0,elapsedTime:0,pseudoElement:0}),zr=Vt(Nl),Vl=re({},Xn,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Ul=Vt(Vl),Fl=re({},Xn,{data:0}),da=Vt(Fl),ro={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bl(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=jl[i])?!!s[i]:!1}function Cr(){return Bl}var u=re({},Sr,{key:function(i){if(i.key){var s=ro[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Zs(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Xt[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cr,charCode:function(i){return i.type==="keypress"?Zs(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Zs(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),g=Vt(u),E=re({},ps,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I=Vt(E),z=re({},Sr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cr}),Z=Vt(z),he=re({},Xn,{propertyName:0,elapsedTime:0,pseudoElement:0}),et=Vt(he),St=re({},ps,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Ke=Vt(St),xt=[9,13,27,32],_t=d&&"CompositionEvent"in window,An=null;d&&"documentMode"in document&&(An=document.documentMode);var _n=d&&"TextEvent"in window&&!An,gs=d&&(!_t||An&&8<An&&11>=An),io=" ",pp=!1;function gp(i,s){switch(i){case"keyup":return xt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mp(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var so=!1;function tS(i,s){switch(i){case"compositionend":return mp(s);case"keypress":return s.which!==32?null:(pp=!0,io);case"textInput":return i=s.data,i===io&&pp?null:i;default:return null}}function nS(i,s){if(so)return i==="compositionend"||!_t&&gp(i,s)?(i=ua(),sn=Ys=yn=null,so=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return gs&&s.locale!=="ko"?null:s.data;default:return null}}var rS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vp(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!rS[i.type]:s==="textarea"}function yp(i,s,l,h){gn(h),s=ql(s,"onChange"),0<s.length&&(l=new Js("onChange","change",null,l,h),i.push({event:l,listeners:s}))}var fa=null,pa=null;function iS(i){Np(i,0)}function zl(i){var s=co(i);if(Rt(s))return i}function sS(i,s){if(i==="change")return s}var _p=!1;if(d){var ih;if(d){var sh="oninput"in document;if(!sh){var Ep=document.createElement("div");Ep.setAttribute("oninput","return;"),sh=typeof Ep.oninput=="function"}ih=sh}else ih=!1;_p=ih&&(!document.documentMode||9<document.documentMode)}function wp(){fa&&(fa.detachEvent("onpropertychange",Sp),pa=fa=null)}function Sp(i){if(i.propertyName==="value"&&zl(pa)){var s=[];yp(s,pa,i,$n(i)),is(iS,s)}}function oS(i,s,l){i==="focusin"?(wp(),fa=s,pa=l,fa.attachEvent("onpropertychange",Sp)):i==="focusout"&&wp()}function aS(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return zl(pa)}function lS(i,s){if(i==="click")return zl(s)}function uS(i,s){if(i==="input"||i==="change")return zl(s)}function cS(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var er=typeof Object.is=="function"?Object.is:cS;function ga(i,s){if(er(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),h=Object.keys(s);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var p=l[h];if(!f.call(s,p)||!er(i[p],s[p]))return!1}return!0}function Cp(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Tp(i,s){var l=Cp(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=s&&h>=s)return{node:l,offset:s-i};i=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Cp(l)}}function Ip(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Ip(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Lp(){for(var i=window,s=At();s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=At(i.document)}return s}function oh(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function hS(i){var s=Lp(),l=i.focusedElem,h=i.selectionRange;if(s!==l&&l&&l.ownerDocument&&Ip(l.ownerDocument.documentElement,l)){if(h!==null&&oh(l)){if(s=h.start,i=h.end,i===void 0&&(i=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(i,l.value.length);else if(i=(s=l.ownerDocument||document)&&s.defaultView||window,i.getSelection){i=i.getSelection();var p=l.textContent.length,v=Math.min(h.start,p);h=h.end===void 0?v:Math.min(h.end,p),!i.extend&&v>h&&(p=h,h=v,v=p),p=Tp(l,v);var w=Tp(l,h);p&&w&&(i.rangeCount!==1||i.anchorNode!==p.node||i.anchorOffset!==p.offset||i.focusNode!==w.node||i.focusOffset!==w.offset)&&(s=s.createRange(),s.setStart(p.node,p.offset),i.removeAllRanges(),v>h?(i.addRange(s),i.extend(w.node,w.offset)):(s.setEnd(w.node,w.offset),i.addRange(s)))}}for(s=[],i=l;i=i.parentNode;)i.nodeType===1&&s.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)i=s[l],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var dS=d&&"documentMode"in document&&11>=document.documentMode,oo=null,ah=null,ma=null,lh=!1;function Pp(i,s,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;lh||oo==null||oo!==At(h)||(h=oo,"selectionStart"in h&&oh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),ma&&ga(ma,h)||(ma=h,h=ql(ah,"onSelect"),0<h.length&&(s=new Js("onSelect","select",null,s,l),i.push({event:s,listeners:h}),s.target=oo)))}function $l(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var ao={animationend:$l("Animation","AnimationEnd"),animationiteration:$l("Animation","AnimationIteration"),animationstart:$l("Animation","AnimationStart"),transitionend:$l("Transition","TransitionEnd")},uh={},kp={};d&&(kp=document.createElement("div").style,"AnimationEvent"in window||(delete ao.animationend.animation,delete ao.animationiteration.animation,delete ao.animationstart.animation),"TransitionEvent"in window||delete ao.transitionend.transition);function Wl(i){if(uh[i])return uh[i];if(!ao[i])return i;var s=ao[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in kp)return uh[i]=s[l];return i}var Rp=Wl("animationend"),Ap=Wl("animationiteration"),xp=Wl("animationstart"),bp=Wl("transitionend"),Mp=new Map,Op="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ci(i,s){Mp.set(i,s),a(s,[i])}for(var ch=0;ch<Op.length;ch++){var hh=Op[ch],fS=hh.toLowerCase(),pS=hh[0].toUpperCase()+hh.slice(1);Ci(fS,"on"+pS)}Ci(Rp,"onAnimationEnd"),Ci(Ap,"onAnimationIteration"),Ci(xp,"onAnimationStart"),Ci("dblclick","onDoubleClick"),Ci("focusin","onFocus"),Ci("focusout","onBlur"),Ci(bp,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var va="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gS=new Set("cancel close invalid load scroll toggle".split(" ").concat(va));function Dp(i,s,l){var h=i.type||"unknown-event";i.currentTarget=l,El(h,s,void 0,i),i.currentTarget=null}function Np(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],p=h.event;h=h.listeners;e:{var v=void 0;if(s)for(var w=h.length-1;0<=w;w--){var M=h[w],V=M.instance,K=M.currentTarget;if(M=M.listener,V!==v&&p.isPropagationStopped())break e;Dp(p,M,K),v=V}else for(w=0;w<h.length;w++){if(M=h[w],V=M.instance,K=M.currentTarget,M=M.listener,V!==v&&p.isPropagationStopped())break e;Dp(p,M,K),v=V}}}if(qn)throw i=ta,qn=!1,ta=null,i}function st(i,s){var l=s[_h];l===void 0&&(l=s[_h]=new Set);var h=i+"__bubble";l.has(h)||(Vp(s,i,2,!1),l.add(h))}function dh(i,s,l){var h=0;s&&(h|=4),Vp(l,i,h,s)}var Hl="_reactListening"+Math.random().toString(36).slice(2);function ya(i){if(!i[Hl]){i[Hl]=!0,r.forEach(function(l){l!=="selectionchange"&&(gS.has(l)||dh(l,!1,i),dh(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Hl]||(s[Hl]=!0,dh("selectionchange",!1,s))}}function Vp(i,s,l,h){switch(la(s)){case 1:var p=lt;break;case 4:p=nh;break;default:p=aa}l=p.bind(null,s,l,i),p=void 0,!xe||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),h?p!==void 0?i.addEventListener(s,l,{capture:!0,passive:p}):i.addEventListener(s,l,!0):p!==void 0?i.addEventListener(s,l,{passive:p}):i.addEventListener(s,l,!1)}function fh(i,s,l,h,p){var v=h;if(!(s&1)&&!(s&2)&&h!==null)e:for(;;){if(h===null)return;var w=h.tag;if(w===3||w===4){var M=h.stateNode.containerInfo;if(M===p||M.nodeType===8&&M.parentNode===p)break;if(w===4)for(w=h.return;w!==null;){var V=w.tag;if((V===3||V===4)&&(V=w.stateNode.containerInfo,V===p||V.nodeType===8&&V.parentNode===p))return;w=w.return}for(;M!==null;){if(w=ms(M),w===null)return;if(V=w.tag,V===5||V===6){h=v=w;continue e}M=M.parentNode}}h=h.return}is(function(){var K=v,se=$n(l),ae=[];e:{var ie=Mp.get(i);if(ie!==void 0){var fe=Js,_e=i;switch(i){case"keypress":if(Zs(l)===0)break e;case"keydown":case"keyup":fe=g;break;case"focusin":_e="focus",fe=no;break;case"focusout":_e="blur",fe=no;break;case"beforeblur":case"afterblur":fe=no;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=eo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=Dl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=Z;break;case Rp:case Ap:case xp:fe=zr;break;case bp:fe=et;break;case"scroll":fe=rh;break;case"wheel":fe=Ke;break;case"copy":case"cut":case"paste":fe=Ul;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=I}var Ee=(s&4)!==0,vt=!Ee&&i==="scroll",$=Ee?ie!==null?ie+"Capture":null:ie;Ee=[];for(var F=K,H;F!==null;){H=F;var ue=H.stateNode;if(H.tag===5&&ue!==null&&(H=ue,$!==null&&(ue=tt(F,$),ue!=null&&Ee.push(_a(F,ue,H)))),vt)break;F=F.return}0<Ee.length&&(ie=new fe(ie,_e,null,l,se),ae.push({event:ie,listeners:Ee}))}}if(!(s&7)){e:{if(ie=i==="mouseover"||i==="pointerover",fe=i==="mouseout"||i==="pointerout",ie&&l!==gr&&(_e=l.relatedTarget||l.fromElement)&&(ms(_e)||_e[$r]))break e;if((fe||ie)&&(ie=se.window===se?se:(ie=se.ownerDocument)?ie.defaultView||ie.parentWindow:window,fe?(_e=l.relatedTarget||l.toElement,fe=K,_e=_e?ms(_e):null,_e!==null&&(vt=Gn(_e),_e!==vt||_e.tag!==5&&_e.tag!==6)&&(_e=null)):(fe=null,_e=K),fe!==_e)){if(Ee=eo,ue="onMouseLeave",$="onMouseEnter",F="mouse",(i==="pointerout"||i==="pointerover")&&(Ee=I,ue="onPointerLeave",$="onPointerEnter",F="pointer"),vt=fe==null?ie:co(fe),H=_e==null?ie:co(_e),ie=new Ee(ue,F+"leave",fe,l,se),ie.target=vt,ie.relatedTarget=H,ue=null,ms(se)===K&&(Ee=new Ee($,F+"enter",_e,l,se),Ee.target=H,Ee.relatedTarget=vt,ue=Ee),vt=ue,fe&&_e)t:{for(Ee=fe,$=_e,F=0,H=Ee;H;H=lo(H))F++;for(H=0,ue=$;ue;ue=lo(ue))H++;for(;0<F-H;)Ee=lo(Ee),F--;for(;0<H-F;)$=lo($),H--;for(;F--;){if(Ee===$||$!==null&&Ee===$.alternate)break t;Ee=lo(Ee),$=lo($)}Ee=null}else Ee=null;fe!==null&&Up(ae,ie,fe,Ee,!1),_e!==null&&vt!==null&&Up(ae,vt,_e,Ee,!0)}}e:{if(ie=K?co(K):window,fe=ie.nodeName&&ie.nodeName.toLowerCase(),fe==="select"||fe==="input"&&ie.type==="file")var we=sS;else if(vp(ie))if(_p)we=uS;else{we=aS;var Pe=oS}else(fe=ie.nodeName)&&fe.toLowerCase()==="input"&&(ie.type==="checkbox"||ie.type==="radio")&&(we=lS);if(we&&(we=we(i,K))){yp(ae,we,l,se);break e}Pe&&Pe(i,ie,K),i==="focusout"&&(Pe=ie._wrapperState)&&Pe.controlled&&ie.type==="number"&&jn(ie,"number",ie.value)}switch(Pe=K?co(K):window,i){case"focusin":(vp(Pe)||Pe.contentEditable==="true")&&(oo=Pe,ah=K,ma=null);break;case"focusout":ma=ah=oo=null;break;case"mousedown":lh=!0;break;case"contextmenu":case"mouseup":case"dragend":lh=!1,Pp(ae,l,se);break;case"selectionchange":if(dS)break;case"keydown":case"keyup":Pp(ae,l,se)}var ke;if(_t)e:{switch(i){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else so?gp(i,l)&&(Me="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Me="onCompositionStart");Me&&(gs&&l.locale!=="ko"&&(so||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&so&&(ke=ua()):(yn=se,Ys="value"in yn?yn.value:yn.textContent,so=!0)),Pe=ql(K,Me),0<Pe.length&&(Me=new da(Me,i,null,l,se),ae.push({event:Me,listeners:Pe}),ke?Me.data=ke:(ke=mp(l),ke!==null&&(Me.data=ke)))),(ke=_n?tS(i,l):nS(i,l))&&(K=ql(K,"onBeforeInput"),0<K.length&&(se=new da("onBeforeInput","beforeinput",null,l,se),ae.push({event:se,listeners:K}),se.data=ke))}Np(ae,s)})}function _a(i,s,l){return{instance:i,listener:s,currentTarget:l}}function ql(i,s){for(var l=s+"Capture",h=[];i!==null;){var p=i,v=p.stateNode;p.tag===5&&v!==null&&(p=v,v=tt(i,l),v!=null&&h.unshift(_a(i,v,p)),v=tt(i,s),v!=null&&h.push(_a(i,v,p))),i=i.return}return h}function lo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Up(i,s,l,h,p){for(var v=s._reactName,w=[];l!==null&&l!==h;){var M=l,V=M.alternate,K=M.stateNode;if(V!==null&&V===h)break;M.tag===5&&K!==null&&(M=K,p?(V=tt(l,v),V!=null&&w.unshift(_a(l,V,M))):p||(V=tt(l,v),V!=null&&w.push(_a(l,V,M)))),l=l.return}w.length!==0&&i.push({event:s,listeners:w})}var mS=/\r\n?/g,vS=/\u0000|\uFFFD/g;function Fp(i){return(typeof i=="string"?i:""+i).replace(mS,`
`).replace(vS,"")}function Gl(i,s,l){if(s=Fp(s),Fp(i)!==s&&l)throw Error(t(425))}function Kl(){}var ph=null,gh=null;function mh(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var vh=typeof setTimeout=="function"?setTimeout:void 0,yS=typeof clearTimeout=="function"?clearTimeout:void 0,jp=typeof Promise=="function"?Promise:void 0,_S=typeof queueMicrotask=="function"?queueMicrotask:typeof jp<"u"?function(i){return jp.resolve(null).then(i).catch(ES)}:vh;function ES(i){setTimeout(function(){throw i})}function yh(i,s){var l=s,h=0;do{var p=l.nextSibling;if(i.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(h===0){i.removeChild(p),Jn(s);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=p}while(l);Jn(s)}function Ti(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return i}function Bp(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return i;s--}else l==="/$"&&s++}i=i.previousSibling}return null}var uo=Math.random().toString(36).slice(2),Tr="__reactFiber$"+uo,Ea="__reactProps$"+uo,$r="__reactContainer$"+uo,_h="__reactEvents$"+uo,wS="__reactListeners$"+uo,SS="__reactHandles$"+uo;function ms(i){var s=i[Tr];if(s)return s;for(var l=i.parentNode;l;){if(s=l[$r]||l[Tr]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=Bp(i);i!==null;){if(l=i[Tr])return l;i=Bp(i)}return s}i=l,l=i.parentNode}return null}function wa(i){return i=i[Tr]||i[$r],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function co(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function Ql(i){return i[Ea]||null}var Eh=[],ho=-1;function Ii(i){return{current:i}}function ot(i){0>ho||(i.current=Eh[ho],Eh[ho]=null,ho--)}function it(i,s){ho++,Eh[ho]=i.current,i.current=s}var Li={},$t=Ii(Li),on=Ii(!1),vs=Li;function fo(i,s){var l=i.type.contextTypes;if(!l)return Li;var h=i.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var p={},v;for(v in l)p[v]=s[v];return h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=p),p}function an(i){return i=i.childContextTypes,i!=null}function Yl(){ot(on),ot($t)}function zp(i,s,l){if($t.current!==Li)throw Error(t(168));it($t,s),it(on,l)}function $p(i,s,l){var h=i.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var p in h)if(!(p in s))throw Error(t(108,Ie(i)||"Unknown",p));return re({},l,h)}function Zl(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Li,vs=$t.current,it($t,i),it(on,on.current),!0}function Wp(i,s,l){var h=i.stateNode;if(!h)throw Error(t(169));l?(i=$p(i,s,vs),h.__reactInternalMemoizedMergedChildContext=i,ot(on),ot($t),it($t,i)):ot(on),it(on,l)}var Wr=null,Jl=!1,wh=!1;function Hp(i){Wr===null?Wr=[i]:Wr.push(i)}function CS(i){Jl=!0,Hp(i)}function Pi(){if(!wh&&Wr!==null){wh=!0;var i=0,s=qe;try{var l=Wr;for(qe=1;i<l.length;i++){var h=l[i];do h=h(!0);while(h!==null)}Wr=null,Jl=!1}catch(p){throw Wr!==null&&(Wr=Wr.slice(i+1)),Hs(ls,Pi),p}finally{qe=s,wh=!1}}return null}var po=[],go=0,Xl=null,eu=0,xn=[],bn=0,ys=null,Hr=1,qr="";function _s(i,s){po[go++]=eu,po[go++]=Xl,Xl=i,eu=s}function qp(i,s,l){xn[bn++]=Hr,xn[bn++]=qr,xn[bn++]=ys,ys=i;var h=Hr;i=qr;var p=32-Jt(h)-1;h&=~(1<<p),l+=1;var v=32-Jt(s)+p;if(30<v){var w=p-p%5;v=(h&(1<<w)-1).toString(32),h>>=w,p-=w,Hr=1<<32-Jt(s)+p|l<<p|h,qr=v+i}else Hr=1<<v|l<<p|h,qr=i}function Sh(i){i.return!==null&&(_s(i,1),qp(i,1,0))}function Ch(i){for(;i===Xl;)Xl=po[--go],po[go]=null,eu=po[--go],po[go]=null;for(;i===ys;)ys=xn[--bn],xn[bn]=null,qr=xn[--bn],xn[bn]=null,Hr=xn[--bn],xn[bn]=null}var En=null,wn=null,ut=!1,tr=null;function Gp(i,s){var l=Nn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=i,s=i.deletions,s===null?(i.deletions=[l],i.flags|=16):s.push(l)}function Kp(i,s){switch(i.tag){case 5:var l=i.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(i.stateNode=s,En=i,wn=Ti(s.firstChild),!0):!1;case 6:return s=i.pendingProps===""||s.nodeType!==3?null:s,s!==null?(i.stateNode=s,En=i,wn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=ys!==null?{id:Hr,overflow:qr}:null,i.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=Nn(18,null,null,0),l.stateNode=s,l.return=i,i.child=l,En=i,wn=null,!0):!1;default:return!1}}function Th(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Ih(i){if(ut){var s=wn;if(s){var l=s;if(!Kp(i,s)){if(Th(i))throw Error(t(418));s=Ti(l.nextSibling);var h=En;s&&Kp(i,s)?Gp(h,l):(i.flags=i.flags&-4097|2,ut=!1,En=i)}}else{if(Th(i))throw Error(t(418));i.flags=i.flags&-4097|2,ut=!1,En=i}}}function Qp(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;En=i}function tu(i){if(i!==En)return!1;if(!ut)return Qp(i),ut=!0,!1;var s;if((s=i.tag!==3)&&!(s=i.tag!==5)&&(s=i.type,s=s!=="head"&&s!=="body"&&!mh(i.type,i.memoizedProps)),s&&(s=wn)){if(Th(i))throw Yp(),Error(t(418));for(;s;)Gp(i,s),s=Ti(s.nextSibling)}if(Qp(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"){if(s===0){wn=Ti(i.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}i=i.nextSibling}wn=null}}else wn=En?Ti(i.stateNode.nextSibling):null;return!0}function Yp(){for(var i=wn;i;)i=Ti(i.nextSibling)}function mo(){wn=En=null,ut=!1}function Lh(i){tr===null?tr=[i]:tr.push(i)}var TS=W.ReactCurrentBatchConfig;function Sa(i,s,l){if(i=l.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var h=l.stateNode}if(!h)throw Error(t(147,i));var p=h,v=""+i;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===v?s.ref:(s=function(w){var M=p.refs;w===null?delete M[v]:M[v]=w},s._stringRef=v,s)}if(typeof i!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,i))}return i}function nu(i,s){throw i=Object.prototype.toString.call(s),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i))}function Zp(i){var s=i._init;return s(i._payload)}function Jp(i){function s($,F){if(i){var H=$.deletions;H===null?($.deletions=[F],$.flags|=16):H.push(F)}}function l($,F){if(!i)return null;for(;F!==null;)s($,F),F=F.sibling;return null}function h($,F){for($=new Map;F!==null;)F.key!==null?$.set(F.key,F):$.set(F.index,F),F=F.sibling;return $}function p($,F){return $=Di($,F),$.index=0,$.sibling=null,$}function v($,F,H){return $.index=H,i?(H=$.alternate,H!==null?(H=H.index,H<F?($.flags|=2,F):H):($.flags|=2,F)):($.flags|=1048576,F)}function w($){return i&&$.alternate===null&&($.flags|=2),$}function M($,F,H,ue){return F===null||F.tag!==6?(F=vd(H,$.mode,ue),F.return=$,F):(F=p(F,H),F.return=$,F)}function V($,F,H,ue){var we=H.type;return we===R?se($,F,H.props.children,ue,H.key):F!==null&&(F.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===Ae&&Zp(we)===F.type)?(ue=p(F,H.props),ue.ref=Sa($,F,H),ue.return=$,ue):(ue=Lu(H.type,H.key,H.props,null,$.mode,ue),ue.ref=Sa($,F,H),ue.return=$,ue)}function K($,F,H,ue){return F===null||F.tag!==4||F.stateNode.containerInfo!==H.containerInfo||F.stateNode.implementation!==H.implementation?(F=yd(H,$.mode,ue),F.return=$,F):(F=p(F,H.children||[]),F.return=$,F)}function se($,F,H,ue,we){return F===null||F.tag!==7?(F=Ps(H,$.mode,ue,we),F.return=$,F):(F=p(F,H),F.return=$,F)}function ae($,F,H){if(typeof F=="string"&&F!==""||typeof F=="number")return F=vd(""+F,$.mode,H),F.return=$,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case q:return H=Lu(F.type,F.key,F.props,null,$.mode,H),H.ref=Sa($,null,F),H.return=$,H;case Q:return F=yd(F,$.mode,H),F.return=$,F;case Ae:var ue=F._init;return ae($,ue(F._payload),H)}if(Tn(F)||ce(F))return F=Ps(F,$.mode,H,null),F.return=$,F;nu($,F)}return null}function ie($,F,H,ue){var we=F!==null?F.key:null;if(typeof H=="string"&&H!==""||typeof H=="number")return we!==null?null:M($,F,""+H,ue);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case q:return H.key===we?V($,F,H,ue):null;case Q:return H.key===we?K($,F,H,ue):null;case Ae:return we=H._init,ie($,F,we(H._payload),ue)}if(Tn(H)||ce(H))return we!==null?null:se($,F,H,ue,null);nu($,H)}return null}function fe($,F,H,ue,we){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return $=$.get(H)||null,M(F,$,""+ue,we);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case q:return $=$.get(ue.key===null?H:ue.key)||null,V(F,$,ue,we);case Q:return $=$.get(ue.key===null?H:ue.key)||null,K(F,$,ue,we);case Ae:var Pe=ue._init;return fe($,F,H,Pe(ue._payload),we)}if(Tn(ue)||ce(ue))return $=$.get(H)||null,se(F,$,ue,we,null);nu(F,ue)}return null}function _e($,F,H,ue){for(var we=null,Pe=null,ke=F,Me=F=0,Ot=null;ke!==null&&Me<H.length;Me++){ke.index>Me?(Ot=ke,ke=null):Ot=ke.sibling;var Ze=ie($,ke,H[Me],ue);if(Ze===null){ke===null&&(ke=Ot);break}i&&ke&&Ze.alternate===null&&s($,ke),F=v(Ze,F,Me),Pe===null?we=Ze:Pe.sibling=Ze,Pe=Ze,ke=Ot}if(Me===H.length)return l($,ke),ut&&_s($,Me),we;if(ke===null){for(;Me<H.length;Me++)ke=ae($,H[Me],ue),ke!==null&&(F=v(ke,F,Me),Pe===null?we=ke:Pe.sibling=ke,Pe=ke);return ut&&_s($,Me),we}for(ke=h($,ke);Me<H.length;Me++)Ot=fe(ke,$,Me,H[Me],ue),Ot!==null&&(i&&Ot.alternate!==null&&ke.delete(Ot.key===null?Me:Ot.key),F=v(Ot,F,Me),Pe===null?we=Ot:Pe.sibling=Ot,Pe=Ot);return i&&ke.forEach(function(Ni){return s($,Ni)}),ut&&_s($,Me),we}function Ee($,F,H,ue){var we=ce(H);if(typeof we!="function")throw Error(t(150));if(H=we.call(H),H==null)throw Error(t(151));for(var Pe=we=null,ke=F,Me=F=0,Ot=null,Ze=H.next();ke!==null&&!Ze.done;Me++,Ze=H.next()){ke.index>Me?(Ot=ke,ke=null):Ot=ke.sibling;var Ni=ie($,ke,Ze.value,ue);if(Ni===null){ke===null&&(ke=Ot);break}i&&ke&&Ni.alternate===null&&s($,ke),F=v(Ni,F,Me),Pe===null?we=Ni:Pe.sibling=Ni,Pe=Ni,ke=Ot}if(Ze.done)return l($,ke),ut&&_s($,Me),we;if(ke===null){for(;!Ze.done;Me++,Ze=H.next())Ze=ae($,Ze.value,ue),Ze!==null&&(F=v(Ze,F,Me),Pe===null?we=Ze:Pe.sibling=Ze,Pe=Ze);return ut&&_s($,Me),we}for(ke=h($,ke);!Ze.done;Me++,Ze=H.next())Ze=fe(ke,$,Me,Ze.value,ue),Ze!==null&&(i&&Ze.alternate!==null&&ke.delete(Ze.key===null?Me:Ze.key),F=v(Ze,F,Me),Pe===null?we=Ze:Pe.sibling=Ze,Pe=Ze);return i&&ke.forEach(function(nC){return s($,nC)}),ut&&_s($,Me),we}function vt($,F,H,ue){if(typeof H=="object"&&H!==null&&H.type===R&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case q:e:{for(var we=H.key,Pe=F;Pe!==null;){if(Pe.key===we){if(we=H.type,we===R){if(Pe.tag===7){l($,Pe.sibling),F=p(Pe,H.props.children),F.return=$,$=F;break e}}else if(Pe.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===Ae&&Zp(we)===Pe.type){l($,Pe.sibling),F=p(Pe,H.props),F.ref=Sa($,Pe,H),F.return=$,$=F;break e}l($,Pe);break}else s($,Pe);Pe=Pe.sibling}H.type===R?(F=Ps(H.props.children,$.mode,ue,H.key),F.return=$,$=F):(ue=Lu(H.type,H.key,H.props,null,$.mode,ue),ue.ref=Sa($,F,H),ue.return=$,$=ue)}return w($);case Q:e:{for(Pe=H.key;F!==null;){if(F.key===Pe)if(F.tag===4&&F.stateNode.containerInfo===H.containerInfo&&F.stateNode.implementation===H.implementation){l($,F.sibling),F=p(F,H.children||[]),F.return=$,$=F;break e}else{l($,F);break}else s($,F);F=F.sibling}F=yd(H,$.mode,ue),F.return=$,$=F}return w($);case Ae:return Pe=H._init,vt($,F,Pe(H._payload),ue)}if(Tn(H))return _e($,F,H,ue);if(ce(H))return Ee($,F,H,ue);nu($,H)}return typeof H=="string"&&H!==""||typeof H=="number"?(H=""+H,F!==null&&F.tag===6?(l($,F.sibling),F=p(F,H),F.return=$,$=F):(l($,F),F=vd(H,$.mode,ue),F.return=$,$=F),w($)):l($,F)}return vt}var vo=Jp(!0),Xp=Jp(!1),ru=Ii(null),iu=null,yo=null,Ph=null;function kh(){Ph=yo=iu=null}function Rh(i){var s=ru.current;ot(ru),i._currentValue=s}function Ah(i,s,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),i===l)break;i=i.return}}function _o(i,s){iu=i,Ph=yo=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&s&&(ln=!0),i.firstContext=null)}function Mn(i){var s=i._currentValue;if(Ph!==i)if(i={context:i,memoizedValue:s,next:null},yo===null){if(iu===null)throw Error(t(308));yo=i,iu.dependencies={lanes:0,firstContext:i}}else yo=yo.next=i;return s}var Es=null;function xh(i){Es===null?Es=[i]:Es.push(i)}function eg(i,s,l,h){var p=s.interleaved;return p===null?(l.next=l,xh(s)):(l.next=p.next,p.next=l),s.interleaved=l,Gr(i,h)}function Gr(i,s){i.lanes|=s;var l=i.alternate;for(l!==null&&(l.lanes|=s),l=i,i=i.return;i!==null;)i.childLanes|=s,l=i.alternate,l!==null&&(l.childLanes|=s),l=i,i=i.return;return l.tag===3?l.stateNode:null}var ki=!1;function bh(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tg(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Kr(i,s){return{eventTime:i,lane:s,tag:0,payload:null,callback:null,next:null}}function Ri(i,s,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,Ye&2){var p=h.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),h.pending=s,Gr(i,l)}return p=h.interleaved,p===null?(s.next=s,xh(h)):(s.next=p.next,p.next=s),h.interleaved=s,Gr(i,l)}function su(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var h=s.lanes;h&=i.pendingLanes,l|=h,s.lanes=l,yi(i,l)}}function ng(i,s){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var p=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var w={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};v===null?p=v=w:v=v.next=w,l=l.next}while(l!==null);v===null?p=v=s:v=v.next=s}else p=v=s;l={baseState:h.baseState,firstBaseUpdate:p,lastBaseUpdate:v,shared:h.shared,effects:h.effects},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}function ou(i,s,l,h){var p=i.updateQueue;ki=!1;var v=p.firstBaseUpdate,w=p.lastBaseUpdate,M=p.shared.pending;if(M!==null){p.shared.pending=null;var V=M,K=V.next;V.next=null,w===null?v=K:w.next=K,w=V;var se=i.alternate;se!==null&&(se=se.updateQueue,M=se.lastBaseUpdate,M!==w&&(M===null?se.firstBaseUpdate=K:M.next=K,se.lastBaseUpdate=V))}if(v!==null){var ae=p.baseState;w=0,se=K=V=null,M=v;do{var ie=M.lane,fe=M.eventTime;if((h&ie)===ie){se!==null&&(se=se.next={eventTime:fe,lane:0,tag:M.tag,payload:M.payload,callback:M.callback,next:null});e:{var _e=i,Ee=M;switch(ie=s,fe=l,Ee.tag){case 1:if(_e=Ee.payload,typeof _e=="function"){ae=_e.call(fe,ae,ie);break e}ae=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=Ee.payload,ie=typeof _e=="function"?_e.call(fe,ae,ie):_e,ie==null)break e;ae=re({},ae,ie);break e;case 2:ki=!0}}M.callback!==null&&M.lane!==0&&(i.flags|=64,ie=p.effects,ie===null?p.effects=[M]:ie.push(M))}else fe={eventTime:fe,lane:ie,tag:M.tag,payload:M.payload,callback:M.callback,next:null},se===null?(K=se=fe,V=ae):se=se.next=fe,w|=ie;if(M=M.next,M===null){if(M=p.shared.pending,M===null)break;ie=M,M=ie.next,ie.next=null,p.lastBaseUpdate=ie,p.shared.pending=null}}while(!0);if(se===null&&(V=ae),p.baseState=V,p.firstBaseUpdate=K,p.lastBaseUpdate=se,s=p.shared.interleaved,s!==null){p=s;do w|=p.lane,p=p.next;while(p!==s)}else v===null&&(p.shared.lanes=0);Cs|=w,i.lanes=w,i.memoizedState=ae}}function rg(i,s,l){if(i=s.effects,s.effects=null,i!==null)for(s=0;s<i.length;s++){var h=i[s],p=h.callback;if(p!==null){if(h.callback=null,h=l,typeof p!="function")throw Error(t(191,p));p.call(h)}}}var Ca={},Ir=Ii(Ca),Ta=Ii(Ca),Ia=Ii(Ca);function ws(i){if(i===Ca)throw Error(t(174));return i}function Mh(i,s){switch(it(Ia,s),it(Ta,i),it(Ir,Ca),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:at(null,"");break;default:i=i===8?s.parentNode:s,s=i.namespaceURI||null,i=i.tagName,s=at(s,i)}ot(Ir),it(Ir,s)}function Eo(){ot(Ir),ot(Ta),ot(Ia)}function ig(i){ws(Ia.current);var s=ws(Ir.current),l=at(s,i.type);s!==l&&(it(Ta,i),it(Ir,l))}function Oh(i){Ta.current===i&&(ot(Ir),ot(Ta))}var ht=Ii(0);function au(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Dh=[];function Nh(){for(var i=0;i<Dh.length;i++)Dh[i]._workInProgressVersionPrimary=null;Dh.length=0}var lu=W.ReactCurrentDispatcher,Vh=W.ReactCurrentBatchConfig,Ss=0,dt=null,Ct=null,bt=null,uu=!1,La=!1,Pa=0,IS=0;function Wt(){throw Error(t(321))}function Uh(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!er(i[l],s[l]))return!1;return!0}function Fh(i,s,l,h,p,v){if(Ss=v,dt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,lu.current=i===null||i.memoizedState===null?RS:AS,i=l(h,p),La){v=0;do{if(La=!1,Pa=0,25<=v)throw Error(t(301));v+=1,bt=Ct=null,s.updateQueue=null,lu.current=xS,i=l(h,p)}while(La)}if(lu.current=du,s=Ct!==null&&Ct.next!==null,Ss=0,bt=Ct=dt=null,uu=!1,s)throw Error(t(300));return i}function jh(){var i=Pa!==0;return Pa=0,i}function Lr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?dt.memoizedState=bt=i:bt=bt.next=i,bt}function On(){if(Ct===null){var i=dt.alternate;i=i!==null?i.memoizedState:null}else i=Ct.next;var s=bt===null?dt.memoizedState:bt.next;if(s!==null)bt=s,Ct=i;else{if(i===null)throw Error(t(310));Ct=i,i={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},bt===null?dt.memoizedState=bt=i:bt=bt.next=i}return bt}function ka(i,s){return typeof s=="function"?s(i):s}function Bh(i){var s=On(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var h=Ct,p=h.baseQueue,v=l.pending;if(v!==null){if(p!==null){var w=p.next;p.next=v.next,v.next=w}h.baseQueue=p=v,l.pending=null}if(p!==null){v=p.next,h=h.baseState;var M=w=null,V=null,K=v;do{var se=K.lane;if((Ss&se)===se)V!==null&&(V=V.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),h=K.hasEagerState?K.eagerState:i(h,K.action);else{var ae={lane:se,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};V===null?(M=V=ae,w=h):V=V.next=ae,dt.lanes|=se,Cs|=se}K=K.next}while(K!==null&&K!==v);V===null?w=h:V.next=M,er(h,s.memoizedState)||(ln=!0),s.memoizedState=h,s.baseState=w,s.baseQueue=V,l.lastRenderedState=h}if(i=l.interleaved,i!==null){p=i;do v=p.lane,dt.lanes|=v,Cs|=v,p=p.next;while(p!==i)}else p===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function zh(i){var s=On(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var h=l.dispatch,p=l.pending,v=s.memoizedState;if(p!==null){l.pending=null;var w=p=p.next;do v=i(v,w.action),w=w.next;while(w!==p);er(v,s.memoizedState)||(ln=!0),s.memoizedState=v,s.baseQueue===null&&(s.baseState=v),l.lastRenderedState=v}return[v,h]}function sg(){}function og(i,s){var l=dt,h=On(),p=s(),v=!er(h.memoizedState,p);if(v&&(h.memoizedState=p,ln=!0),h=h.queue,$h(ug.bind(null,l,h,i),[i]),h.getSnapshot!==s||v||bt!==null&&bt.memoizedState.tag&1){if(l.flags|=2048,Ra(9,lg.bind(null,l,h,p,s),void 0,null),Mt===null)throw Error(t(349));Ss&30||ag(l,s,p)}return p}function ag(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=dt.updateQueue,s===null?(s={lastEffect:null,stores:null},dt.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function lg(i,s,l,h){s.value=l,s.getSnapshot=h,cg(s)&&hg(i)}function ug(i,s,l){return l(function(){cg(s)&&hg(i)})}function cg(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!er(i,l)}catch{return!0}}function hg(i){var s=Gr(i,1);s!==null&&sr(s,i,1,-1)}function dg(i){var s=Lr();return typeof i=="function"&&(i=i()),s.memoizedState=s.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:i},s.queue=i,i=i.dispatch=kS.bind(null,dt,i),[s.memoizedState,i]}function Ra(i,s,l,h){return i={tag:i,create:s,destroy:l,deps:h,next:null},s=dt.updateQueue,s===null?(s={lastEffect:null,stores:null},dt.updateQueue=s,s.lastEffect=i.next=i):(l=s.lastEffect,l===null?s.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,s.lastEffect=i)),i}function fg(){return On().memoizedState}function cu(i,s,l,h){var p=Lr();dt.flags|=i,p.memoizedState=Ra(1|s,l,void 0,h===void 0?null:h)}function hu(i,s,l,h){var p=On();h=h===void 0?null:h;var v=void 0;if(Ct!==null){var w=Ct.memoizedState;if(v=w.destroy,h!==null&&Uh(h,w.deps)){p.memoizedState=Ra(s,l,v,h);return}}dt.flags|=i,p.memoizedState=Ra(1|s,l,v,h)}function pg(i,s){return cu(8390656,8,i,s)}function $h(i,s){return hu(2048,8,i,s)}function gg(i,s){return hu(4,2,i,s)}function mg(i,s){return hu(4,4,i,s)}function vg(i,s){if(typeof s=="function")return i=i(),s(i),function(){s(null)};if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function yg(i,s,l){return l=l!=null?l.concat([i]):null,hu(4,4,vg.bind(null,s,i),l)}function Wh(){}function _g(i,s){var l=On();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&Uh(s,h[1])?h[0]:(l.memoizedState=[i,s],i)}function Eg(i,s){var l=On();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&Uh(s,h[1])?h[0]:(i=i(),l.memoizedState=[i,s],i)}function wg(i,s,l){return Ss&21?(er(l,s)||(l=hs(),dt.lanes|=l,Cs|=l,i.baseState=!0),s):(i.baseState&&(i.baseState=!1,ln=!0),i.memoizedState=l)}function LS(i,s){var l=qe;qe=l!==0&&4>l?l:4,i(!0);var h=Vh.transition;Vh.transition={};try{i(!1),s()}finally{qe=l,Vh.transition=h}}function Sg(){return On().memoizedState}function PS(i,s,l){var h=Mi(i);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},Cg(i))Tg(s,l);else if(l=eg(i,s,l,h),l!==null){var p=tn();sr(l,i,h,p),Ig(l,s,h)}}function kS(i,s,l){var h=Mi(i),p={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(Cg(i))Tg(s,p);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=s.lastRenderedReducer,v!==null))try{var w=s.lastRenderedState,M=v(w,l);if(p.hasEagerState=!0,p.eagerState=M,er(M,w)){var V=s.interleaved;V===null?(p.next=p,xh(s)):(p.next=V.next,V.next=p),s.interleaved=p;return}}catch{}finally{}l=eg(i,s,p,h),l!==null&&(p=tn(),sr(l,i,h,p),Ig(l,s,h))}}function Cg(i){var s=i.alternate;return i===dt||s!==null&&s===dt}function Tg(i,s){La=uu=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function Ig(i,s,l){if(l&4194240){var h=s.lanes;h&=i.pendingLanes,l|=h,s.lanes=l,yi(i,l)}}var du={readContext:Mn,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useInsertionEffect:Wt,useLayoutEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useMutableSource:Wt,useSyncExternalStore:Wt,useId:Wt,unstable_isNewReconciler:!1},RS={readContext:Mn,useCallback:function(i,s){return Lr().memoizedState=[i,s===void 0?null:s],i},useContext:Mn,useEffect:pg,useImperativeHandle:function(i,s,l){return l=l!=null?l.concat([i]):null,cu(4194308,4,vg.bind(null,s,i),l)},useLayoutEffect:function(i,s){return cu(4194308,4,i,s)},useInsertionEffect:function(i,s){return cu(4,2,i,s)},useMemo:function(i,s){var l=Lr();return s=s===void 0?null:s,i=i(),l.memoizedState=[i,s],i},useReducer:function(i,s,l){var h=Lr();return s=l!==void 0?l(s):s,h.memoizedState=h.baseState=s,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:s},h.queue=i,i=i.dispatch=PS.bind(null,dt,i),[h.memoizedState,i]},useRef:function(i){var s=Lr();return i={current:i},s.memoizedState=i},useState:dg,useDebugValue:Wh,useDeferredValue:function(i){return Lr().memoizedState=i},useTransition:function(){var i=dg(!1),s=i[0];return i=LS.bind(null,i[1]),Lr().memoizedState=i,[s,i]},useMutableSource:function(){},useSyncExternalStore:function(i,s,l){var h=dt,p=Lr();if(ut){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),Mt===null)throw Error(t(349));Ss&30||ag(h,s,l)}p.memoizedState=l;var v={value:l,getSnapshot:s};return p.queue=v,pg(ug.bind(null,h,v,i),[i]),h.flags|=2048,Ra(9,lg.bind(null,h,v,l,s),void 0,null),l},useId:function(){var i=Lr(),s=Mt.identifierPrefix;if(ut){var l=qr,h=Hr;l=(h&~(1<<32-Jt(h)-1)).toString(32)+l,s=":"+s+"R"+l,l=Pa++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=IS++,s=":"+s+"r"+l.toString(32)+":";return i.memoizedState=s},unstable_isNewReconciler:!1},AS={readContext:Mn,useCallback:_g,useContext:Mn,useEffect:$h,useImperativeHandle:yg,useInsertionEffect:gg,useLayoutEffect:mg,useMemo:Eg,useReducer:Bh,useRef:fg,useState:function(){return Bh(ka)},useDebugValue:Wh,useDeferredValue:function(i){var s=On();return wg(s,Ct.memoizedState,i)},useTransition:function(){var i=Bh(ka)[0],s=On().memoizedState;return[i,s]},useMutableSource:sg,useSyncExternalStore:og,useId:Sg,unstable_isNewReconciler:!1},xS={readContext:Mn,useCallback:_g,useContext:Mn,useEffect:$h,useImperativeHandle:yg,useInsertionEffect:gg,useLayoutEffect:mg,useMemo:Eg,useReducer:zh,useRef:fg,useState:function(){return zh(ka)},useDebugValue:Wh,useDeferredValue:function(i){var s=On();return Ct===null?s.memoizedState=i:wg(s,Ct.memoizedState,i)},useTransition:function(){var i=zh(ka)[0],s=On().memoizedState;return[i,s]},useMutableSource:sg,useSyncExternalStore:og,useId:Sg,unstable_isNewReconciler:!1};function nr(i,s){if(i&&i.defaultProps){s=re({},s),i=i.defaultProps;for(var l in i)s[l]===void 0&&(s[l]=i[l]);return s}return s}function Hh(i,s,l,h){s=i.memoizedState,l=l(h,s),l=l==null?s:re({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var fu={isMounted:function(i){return(i=i._reactInternals)?Gn(i)===i:!1},enqueueSetState:function(i,s,l){i=i._reactInternals;var h=tn(),p=Mi(i),v=Kr(h,p);v.payload=s,l!=null&&(v.callback=l),s=Ri(i,v,p),s!==null&&(sr(s,i,p,h),su(s,i,p))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var h=tn(),p=Mi(i),v=Kr(h,p);v.tag=1,v.payload=s,l!=null&&(v.callback=l),s=Ri(i,v,p),s!==null&&(sr(s,i,p,h),su(s,i,p))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=tn(),h=Mi(i),p=Kr(l,h);p.tag=2,s!=null&&(p.callback=s),s=Ri(i,p,h),s!==null&&(sr(s,i,h,l),su(s,i,h))}};function Lg(i,s,l,h,p,v,w){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,v,w):s.prototype&&s.prototype.isPureReactComponent?!ga(l,h)||!ga(p,v):!0}function Pg(i,s,l){var h=!1,p=Li,v=s.contextType;return typeof v=="object"&&v!==null?v=Mn(v):(p=an(s)?vs:$t.current,h=s.contextTypes,v=(h=h!=null)?fo(i,p):Li),s=new s(l,v),i.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=fu,i.stateNode=s,s._reactInternals=i,h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=p,i.__reactInternalMemoizedMaskedChildContext=v),s}function kg(i,s,l,h){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,h),s.state!==i&&fu.enqueueReplaceState(s,s.state,null)}function qh(i,s,l,h){var p=i.stateNode;p.props=l,p.state=i.memoizedState,p.refs={},bh(i);var v=s.contextType;typeof v=="object"&&v!==null?p.context=Mn(v):(v=an(s)?vs:$t.current,p.context=fo(i,v)),p.state=i.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(Hh(i,s,v,l),p.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(s=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),s!==p.state&&fu.enqueueReplaceState(p,p.state,null),ou(i,l,p,h),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308)}function wo(i,s){try{var l="",h=s;do l+=G(h),h=h.return;while(h);var p=l}catch(v){p=`
Error generating stack: `+v.message+`
`+v.stack}return{value:i,source:s,stack:p,digest:null}}function Gh(i,s,l){return{value:i,source:null,stack:l??null,digest:s??null}}function Kh(i,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var bS=typeof WeakMap=="function"?WeakMap:Map;function Rg(i,s,l){l=Kr(-1,l),l.tag=3,l.payload={element:null};var h=s.value;return l.callback=function(){Eu||(Eu=!0,ud=h),Kh(i,s)},l}function Ag(i,s,l){l=Kr(-1,l),l.tag=3;var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var p=s.value;l.payload=function(){return h(p)},l.callback=function(){Kh(i,s)}}var v=i.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(l.callback=function(){Kh(i,s),typeof h!="function"&&(xi===null?xi=new Set([this]):xi.add(this));var w=s.stack;this.componentDidCatch(s.value,{componentStack:w!==null?w:""})}),l}function xg(i,s,l){var h=i.pingCache;if(h===null){h=i.pingCache=new bS;var p=new Set;h.set(s,p)}else p=h.get(s),p===void 0&&(p=new Set,h.set(s,p));p.has(l)||(p.add(l),i=qS.bind(null,i,s,l),s.then(i,i))}function bg(i){do{var s;if((s=i.tag===13)&&(s=i.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return i;i=i.return}while(i!==null);return null}function Mg(i,s,l,h,p){return i.mode&1?(i.flags|=65536,i.lanes=p,i):(i===s?i.flags|=65536:(i.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=Kr(-1,1),s.tag=2,Ri(l,s,1))),l.lanes|=1),i)}var MS=W.ReactCurrentOwner,ln=!1;function en(i,s,l,h){s.child=i===null?Xp(s,null,l,h):vo(s,i.child,l,h)}function Og(i,s,l,h,p){l=l.render;var v=s.ref;return _o(s,p),h=Fh(i,s,l,h,v,p),l=jh(),i!==null&&!ln?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~p,Qr(i,s,p)):(ut&&l&&Sh(s),s.flags|=1,en(i,s,h,p),s.child)}function Dg(i,s,l,h,p){if(i===null){var v=l.type;return typeof v=="function"&&!md(v)&&v.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=v,Ng(i,s,v,h,p)):(i=Lu(l.type,null,h,s,s.mode,p),i.ref=s.ref,i.return=s,s.child=i)}if(v=i.child,!(i.lanes&p)){var w=v.memoizedProps;if(l=l.compare,l=l!==null?l:ga,l(w,h)&&i.ref===s.ref)return Qr(i,s,p)}return s.flags|=1,i=Di(v,h),i.ref=s.ref,i.return=s,s.child=i}function Ng(i,s,l,h,p){if(i!==null){var v=i.memoizedProps;if(ga(v,h)&&i.ref===s.ref)if(ln=!1,s.pendingProps=h=v,(i.lanes&p)!==0)i.flags&131072&&(ln=!0);else return s.lanes=i.lanes,Qr(i,s,p)}return Qh(i,s,l,h,p)}function Vg(i,s,l){var h=s.pendingProps,p=h.children,v=i!==null?i.memoizedState:null;if(h.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},it(Co,Sn),Sn|=l;else{if(!(l&1073741824))return i=v!==null?v.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:i,cachePool:null,transitions:null},s.updateQueue=null,it(Co,Sn),Sn|=i,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=v!==null?v.baseLanes:l,it(Co,Sn),Sn|=h}else v!==null?(h=v.baseLanes|l,s.memoizedState=null):h=l,it(Co,Sn),Sn|=h;return en(i,s,p,l),s.child}function Ug(i,s){var l=s.ref;(i===null&&l!==null||i!==null&&i.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function Qh(i,s,l,h,p){var v=an(l)?vs:$t.current;return v=fo(s,v),_o(s,p),l=Fh(i,s,l,h,v,p),h=jh(),i!==null&&!ln?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~p,Qr(i,s,p)):(ut&&h&&Sh(s),s.flags|=1,en(i,s,l,p),s.child)}function Fg(i,s,l,h,p){if(an(l)){var v=!0;Zl(s)}else v=!1;if(_o(s,p),s.stateNode===null)gu(i,s),Pg(s,l,h),qh(s,l,h,p),h=!0;else if(i===null){var w=s.stateNode,M=s.memoizedProps;w.props=M;var V=w.context,K=l.contextType;typeof K=="object"&&K!==null?K=Mn(K):(K=an(l)?vs:$t.current,K=fo(s,K));var se=l.getDerivedStateFromProps,ae=typeof se=="function"||typeof w.getSnapshotBeforeUpdate=="function";ae||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(M!==h||V!==K)&&kg(s,w,h,K),ki=!1;var ie=s.memoizedState;w.state=ie,ou(s,h,w,p),V=s.memoizedState,M!==h||ie!==V||on.current||ki?(typeof se=="function"&&(Hh(s,l,se,h),V=s.memoizedState),(M=ki||Lg(s,l,M,h,ie,V,K))?(ae||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(s.flags|=4194308)):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=V),w.props=h,w.state=V,w.context=K,h=M):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{w=s.stateNode,tg(i,s),M=s.memoizedProps,K=s.type===s.elementType?M:nr(s.type,M),w.props=K,ae=s.pendingProps,ie=w.context,V=l.contextType,typeof V=="object"&&V!==null?V=Mn(V):(V=an(l)?vs:$t.current,V=fo(s,V));var fe=l.getDerivedStateFromProps;(se=typeof fe=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(M!==ae||ie!==V)&&kg(s,w,h,V),ki=!1,ie=s.memoizedState,w.state=ie,ou(s,h,w,p);var _e=s.memoizedState;M!==ae||ie!==_e||on.current||ki?(typeof fe=="function"&&(Hh(s,l,fe,h),_e=s.memoizedState),(K=ki||Lg(s,l,K,h,ie,_e,V)||!1)?(se||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(h,_e,V),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(h,_e,V)),typeof w.componentDidUpdate=="function"&&(s.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof w.componentDidUpdate!="function"||M===i.memoizedProps&&ie===i.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||M===i.memoizedProps&&ie===i.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=_e),w.props=h,w.state=_e,w.context=V,h=K):(typeof w.componentDidUpdate!="function"||M===i.memoizedProps&&ie===i.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||M===i.memoizedProps&&ie===i.memoizedState||(s.flags|=1024),h=!1)}return Yh(i,s,l,h,v,p)}function Yh(i,s,l,h,p,v){Ug(i,s);var w=(s.flags&128)!==0;if(!h&&!w)return p&&Wp(s,l,!1),Qr(i,s,v);h=s.stateNode,MS.current=s;var M=w&&typeof l.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,i!==null&&w?(s.child=vo(s,i.child,null,v),s.child=vo(s,null,M,v)):en(i,s,M,v),s.memoizedState=h.state,p&&Wp(s,l,!0),s.child}function jg(i){var s=i.stateNode;s.pendingContext?zp(i,s.pendingContext,s.pendingContext!==s.context):s.context&&zp(i,s.context,!1),Mh(i,s.containerInfo)}function Bg(i,s,l,h,p){return mo(),Lh(p),s.flags|=256,en(i,s,l,h),s.child}var Zh={dehydrated:null,treeContext:null,retryLane:0};function Jh(i){return{baseLanes:i,cachePool:null,transitions:null}}function zg(i,s,l){var h=s.pendingProps,p=ht.current,v=!1,w=(s.flags&128)!==0,M;if((M=w)||(M=i!==null&&i.memoizedState===null?!1:(p&2)!==0),M?(v=!0,s.flags&=-129):(i===null||i.memoizedState!==null)&&(p|=1),it(ht,p&1),i===null)return Ih(s),i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(s.mode&1?i.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(w=h.children,i=h.fallback,v?(h=s.mode,v=s.child,w={mode:"hidden",children:w},!(h&1)&&v!==null?(v.childLanes=0,v.pendingProps=w):v=Pu(w,h,0,null),i=Ps(i,h,l,null),v.return=s,i.return=s,v.sibling=i,s.child=v,s.child.memoizedState=Jh(l),s.memoizedState=Zh,i):Xh(s,w));if(p=i.memoizedState,p!==null&&(M=p.dehydrated,M!==null))return OS(i,s,w,h,M,p,l);if(v){v=h.fallback,w=s.mode,p=i.child,M=p.sibling;var V={mode:"hidden",children:h.children};return!(w&1)&&s.child!==p?(h=s.child,h.childLanes=0,h.pendingProps=V,s.deletions=null):(h=Di(p,V),h.subtreeFlags=p.subtreeFlags&14680064),M!==null?v=Di(M,v):(v=Ps(v,w,l,null),v.flags|=2),v.return=s,h.return=s,h.sibling=v,s.child=h,h=v,v=s.child,w=i.child.memoizedState,w=w===null?Jh(l):{baseLanes:w.baseLanes|l,cachePool:null,transitions:w.transitions},v.memoizedState=w,v.childLanes=i.childLanes&~l,s.memoizedState=Zh,h}return v=i.child,i=v.sibling,h=Di(v,{mode:"visible",children:h.children}),!(s.mode&1)&&(h.lanes=l),h.return=s,h.sibling=null,i!==null&&(l=s.deletions,l===null?(s.deletions=[i],s.flags|=16):l.push(i)),s.child=h,s.memoizedState=null,h}function Xh(i,s){return s=Pu({mode:"visible",children:s},i.mode,0,null),s.return=i,i.child=s}function pu(i,s,l,h){return h!==null&&Lh(h),vo(s,i.child,null,l),i=Xh(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function OS(i,s,l,h,p,v,w){if(l)return s.flags&256?(s.flags&=-257,h=Gh(Error(t(422))),pu(i,s,w,h)):s.memoizedState!==null?(s.child=i.child,s.flags|=128,null):(v=h.fallback,p=s.mode,h=Pu({mode:"visible",children:h.children},p,0,null),v=Ps(v,p,w,null),v.flags|=2,h.return=s,v.return=s,h.sibling=v,s.child=h,s.mode&1&&vo(s,i.child,null,w),s.child.memoizedState=Jh(w),s.memoizedState=Zh,v);if(!(s.mode&1))return pu(i,s,w,null);if(p.data==="$!"){if(h=p.nextSibling&&p.nextSibling.dataset,h)var M=h.dgst;return h=M,v=Error(t(419)),h=Gh(v,h,void 0),pu(i,s,w,h)}if(M=(w&i.childLanes)!==0,ln||M){if(h=Mt,h!==null){switch(w&-w){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=p&(h.suspendedLanes|w)?0:p,p!==0&&p!==v.retryLane&&(v.retryLane=p,Gr(i,p),sr(h,i,p,-1))}return gd(),h=Gh(Error(t(421))),pu(i,s,w,h)}return p.data==="$?"?(s.flags|=128,s.child=i.child,s=GS.bind(null,i),p._reactRetry=s,null):(i=v.treeContext,wn=Ti(p.nextSibling),En=s,ut=!0,tr=null,i!==null&&(xn[bn++]=Hr,xn[bn++]=qr,xn[bn++]=ys,Hr=i.id,qr=i.overflow,ys=s),s=Xh(s,h.children),s.flags|=4096,s)}function $g(i,s,l){i.lanes|=s;var h=i.alternate;h!==null&&(h.lanes|=s),Ah(i.return,s,l)}function ed(i,s,l,h,p){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:p}:(v.isBackwards=s,v.rendering=null,v.renderingStartTime=0,v.last=h,v.tail=l,v.tailMode=p)}function Wg(i,s,l){var h=s.pendingProps,p=h.revealOrder,v=h.tail;if(en(i,s,h.children,l),h=ht.current,h&2)h=h&1|2,s.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&$g(i,l,s);else if(i.tag===19)$g(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}if(it(ht,h),!(s.mode&1))s.memoizedState=null;else switch(p){case"forwards":for(l=s.child,p=null;l!==null;)i=l.alternate,i!==null&&au(i)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),ed(s,!1,p,l,v);break;case"backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(i=p.alternate,i!==null&&au(i)===null){s.child=p;break}i=p.sibling,p.sibling=l,l=p,p=i}ed(s,!0,l,null,v);break;case"together":ed(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function gu(i,s){!(s.mode&1)&&i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2)}function Qr(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),Cs|=s.lanes,!(l&s.childLanes))return null;if(i!==null&&s.child!==i.child)throw Error(t(153));if(s.child!==null){for(i=s.child,l=Di(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=Di(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function DS(i,s,l){switch(s.tag){case 3:jg(s),mo();break;case 5:ig(s);break;case 1:an(s.type)&&Zl(s);break;case 4:Mh(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,p=s.memoizedProps.value;it(ru,h._currentValue),h._currentValue=p;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(it(ht,ht.current&1),s.flags|=128,null):l&s.child.childLanes?zg(i,s,l):(it(ht,ht.current&1),i=Qr(i,s,l),i!==null?i.sibling:null);it(ht,ht.current&1);break;case 19:if(h=(l&s.childLanes)!==0,i.flags&128){if(h)return Wg(i,s,l);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),it(ht,ht.current),h)break;return null;case 22:case 23:return s.lanes=0,Vg(i,s,l)}return Qr(i,s,l)}var Hg,td,qg,Gg;Hg=function(i,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},td=function(){},qg=function(i,s,l,h){var p=i.memoizedProps;if(p!==h){i=s.stateNode,ws(Ir.current);var v=null;switch(l){case"input":p=fn(i,p),h=fn(i,h),v=[];break;case"select":p=re({},p,{value:void 0}),h=re({},h,{value:void 0}),v=[];break;case"textarea":p=ci(i,p),h=ci(i,h),v=[];break;default:typeof p.onClick!="function"&&typeof h.onClick=="function"&&(i.onclick=Kl)}fi(l,h);var w;l=null;for(K in p)if(!h.hasOwnProperty(K)&&p.hasOwnProperty(K)&&p[K]!=null)if(K==="style"){var M=p[K];for(w in M)M.hasOwnProperty(w)&&(l||(l={}),l[w]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(o.hasOwnProperty(K)?v||(v=[]):(v=v||[]).push(K,null));for(K in h){var V=h[K];if(M=p!=null?p[K]:void 0,h.hasOwnProperty(K)&&V!==M&&(V!=null||M!=null))if(K==="style")if(M){for(w in M)!M.hasOwnProperty(w)||V&&V.hasOwnProperty(w)||(l||(l={}),l[w]="");for(w in V)V.hasOwnProperty(w)&&M[w]!==V[w]&&(l||(l={}),l[w]=V[w])}else l||(v||(v=[]),v.push(K,l)),l=V;else K==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,M=M?M.__html:void 0,V!=null&&M!==V&&(v=v||[]).push(K,V)):K==="children"?typeof V!="string"&&typeof V!="number"||(v=v||[]).push(K,""+V):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(o.hasOwnProperty(K)?(V!=null&&K==="onScroll"&&st("scroll",i),v||M===V||(v=[])):(v=v||[]).push(K,V))}l&&(v=v||[]).push("style",l);var K=v;(s.updateQueue=K)&&(s.flags|=4)}},Gg=function(i,s,l,h){l!==h&&(s.flags|=4)};function Aa(i,s){if(!ut)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function Ht(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(s)for(var p=i.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags&14680064,h|=p.flags&14680064,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags,h|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=h,i.childLanes=l,s}function NS(i,s,l){var h=s.pendingProps;switch(Ch(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(s),null;case 1:return an(s.type)&&Yl(),Ht(s),null;case 3:return h=s.stateNode,Eo(),ot(on),ot($t),Nh(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(i===null||i.child===null)&&(tu(s)?s.flags|=4:i===null||i.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,tr!==null&&(dd(tr),tr=null))),td(i,s),Ht(s),null;case 5:Oh(s);var p=ws(Ia.current);if(l=s.type,i!==null&&s.stateNode!=null)qg(i,s,l,h,p),i.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(t(166));return Ht(s),null}if(i=ws(Ir.current),tu(s)){h=s.stateNode,l=s.type;var v=s.memoizedProps;switch(h[Tr]=s,h[Ea]=v,i=(s.mode&1)!==0,l){case"dialog":st("cancel",h),st("close",h);break;case"iframe":case"object":case"embed":st("load",h);break;case"video":case"audio":for(p=0;p<va.length;p++)st(va[p],h);break;case"source":st("error",h);break;case"img":case"image":case"link":st("error",h),st("load",h);break;case"details":st("toggle",h);break;case"input":He(h,v),st("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!v.multiple},st("invalid",h);break;case"textarea":Bn(h,v),st("invalid",h)}fi(l,v),p=null;for(var w in v)if(v.hasOwnProperty(w)){var M=v[w];w==="children"?typeof M=="string"?h.textContent!==M&&(v.suppressHydrationWarning!==!0&&Gl(h.textContent,M,i),p=["children",M]):typeof M=="number"&&h.textContent!==""+M&&(v.suppressHydrationWarning!==!0&&Gl(h.textContent,M,i),p=["children",""+M]):o.hasOwnProperty(w)&&M!=null&&w==="onScroll"&&st("scroll",h)}switch(l){case"input":Ue(h),rs(h,v,!0);break;case"textarea":Ue(h),hi(h);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(h.onclick=Kl)}h=p,s.updateQueue=h,h!==null&&(s.flags|=4)}else{w=p.nodeType===9?p:p.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=gt(l)),i==="http://www.w3.org/1999/xhtml"?l==="script"?(i=w.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof h.is=="string"?i=w.createElement(l,{is:h.is}):(i=w.createElement(l),l==="select"&&(w=i,h.multiple?w.multiple=!0:h.size&&(w.size=h.size))):i=w.createElementNS(i,l),i[Tr]=s,i[Ea]=h,Hg(i,s,!1,!1),s.stateNode=i;e:{switch(w=pr(l,h),l){case"dialog":st("cancel",i),st("close",i),p=h;break;case"iframe":case"object":case"embed":st("load",i),p=h;break;case"video":case"audio":for(p=0;p<va.length;p++)st(va[p],i);p=h;break;case"source":st("error",i),p=h;break;case"img":case"image":case"link":st("error",i),st("load",i),p=h;break;case"details":st("toggle",i),p=h;break;case"input":He(i,h),p=fn(i,h),st("invalid",i);break;case"option":p=h;break;case"select":i._wrapperState={wasMultiple:!!h.multiple},p=re({},h,{value:void 0}),st("invalid",i);break;case"textarea":Bn(i,h),p=ci(i,h),st("invalid",i);break;default:p=h}fi(l,p),M=p;for(v in M)if(M.hasOwnProperty(v)){var V=M[v];v==="style"?di(i,V):v==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,V!=null&&cr(i,V)):v==="children"?typeof V=="string"?(l!=="textarea"||V!=="")&&zn(i,V):typeof V=="number"&&zn(i,""+V):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(o.hasOwnProperty(v)?V!=null&&v==="onScroll"&&st("scroll",i):V!=null&&X(i,v,V,w))}switch(l){case"input":Ue(i),rs(i,h,!1);break;case"textarea":Ue(i),hi(i);break;case"option":h.value!=null&&i.setAttribute("value",""+de(h.value));break;case"select":i.multiple=!!h.multiple,v=h.value,v!=null?nn(i,!!h.multiple,v,!1):h.defaultValue!=null&&nn(i,!!h.multiple,h.defaultValue,!0);break;default:typeof p.onClick=="function"&&(i.onclick=Kl)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Ht(s),null;case 6:if(i&&s.stateNode!=null)Gg(i,s,i.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(t(166));if(l=ws(Ia.current),ws(Ir.current),tu(s)){if(h=s.stateNode,l=s.memoizedProps,h[Tr]=s,(v=h.nodeValue!==l)&&(i=En,i!==null))switch(i.tag){case 3:Gl(h.nodeValue,l,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Gl(h.nodeValue,l,(i.mode&1)!==0)}v&&(s.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[Tr]=s,s.stateNode=h}return Ht(s),null;case 13:if(ot(ht),h=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(ut&&wn!==null&&s.mode&1&&!(s.flags&128))Yp(),mo(),s.flags|=98560,v=!1;else if(v=tu(s),h!==null&&h.dehydrated!==null){if(i===null){if(!v)throw Error(t(318));if(v=s.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(t(317));v[Tr]=s}else mo(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Ht(s),v=!1}else tr!==null&&(dd(tr),tr=null),v=!0;if(!v)return s.flags&65536?s:null}return s.flags&128?(s.lanes=l,s):(h=h!==null,h!==(i!==null&&i.memoizedState!==null)&&h&&(s.child.flags|=8192,s.mode&1&&(i===null||ht.current&1?Tt===0&&(Tt=3):gd())),s.updateQueue!==null&&(s.flags|=4),Ht(s),null);case 4:return Eo(),td(i,s),i===null&&ya(s.stateNode.containerInfo),Ht(s),null;case 10:return Rh(s.type._context),Ht(s),null;case 17:return an(s.type)&&Yl(),Ht(s),null;case 19:if(ot(ht),v=s.memoizedState,v===null)return Ht(s),null;if(h=(s.flags&128)!==0,w=v.rendering,w===null)if(h)Aa(v,!1);else{if(Tt!==0||i!==null&&i.flags&128)for(i=s.child;i!==null;){if(w=au(i),w!==null){for(s.flags|=128,Aa(v,!1),h=w.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=l,l=s.child;l!==null;)v=l,i=h,v.flags&=14680066,w=v.alternate,w===null?(v.childLanes=0,v.lanes=i,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=w.childLanes,v.lanes=w.lanes,v.child=w.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=w.memoizedProps,v.memoizedState=w.memoizedState,v.updateQueue=w.updateQueue,v.type=w.type,i=w.dependencies,v.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),l=l.sibling;return it(ht,ht.current&1|2),s.child}i=i.sibling}v.tail!==null&&rt()>To&&(s.flags|=128,h=!0,Aa(v,!1),s.lanes=4194304)}else{if(!h)if(i=au(w),i!==null){if(s.flags|=128,h=!0,l=i.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),Aa(v,!0),v.tail===null&&v.tailMode==="hidden"&&!w.alternate&&!ut)return Ht(s),null}else 2*rt()-v.renderingStartTime>To&&l!==1073741824&&(s.flags|=128,h=!0,Aa(v,!1),s.lanes=4194304);v.isBackwards?(w.sibling=s.child,s.child=w):(l=v.last,l!==null?l.sibling=w:s.child=w,v.last=w)}return v.tail!==null?(s=v.tail,v.rendering=s,v.tail=s.sibling,v.renderingStartTime=rt(),s.sibling=null,l=ht.current,it(ht,h?l&1|2:l&1),s):(Ht(s),null);case 22:case 23:return pd(),h=s.memoizedState!==null,i!==null&&i.memoizedState!==null!==h&&(s.flags|=8192),h&&s.mode&1?Sn&1073741824&&(Ht(s),s.subtreeFlags&6&&(s.flags|=8192)):Ht(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function VS(i,s){switch(Ch(s),s.tag){case 1:return an(s.type)&&Yl(),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Eo(),ot(on),ot($t),Nh(),i=s.flags,i&65536&&!(i&128)?(s.flags=i&-65537|128,s):null;case 5:return Oh(s),null;case 13:if(ot(ht),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(t(340));mo()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return ot(ht),null;case 4:return Eo(),null;case 10:return Rh(s.type._context),null;case 22:case 23:return pd(),null;case 24:return null;default:return null}}var mu=!1,qt=!1,US=typeof WeakSet=="function"?WeakSet:Set,ve=null;function So(i,s){var l=i.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){mt(i,s,h)}else l.current=null}function nd(i,s,l){try{l()}catch(h){mt(i,s,h)}}var Kg=!1;function FS(i,s){if(ph=wi,i=Lp(),oh(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var p=h.anchorOffset,v=h.focusNode;h=h.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var w=0,M=-1,V=-1,K=0,se=0,ae=i,ie=null;t:for(;;){for(var fe;ae!==l||p!==0&&ae.nodeType!==3||(M=w+p),ae!==v||h!==0&&ae.nodeType!==3||(V=w+h),ae.nodeType===3&&(w+=ae.nodeValue.length),(fe=ae.firstChild)!==null;)ie=ae,ae=fe;for(;;){if(ae===i)break t;if(ie===l&&++K===p&&(M=w),ie===v&&++se===h&&(V=w),(fe=ae.nextSibling)!==null)break;ae=ie,ie=ae.parentNode}ae=fe}l=M===-1||V===-1?null:{start:M,end:V}}else l=null}l=l||{start:0,end:0}}else l=null;for(gh={focusedElem:i,selectionRange:l},wi=!1,ve=s;ve!==null;)if(s=ve,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,ve=i;else for(;ve!==null;){s=ve;try{var _e=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(_e!==null){var Ee=_e.memoizedProps,vt=_e.memoizedState,$=s.stateNode,F=$.getSnapshotBeforeUpdate(s.elementType===s.type?Ee:nr(s.type,Ee),vt);$.__reactInternalSnapshotBeforeUpdate=F}break;case 3:var H=s.stateNode.containerInfo;H.nodeType===1?H.textContent="":H.nodeType===9&&H.documentElement&&H.removeChild(H.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ue){mt(s,s.return,ue)}if(i=s.sibling,i!==null){i.return=s.return,ve=i;break}ve=s.return}return _e=Kg,Kg=!1,_e}function xa(i,s,l){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var p=h=h.next;do{if((p.tag&i)===i){var v=p.destroy;p.destroy=void 0,v!==void 0&&nd(s,l,v)}p=p.next}while(p!==h)}}function vu(i,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&i)===i){var h=l.create;l.destroy=h()}l=l.next}while(l!==s)}}function rd(i){var s=i.ref;if(s!==null){var l=i.stateNode;switch(i.tag){case 5:i=l;break;default:i=l}typeof s=="function"?s(i):s.current=i}}function Qg(i){var s=i.alternate;s!==null&&(i.alternate=null,Qg(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&(delete s[Tr],delete s[Ea],delete s[_h],delete s[wS],delete s[SS])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Yg(i){return i.tag===5||i.tag===3||i.tag===4}function Zg(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Yg(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function id(i,s,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(i,s):l.insertBefore(i,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(i,l)):(s=l,s.appendChild(i)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Kl));else if(h!==4&&(i=i.child,i!==null))for(id(i,s,l),i=i.sibling;i!==null;)id(i,s,l),i=i.sibling}function sd(i,s,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(h!==4&&(i=i.child,i!==null))for(sd(i,s,l),i=i.sibling;i!==null;)sd(i,s,l),i=i.sibling}var Ut=null,rr=!1;function Ai(i,s,l){for(l=l.child;l!==null;)Jg(i,s,l),l=l.sibling}function Jg(i,s,l){if(mn&&typeof mn.onCommitFiberUnmount=="function")try{mn.onCommitFiberUnmount(us,l)}catch{}switch(l.tag){case 5:qt||So(l,s);case 6:var h=Ut,p=rr;Ut=null,Ai(i,s,l),Ut=h,rr=p,Ut!==null&&(rr?(i=Ut,l=l.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)):Ut.removeChild(l.stateNode));break;case 18:Ut!==null&&(rr?(i=Ut,l=l.stateNode,i.nodeType===8?yh(i.parentNode,l):i.nodeType===1&&yh(i,l),Jn(i)):yh(Ut,l.stateNode));break;case 4:h=Ut,p=rr,Ut=l.stateNode.containerInfo,rr=!0,Ai(i,s,l),Ut=h,rr=p;break;case 0:case 11:case 14:case 15:if(!qt&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){p=h=h.next;do{var v=p,w=v.destroy;v=v.tag,w!==void 0&&(v&2||v&4)&&nd(l,s,w),p=p.next}while(p!==h)}Ai(i,s,l);break;case 1:if(!qt&&(So(l,s),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(M){mt(l,s,M)}Ai(i,s,l);break;case 21:Ai(i,s,l);break;case 22:l.mode&1?(qt=(h=qt)||l.memoizedState!==null,Ai(i,s,l),qt=h):Ai(i,s,l);break;default:Ai(i,s,l)}}function Xg(i){var s=i.updateQueue;if(s!==null){i.updateQueue=null;var l=i.stateNode;l===null&&(l=i.stateNode=new US),s.forEach(function(h){var p=KS.bind(null,i,h);l.has(h)||(l.add(h),h.then(p,p))})}}function ir(i,s){var l=s.deletions;if(l!==null)for(var h=0;h<l.length;h++){var p=l[h];try{var v=i,w=s,M=w;e:for(;M!==null;){switch(M.tag){case 5:Ut=M.stateNode,rr=!1;break e;case 3:Ut=M.stateNode.containerInfo,rr=!0;break e;case 4:Ut=M.stateNode.containerInfo,rr=!0;break e}M=M.return}if(Ut===null)throw Error(t(160));Jg(v,w,p),Ut=null,rr=!1;var V=p.alternate;V!==null&&(V.return=null),p.return=null}catch(K){mt(p,s,K)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)em(s,i),s=s.sibling}function em(i,s){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(ir(s,i),Pr(i),h&4){try{xa(3,i,i.return),vu(3,i)}catch(Ee){mt(i,i.return,Ee)}try{xa(5,i,i.return)}catch(Ee){mt(i,i.return,Ee)}}break;case 1:ir(s,i),Pr(i),h&512&&l!==null&&So(l,l.return);break;case 5:if(ir(s,i),Pr(i),h&512&&l!==null&&So(l,l.return),i.flags&32){var p=i.stateNode;try{zn(p,"")}catch(Ee){mt(i,i.return,Ee)}}if(h&4&&(p=i.stateNode,p!=null)){var v=i.memoizedProps,w=l!==null?l.memoizedProps:v,M=i.type,V=i.updateQueue;if(i.updateQueue=null,V!==null)try{M==="input"&&v.type==="radio"&&v.name!=null&&ui(p,v),pr(M,w);var K=pr(M,v);for(w=0;w<V.length;w+=2){var se=V[w],ae=V[w+1];se==="style"?di(p,ae):se==="dangerouslySetInnerHTML"?cr(p,ae):se==="children"?zn(p,ae):X(p,se,ae,K)}switch(M){case"input":ur(p,v);break;case"textarea":Nr(p,v);break;case"select":var ie=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!v.multiple;var fe=v.value;fe!=null?nn(p,!!v.multiple,fe,!1):ie!==!!v.multiple&&(v.defaultValue!=null?nn(p,!!v.multiple,v.defaultValue,!0):nn(p,!!v.multiple,v.multiple?[]:"",!1))}p[Ea]=v}catch(Ee){mt(i,i.return,Ee)}}break;case 6:if(ir(s,i),Pr(i),h&4){if(i.stateNode===null)throw Error(t(162));p=i.stateNode,v=i.memoizedProps;try{p.nodeValue=v}catch(Ee){mt(i,i.return,Ee)}}break;case 3:if(ir(s,i),Pr(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Jn(s.containerInfo)}catch(Ee){mt(i,i.return,Ee)}break;case 4:ir(s,i),Pr(i);break;case 13:ir(s,i),Pr(i),p=i.child,p.flags&8192&&(v=p.memoizedState!==null,p.stateNode.isHidden=v,!v||p.alternate!==null&&p.alternate.memoizedState!==null||(ld=rt())),h&4&&Xg(i);break;case 22:if(se=l!==null&&l.memoizedState!==null,i.mode&1?(qt=(K=qt)||se,ir(s,i),qt=K):ir(s,i),Pr(i),h&8192){if(K=i.memoizedState!==null,(i.stateNode.isHidden=K)&&!se&&i.mode&1)for(ve=i,se=i.child;se!==null;){for(ae=ve=se;ve!==null;){switch(ie=ve,fe=ie.child,ie.tag){case 0:case 11:case 14:case 15:xa(4,ie,ie.return);break;case 1:So(ie,ie.return);var _e=ie.stateNode;if(typeof _e.componentWillUnmount=="function"){h=ie,l=ie.return;try{s=h,_e.props=s.memoizedProps,_e.state=s.memoizedState,_e.componentWillUnmount()}catch(Ee){mt(h,l,Ee)}}break;case 5:So(ie,ie.return);break;case 22:if(ie.memoizedState!==null){rm(ae);continue}}fe!==null?(fe.return=ie,ve=fe):rm(ae)}se=se.sibling}e:for(se=null,ae=i;;){if(ae.tag===5){if(se===null){se=ae;try{p=ae.stateNode,K?(v=p.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(M=ae.stateNode,V=ae.memoizedProps.style,w=V!=null&&V.hasOwnProperty("display")?V.display:null,M.style.display=dr("display",w))}catch(Ee){mt(i,i.return,Ee)}}}else if(ae.tag===6){if(se===null)try{ae.stateNode.nodeValue=K?"":ae.memoizedProps}catch(Ee){mt(i,i.return,Ee)}}else if((ae.tag!==22&&ae.tag!==23||ae.memoizedState===null||ae===i)&&ae.child!==null){ae.child.return=ae,ae=ae.child;continue}if(ae===i)break e;for(;ae.sibling===null;){if(ae.return===null||ae.return===i)break e;se===ae&&(se=null),ae=ae.return}se===ae&&(se=null),ae.sibling.return=ae.return,ae=ae.sibling}}break;case 19:ir(s,i),Pr(i),h&4&&Xg(i);break;case 21:break;default:ir(s,i),Pr(i)}}function Pr(i){var s=i.flags;if(s&2){try{e:{for(var l=i.return;l!==null;){if(Yg(l)){var h=l;break e}l=l.return}throw Error(t(160))}switch(h.tag){case 5:var p=h.stateNode;h.flags&32&&(zn(p,""),h.flags&=-33);var v=Zg(i);sd(i,v,p);break;case 3:case 4:var w=h.stateNode.containerInfo,M=Zg(i);id(i,M,w);break;default:throw Error(t(161))}}catch(V){mt(i,i.return,V)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function jS(i,s,l){ve=i,tm(i)}function tm(i,s,l){for(var h=(i.mode&1)!==0;ve!==null;){var p=ve,v=p.child;if(p.tag===22&&h){var w=p.memoizedState!==null||mu;if(!w){var M=p.alternate,V=M!==null&&M.memoizedState!==null||qt;M=mu;var K=qt;if(mu=w,(qt=V)&&!K)for(ve=p;ve!==null;)w=ve,V=w.child,w.tag===22&&w.memoizedState!==null?im(p):V!==null?(V.return=w,ve=V):im(p);for(;v!==null;)ve=v,tm(v),v=v.sibling;ve=p,mu=M,qt=K}nm(i)}else p.subtreeFlags&8772&&v!==null?(v.return=p,ve=v):nm(i)}}function nm(i){for(;ve!==null;){var s=ve;if(s.flags&8772){var l=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:qt||vu(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!qt)if(l===null)h.componentDidMount();else{var p=s.elementType===s.type?l.memoizedProps:nr(s.type,l.memoizedProps);h.componentDidUpdate(p,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var v=s.updateQueue;v!==null&&rg(s,v,h);break;case 3:var w=s.updateQueue;if(w!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}rg(s,w,l)}break;case 5:var M=s.stateNode;if(l===null&&s.flags&4){l=M;var V=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":V.autoFocus&&l.focus();break;case"img":V.src&&(l.src=V.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var K=s.alternate;if(K!==null){var se=K.memoizedState;if(se!==null){var ae=se.dehydrated;ae!==null&&Jn(ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}qt||s.flags&512&&rd(s)}catch(ie){mt(s,s.return,ie)}}if(s===i){ve=null;break}if(l=s.sibling,l!==null){l.return=s.return,ve=l;break}ve=s.return}}function rm(i){for(;ve!==null;){var s=ve;if(s===i){ve=null;break}var l=s.sibling;if(l!==null){l.return=s.return,ve=l;break}ve=s.return}}function im(i){for(;ve!==null;){var s=ve;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{vu(4,s)}catch(V){mt(s,l,V)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var p=s.return;try{h.componentDidMount()}catch(V){mt(s,p,V)}}var v=s.return;try{rd(s)}catch(V){mt(s,v,V)}break;case 5:var w=s.return;try{rd(s)}catch(V){mt(s,w,V)}}}catch(V){mt(s,s.return,V)}if(s===i){ve=null;break}var M=s.sibling;if(M!==null){M.return=s.return,ve=M;break}ve=s.return}}var BS=Math.ceil,yu=W.ReactCurrentDispatcher,od=W.ReactCurrentOwner,Dn=W.ReactCurrentBatchConfig,Ye=0,Mt=null,Et=null,Ft=0,Sn=0,Co=Ii(0),Tt=0,ba=null,Cs=0,_u=0,ad=0,Ma=null,un=null,ld=0,To=1/0,Yr=null,Eu=!1,ud=null,xi=null,wu=!1,bi=null,Su=0,Oa=0,cd=null,Cu=-1,Tu=0;function tn(){return Ye&6?rt():Cu!==-1?Cu:Cu=rt()}function Mi(i){return i.mode&1?Ye&2&&Ft!==0?Ft&-Ft:TS.transition!==null?(Tu===0&&(Tu=hs()),Tu):(i=qe,i!==0||(i=window.event,i=i===void 0?16:la(i.type)),i):1}function sr(i,s,l,h){if(50<Oa)throw Oa=0,cd=null,Error(t(185));vi(i,l,h),(!(Ye&2)||i!==Mt)&&(i===Mt&&(!(Ye&2)&&(_u|=l),Tt===4&&Oi(i,Ft)),cn(i,h),l===1&&Ye===0&&!(s.mode&1)&&(To=rt()+500,Jl&&Pi()))}function cn(i,s){var l=i.callbackNode;Ur(i,s);var h=cs(i,i===Mt?Ft:0);if(h===0)l!==null&&ra(l),i.callbackNode=null,i.callbackPriority=0;else if(s=h&-h,i.callbackPriority!==s){if(l!=null&&ra(l),s===1)i.tag===0?CS(om.bind(null,i)):Hp(om.bind(null,i)),_S(function(){!(Ye&6)&&Pi()}),l=null;else{switch(_i(h)){case 1:l=ls;break;case 4:l=pi;break;case 16:l=kn;break;case 536870912:l=Tl;break;default:l=kn}l=pm(l,sm.bind(null,i))}i.callbackPriority=s,i.callbackNode=l}}function sm(i,s){if(Cu=-1,Tu=0,Ye&6)throw Error(t(327));var l=i.callbackNode;if(Io()&&i.callbackNode!==l)return null;var h=cs(i,i===Mt?Ft:0);if(h===0)return null;if(h&30||h&i.expiredLanes||s)s=Iu(i,h);else{s=h;var p=Ye;Ye|=2;var v=lm();(Mt!==i||Ft!==s)&&(Yr=null,To=rt()+500,Is(i,s));do try{WS();break}catch(M){am(i,M)}while(!0);kh(),yu.current=v,Ye=p,Et!==null?s=0:(Mt=null,Ft=0,s=Tt)}if(s!==0){if(s===2&&(p=vn(i),p!==0&&(h=p,s=hd(i,p))),s===1)throw l=ba,Is(i,0),Oi(i,h),cn(i,rt()),l;if(s===6)Oi(i,h);else{if(p=i.current.alternate,!(h&30)&&!zS(p)&&(s=Iu(i,h),s===2&&(v=vn(i),v!==0&&(h=v,s=hd(i,v))),s===1))throw l=ba,Is(i,0),Oi(i,h),cn(i,rt()),l;switch(i.finishedWork=p,i.finishedLanes=h,s){case 0:case 1:throw Error(t(345));case 2:Ls(i,un,Yr);break;case 3:if(Oi(i,h),(h&130023424)===h&&(s=ld+500-rt(),10<s)){if(cs(i,0)!==0)break;if(p=i.suspendedLanes,(p&h)!==h){tn(),i.pingedLanes|=i.suspendedLanes&p;break}i.timeoutHandle=vh(Ls.bind(null,i,un,Yr),s);break}Ls(i,un,Yr);break;case 4:if(Oi(i,h),(h&4194240)===h)break;for(s=i.eventTimes,p=-1;0<h;){var w=31-Jt(h);v=1<<w,w=s[w],w>p&&(p=w),h&=~v}if(h=p,h=rt()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*BS(h/1960))-h,10<h){i.timeoutHandle=vh(Ls.bind(null,i,un,Yr),h);break}Ls(i,un,Yr);break;case 5:Ls(i,un,Yr);break;default:throw Error(t(329))}}}return cn(i,rt()),i.callbackNode===l?sm.bind(null,i):null}function hd(i,s){var l=Ma;return i.current.memoizedState.isDehydrated&&(Is(i,s).flags|=256),i=Iu(i,s),i!==2&&(s=un,un=l,s!==null&&dd(s)),i}function dd(i){un===null?un=i:un.push.apply(un,i)}function zS(i){for(var s=i;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var p=l[h],v=p.getSnapshot;p=p.value;try{if(!er(v(),p))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Oi(i,s){for(s&=~ad,s&=~_u,i.suspendedLanes|=s,i.pingedLanes&=~s,i=i.expirationTimes;0<s;){var l=31-Jt(s),h=1<<l;i[l]=-1,s&=~h}}function om(i){if(Ye&6)throw Error(t(327));Io();var s=cs(i,0);if(!(s&1))return cn(i,rt()),null;var l=Iu(i,s);if(i.tag!==0&&l===2){var h=vn(i);h!==0&&(s=h,l=hd(i,h))}if(l===1)throw l=ba,Is(i,0),Oi(i,s),cn(i,rt()),l;if(l===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=s,Ls(i,un,Yr),cn(i,rt()),null}function fd(i,s){var l=Ye;Ye|=1;try{return i(s)}finally{Ye=l,Ye===0&&(To=rt()+500,Jl&&Pi())}}function Ts(i){bi!==null&&bi.tag===0&&!(Ye&6)&&Io();var s=Ye;Ye|=1;var l=Dn.transition,h=qe;try{if(Dn.transition=null,qe=1,i)return i()}finally{qe=h,Dn.transition=l,Ye=s,!(Ye&6)&&Pi()}}function pd(){Sn=Co.current,ot(Co)}function Is(i,s){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;if(l!==-1&&(i.timeoutHandle=-1,yS(l)),Et!==null)for(l=Et.return;l!==null;){var h=l;switch(Ch(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Yl();break;case 3:Eo(),ot(on),ot($t),Nh();break;case 5:Oh(h);break;case 4:Eo();break;case 13:ot(ht);break;case 19:ot(ht);break;case 10:Rh(h.type._context);break;case 22:case 23:pd()}l=l.return}if(Mt=i,Et=i=Di(i.current,null),Ft=Sn=s,Tt=0,ba=null,ad=_u=Cs=0,un=Ma=null,Es!==null){for(s=0;s<Es.length;s++)if(l=Es[s],h=l.interleaved,h!==null){l.interleaved=null;var p=h.next,v=l.pending;if(v!==null){var w=v.next;v.next=p,h.next=w}l.pending=h}Es=null}return i}function am(i,s){do{var l=Et;try{if(kh(),lu.current=du,uu){for(var h=dt.memoizedState;h!==null;){var p=h.queue;p!==null&&(p.pending=null),h=h.next}uu=!1}if(Ss=0,bt=Ct=dt=null,La=!1,Pa=0,od.current=null,l===null||l.return===null){Tt=1,ba=s,Et=null;break}e:{var v=i,w=l.return,M=l,V=s;if(s=Ft,M.flags|=32768,V!==null&&typeof V=="object"&&typeof V.then=="function"){var K=V,se=M,ae=se.tag;if(!(se.mode&1)&&(ae===0||ae===11||ae===15)){var ie=se.alternate;ie?(se.updateQueue=ie.updateQueue,se.memoizedState=ie.memoizedState,se.lanes=ie.lanes):(se.updateQueue=null,se.memoizedState=null)}var fe=bg(w);if(fe!==null){fe.flags&=-257,Mg(fe,w,M,v,s),fe.mode&1&&xg(v,K,s),s=fe,V=K;var _e=s.updateQueue;if(_e===null){var Ee=new Set;Ee.add(V),s.updateQueue=Ee}else _e.add(V);break e}else{if(!(s&1)){xg(v,K,s),gd();break e}V=Error(t(426))}}else if(ut&&M.mode&1){var vt=bg(w);if(vt!==null){!(vt.flags&65536)&&(vt.flags|=256),Mg(vt,w,M,v,s),Lh(wo(V,M));break e}}v=V=wo(V,M),Tt!==4&&(Tt=2),Ma===null?Ma=[v]:Ma.push(v),v=w;do{switch(v.tag){case 3:v.flags|=65536,s&=-s,v.lanes|=s;var $=Rg(v,V,s);ng(v,$);break e;case 1:M=V;var F=v.type,H=v.stateNode;if(!(v.flags&128)&&(typeof F.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(xi===null||!xi.has(H)))){v.flags|=65536,s&=-s,v.lanes|=s;var ue=Ag(v,M,s);ng(v,ue);break e}}v=v.return}while(v!==null)}cm(l)}catch(we){s=we,Et===l&&l!==null&&(Et=l=l.return);continue}break}while(!0)}function lm(){var i=yu.current;return yu.current=du,i===null?du:i}function gd(){(Tt===0||Tt===3||Tt===2)&&(Tt=4),Mt===null||!(Cs&268435455)&&!(_u&268435455)||Oi(Mt,Ft)}function Iu(i,s){var l=Ye;Ye|=2;var h=lm();(Mt!==i||Ft!==s)&&(Yr=null,Is(i,s));do try{$S();break}catch(p){am(i,p)}while(!0);if(kh(),Ye=l,yu.current=h,Et!==null)throw Error(t(261));return Mt=null,Ft=0,Tt}function $S(){for(;Et!==null;)um(Et)}function WS(){for(;Et!==null&&!Sl();)um(Et)}function um(i){var s=fm(i.alternate,i,Sn);i.memoizedProps=i.pendingProps,s===null?cm(i):Et=s,od.current=null}function cm(i){var s=i;do{var l=s.alternate;if(i=s.return,s.flags&32768){if(l=VS(l,s),l!==null){l.flags&=32767,Et=l;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Tt=6,Et=null;return}}else if(l=NS(l,s,Sn),l!==null){Et=l;return}if(s=s.sibling,s!==null){Et=s;return}Et=s=i}while(s!==null);Tt===0&&(Tt=5)}function Ls(i,s,l){var h=qe,p=Dn.transition;try{Dn.transition=null,qe=1,HS(i,s,l,h)}finally{Dn.transition=p,qe=h}return null}function HS(i,s,l,h){do Io();while(bi!==null);if(Ye&6)throw Error(t(327));l=i.finishedWork;var p=i.finishedLanes;if(l===null)return null;if(i.finishedWork=null,i.finishedLanes=0,l===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var v=l.lanes|l.childLanes;if(nt(i,v),i===Mt&&(Et=Mt=null,Ft=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||wu||(wu=!0,pm(kn,function(){return Io(),null})),v=(l.flags&15990)!==0,l.subtreeFlags&15990||v){v=Dn.transition,Dn.transition=null;var w=qe;qe=1;var M=Ye;Ye|=4,od.current=null,FS(i,l),em(l,i),hS(gh),wi=!!ph,gh=ph=null,i.current=l,jS(l),Jc(),Ye=M,qe=w,Dn.transition=v}else i.current=l;if(wu&&(wu=!1,bi=i,Su=p),v=i.pendingLanes,v===0&&(xi=null),Il(l.stateNode),cn(i,rt()),s!==null)for(h=i.onRecoverableError,l=0;l<s.length;l++)p=s[l],h(p.value,{componentStack:p.stack,digest:p.digest});if(Eu)throw Eu=!1,i=ud,ud=null,i;return Su&1&&i.tag!==0&&Io(),v=i.pendingLanes,v&1?i===cd?Oa++:(Oa=0,cd=i):Oa=0,Pi(),null}function Io(){if(bi!==null){var i=_i(Su),s=Dn.transition,l=qe;try{if(Dn.transition=null,qe=16>i?16:i,bi===null)var h=!1;else{if(i=bi,bi=null,Su=0,Ye&6)throw Error(t(331));var p=Ye;for(Ye|=4,ve=i.current;ve!==null;){var v=ve,w=v.child;if(ve.flags&16){var M=v.deletions;if(M!==null){for(var V=0;V<M.length;V++){var K=M[V];for(ve=K;ve!==null;){var se=ve;switch(se.tag){case 0:case 11:case 15:xa(8,se,v)}var ae=se.child;if(ae!==null)ae.return=se,ve=ae;else for(;ve!==null;){se=ve;var ie=se.sibling,fe=se.return;if(Qg(se),se===K){ve=null;break}if(ie!==null){ie.return=fe,ve=ie;break}ve=fe}}}var _e=v.alternate;if(_e!==null){var Ee=_e.child;if(Ee!==null){_e.child=null;do{var vt=Ee.sibling;Ee.sibling=null,Ee=vt}while(Ee!==null)}}ve=v}}if(v.subtreeFlags&2064&&w!==null)w.return=v,ve=w;else e:for(;ve!==null;){if(v=ve,v.flags&2048)switch(v.tag){case 0:case 11:case 15:xa(9,v,v.return)}var $=v.sibling;if($!==null){$.return=v.return,ve=$;break e}ve=v.return}}var F=i.current;for(ve=F;ve!==null;){w=ve;var H=w.child;if(w.subtreeFlags&2064&&H!==null)H.return=w,ve=H;else e:for(w=F;ve!==null;){if(M=ve,M.flags&2048)try{switch(M.tag){case 0:case 11:case 15:vu(9,M)}}catch(we){mt(M,M.return,we)}if(M===w){ve=null;break e}var ue=M.sibling;if(ue!==null){ue.return=M.return,ve=ue;break e}ve=M.return}}if(Ye=p,Pi(),mn&&typeof mn.onPostCommitFiberRoot=="function")try{mn.onPostCommitFiberRoot(us,i)}catch{}h=!0}return h}finally{qe=l,Dn.transition=s}}return!1}function hm(i,s,l){s=wo(l,s),s=Rg(i,s,1),i=Ri(i,s,1),s=tn(),i!==null&&(vi(i,1,s),cn(i,s))}function mt(i,s,l){if(i.tag===3)hm(i,i,l);else for(;s!==null;){if(s.tag===3){hm(s,i,l);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(xi===null||!xi.has(h))){i=wo(l,i),i=Ag(s,i,1),s=Ri(s,i,1),i=tn(),s!==null&&(vi(s,1,i),cn(s,i));break}}s=s.return}}function qS(i,s,l){var h=i.pingCache;h!==null&&h.delete(s),s=tn(),i.pingedLanes|=i.suspendedLanes&l,Mt===i&&(Ft&l)===l&&(Tt===4||Tt===3&&(Ft&130023424)===Ft&&500>rt()-ld?Is(i,0):ad|=l),cn(i,s)}function dm(i,s){s===0&&(i.mode&1?(s=Gs,Gs<<=1,!(Gs&130023424)&&(Gs=4194304)):s=1);var l=tn();i=Gr(i,s),i!==null&&(vi(i,s,l),cn(i,l))}function GS(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),dm(i,l)}function KS(i,s){var l=0;switch(i.tag){case 13:var h=i.stateNode,p=i.memoizedState;p!==null&&(l=p.retryLane);break;case 19:h=i.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(s),dm(i,l)}var fm;fm=function(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps||on.current)ln=!0;else{if(!(i.lanes&l)&&!(s.flags&128))return ln=!1,DS(i,s,l);ln=!!(i.flags&131072)}else ln=!1,ut&&s.flags&1048576&&qp(s,eu,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;gu(i,s),i=s.pendingProps;var p=fo(s,$t.current);_o(s,l),p=Fh(null,s,h,i,p,l);var v=jh();return s.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,an(h)?(v=!0,Zl(s)):v=!1,s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,bh(s),p.updater=fu,s.stateNode=p,p._reactInternals=s,qh(s,h,i,l),s=Yh(null,s,h,!0,v,l)):(s.tag=0,ut&&v&&Sh(s),en(null,s,p,l),s=s.child),s;case 16:h=s.elementType;e:{switch(gu(i,s),i=s.pendingProps,p=h._init,h=p(h._payload),s.type=h,p=s.tag=YS(h),i=nr(h,i),p){case 0:s=Qh(null,s,h,i,l);break e;case 1:s=Fg(null,s,h,i,l);break e;case 11:s=Og(null,s,h,i,l);break e;case 14:s=Dg(null,s,h,nr(h.type,i),l);break e}throw Error(t(306,h,""))}return s;case 0:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:nr(h,p),Qh(i,s,h,p,l);case 1:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:nr(h,p),Fg(i,s,h,p,l);case 3:e:{if(jg(s),i===null)throw Error(t(387));h=s.pendingProps,v=s.memoizedState,p=v.element,tg(i,s),ou(s,h,null,l);var w=s.memoizedState;if(h=w.element,v.isDehydrated)if(v={element:h,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},s.updateQueue.baseState=v,s.memoizedState=v,s.flags&256){p=wo(Error(t(423)),s),s=Bg(i,s,h,l,p);break e}else if(h!==p){p=wo(Error(t(424)),s),s=Bg(i,s,h,l,p);break e}else for(wn=Ti(s.stateNode.containerInfo.firstChild),En=s,ut=!0,tr=null,l=Xp(s,null,h,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(mo(),h===p){s=Qr(i,s,l);break e}en(i,s,h,l)}s=s.child}return s;case 5:return ig(s),i===null&&Ih(s),h=s.type,p=s.pendingProps,v=i!==null?i.memoizedProps:null,w=p.children,mh(h,p)?w=null:v!==null&&mh(h,v)&&(s.flags|=32),Ug(i,s),en(i,s,w,l),s.child;case 6:return i===null&&Ih(s),null;case 13:return zg(i,s,l);case 4:return Mh(s,s.stateNode.containerInfo),h=s.pendingProps,i===null?s.child=vo(s,null,h,l):en(i,s,h,l),s.child;case 11:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:nr(h,p),Og(i,s,h,p,l);case 7:return en(i,s,s.pendingProps,l),s.child;case 8:return en(i,s,s.pendingProps.children,l),s.child;case 12:return en(i,s,s.pendingProps.children,l),s.child;case 10:e:{if(h=s.type._context,p=s.pendingProps,v=s.memoizedProps,w=p.value,it(ru,h._currentValue),h._currentValue=w,v!==null)if(er(v.value,w)){if(v.children===p.children&&!on.current){s=Qr(i,s,l);break e}}else for(v=s.child,v!==null&&(v.return=s);v!==null;){var M=v.dependencies;if(M!==null){w=v.child;for(var V=M.firstContext;V!==null;){if(V.context===h){if(v.tag===1){V=Kr(-1,l&-l),V.tag=2;var K=v.updateQueue;if(K!==null){K=K.shared;var se=K.pending;se===null?V.next=V:(V.next=se.next,se.next=V),K.pending=V}}v.lanes|=l,V=v.alternate,V!==null&&(V.lanes|=l),Ah(v.return,l,s),M.lanes|=l;break}V=V.next}}else if(v.tag===10)w=v.type===s.type?null:v.child;else if(v.tag===18){if(w=v.return,w===null)throw Error(t(341));w.lanes|=l,M=w.alternate,M!==null&&(M.lanes|=l),Ah(w,l,s),w=v.sibling}else w=v.child;if(w!==null)w.return=v;else for(w=v;w!==null;){if(w===s){w=null;break}if(v=w.sibling,v!==null){v.return=w.return,w=v;break}w=w.return}v=w}en(i,s,p.children,l),s=s.child}return s;case 9:return p=s.type,h=s.pendingProps.children,_o(s,l),p=Mn(p),h=h(p),s.flags|=1,en(i,s,h,l),s.child;case 14:return h=s.type,p=nr(h,s.pendingProps),p=nr(h.type,p),Dg(i,s,h,p,l);case 15:return Ng(i,s,s.type,s.pendingProps,l);case 17:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:nr(h,p),gu(i,s),s.tag=1,an(h)?(i=!0,Zl(s)):i=!1,_o(s,l),Pg(s,h,p),qh(s,h,p,l),Yh(null,s,h,!0,i,l);case 19:return Wg(i,s,l);case 22:return Vg(i,s,l)}throw Error(t(156,s.tag))};function pm(i,s){return Hs(i,s)}function QS(i,s,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(i,s,l,h){return new QS(i,s,l,h)}function md(i){return i=i.prototype,!(!i||!i.isReactComponent)}function YS(i){if(typeof i=="function")return md(i)?1:0;if(i!=null){if(i=i.$$typeof,i===N)return 11;if(i===Se)return 14}return 2}function Di(i,s){var l=i.alternate;return l===null?(l=Nn(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&14680064,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l}function Lu(i,s,l,h,p,v){var w=2;if(h=i,typeof i=="function")md(i)&&(w=1);else if(typeof i=="string")w=5;else e:switch(i){case R:return Ps(l.children,p,v,s);case P:w=8,p|=8;break;case T:return i=Nn(12,l,s,p|2),i.elementType=T,i.lanes=v,i;case A:return i=Nn(13,l,s,p),i.elementType=A,i.lanes=v,i;case ye:return i=Nn(19,l,s,p),i.elementType=ye,i.lanes=v,i;case Te:return Pu(l,p,v,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case x:w=10;break e;case O:w=9;break e;case N:w=11;break e;case Se:w=14;break e;case Ae:w=16,h=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return s=Nn(w,l,s,p),s.elementType=i,s.type=h,s.lanes=v,s}function Ps(i,s,l,h){return i=Nn(7,i,h,s),i.lanes=l,i}function Pu(i,s,l,h){return i=Nn(22,i,h,s),i.elementType=Te,i.lanes=l,i.stateNode={isHidden:!1},i}function vd(i,s,l){return i=Nn(6,i,null,s),i.lanes=l,i}function yd(i,s,l){return s=Nn(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function ZS(i,s,l,h,p){this.tag=s,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mi(0),this.expirationTimes=mi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mi(0),this.identifierPrefix=h,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function _d(i,s,l,h,p,v,w,M,V){return i=new ZS(i,s,l,M,V),s===1?(s=1,v===!0&&(s|=8)):s=0,v=Nn(3,null,null,s),i.current=v,v.stateNode=i,v.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},bh(v),i}function JS(i,s,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Q,key:h==null?null:""+h,children:i,containerInfo:s,implementation:l}}function gm(i){if(!i)return Li;i=i._reactInternals;e:{if(Gn(i)!==i||i.tag!==1)throw Error(t(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(an(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(i.tag===1){var l=i.type;if(an(l))return $p(i,l,s)}return s}function mm(i,s,l,h,p,v,w,M,V){return i=_d(l,h,!0,i,p,v,w,M,V),i.context=gm(null),l=i.current,h=tn(),p=Mi(l),v=Kr(h,p),v.callback=s??null,Ri(l,v,p),i.current.lanes=p,vi(i,p,h),cn(i,h),i}function ku(i,s,l,h){var p=s.current,v=tn(),w=Mi(p);return l=gm(l),s.context===null?s.context=l:s.pendingContext=l,s=Kr(v,w),s.payload={element:i},h=h===void 0?null:h,h!==null&&(s.callback=h),i=Ri(p,s,w),i!==null&&(sr(i,p,w,v),su(i,p,w)),w}function Ru(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function vm(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function Ed(i,s){vm(i,s),(i=i.alternate)&&vm(i,s)}var ym=typeof reportError=="function"?reportError:function(i){console.error(i)};function wd(i){this._internalRoot=i}Au.prototype.render=wd.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(t(409));ku(i,s,null,null)},Au.prototype.unmount=wd.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Ts(function(){ku(null,i,null,null)}),s[$r]=null}};function Au(i){this._internalRoot=i}Au.prototype.unstable_scheduleHydration=function(i){if(i){var s=Al();i={blockedOn:null,target:i,priority:s};for(var l=0;l<Er.length&&s!==0&&s<Er[l].priority;l++);Er.splice(l,0,i),l===0&&Ml(i)}};function Sd(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function xu(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function _m(){}function XS(i,s,l,h,p){if(p){if(typeof h=="function"){var v=h;h=function(){var K=Ru(w);v.call(K)}}var w=mm(s,h,i,0,null,!1,!1,"",_m);return i._reactRootContainer=w,i[$r]=w.current,ya(i.nodeType===8?i.parentNode:i),Ts(),w}for(;p=i.lastChild;)i.removeChild(p);if(typeof h=="function"){var M=h;h=function(){var K=Ru(V);M.call(K)}}var V=_d(i,0,!1,null,null,!1,!1,"",_m);return i._reactRootContainer=V,i[$r]=V.current,ya(i.nodeType===8?i.parentNode:i),Ts(function(){ku(s,V,l,h)}),V}function bu(i,s,l,h,p){var v=l._reactRootContainer;if(v){var w=v;if(typeof p=="function"){var M=p;p=function(){var V=Ru(w);M.call(V)}}ku(s,w,i,p)}else w=XS(l,s,i,p,h);return Ru(w)}kl=function(i){switch(i.tag){case 3:var s=i.stateNode;if(s.current.memoizedState.isDehydrated){var l=gi(s.pendingLanes);l!==0&&(yi(s,l|1),cn(s,rt()),!(Ye&6)&&(To=rt()+500,Pi()))}break;case 13:Ts(function(){var h=Gr(i,1);if(h!==null){var p=tn();sr(h,i,1,p)}}),Ed(i,1)}},Ks=function(i){if(i.tag===13){var s=Gr(i,134217728);if(s!==null){var l=tn();sr(s,i,134217728,l)}Ed(i,134217728)}},Rl=function(i){if(i.tag===13){var s=Mi(i),l=Gr(i,s);if(l!==null){var h=tn();sr(l,i,s,h)}Ed(i,s)}},Al=function(){return qe},xl=function(i,s){var l=qe;try{return qe=i,s()}finally{qe=l}},Vr=function(i,s,l){switch(s){case"input":if(ur(i,l),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var h=l[s];if(h!==i&&h.form===i.form){var p=Ql(h);if(!p)throw Error(t(90));Rt(h),ur(h,p)}}}break;case"textarea":Nr(i,l);break;case"select":s=l.value,s!=null&&nn(i,!!l.multiple,s,!1)}},vr=fd,yr=Ts;var eC={usingClientEntryPoint:!1,Events:[wa,co,Ql,gn,mr,fd]},Da={findFiberByHostInstance:ms,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tC={bundleType:Da.bundleType,version:Da.version,rendererPackageName:Da.rendererPackageName,rendererConfig:Da.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:W.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=na(i),i===null?null:i.stateNode},findFiberByHostInstance:Da.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mu.isDisabled&&Mu.supportsFiber)try{us=Mu.inject(tC),mn=Mu}catch{}}return hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eC,hn.createPortal=function(i,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sd(s))throw Error(t(200));return JS(i,s,null,l)},hn.createRoot=function(i,s){if(!Sd(i))throw Error(t(299));var l=!1,h="",p=ym;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),s=_d(i,1,!1,null,null,l,!1,h,p),i[$r]=s.current,ya(i.nodeType===8?i.parentNode:i),new wd(s)},hn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=na(s),i=i===null?null:i.stateNode,i},hn.flushSync=function(i){return Ts(i)},hn.hydrate=function(i,s,l){if(!xu(s))throw Error(t(200));return bu(null,i,s,!0,l)},hn.hydrateRoot=function(i,s,l){if(!Sd(i))throw Error(t(405));var h=l!=null&&l.hydratedSources||null,p=!1,v="",w=ym;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onRecoverableError!==void 0&&(w=l.onRecoverableError)),s=mm(s,null,i,1,l??null,p,!1,v,w),i[$r]=s.current,ya(i),h)for(i=0;i<h.length;i++)l=h[i],p=l._getVersion,p=p(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,p]:s.mutableSourceEagerHydrationData.push(l,p);return new Au(s)},hn.render=function(i,s,l){if(!xu(s))throw Error(t(200));return bu(null,i,s,!1,l)},hn.unmountComponentAtNode=function(i){if(!xu(i))throw Error(t(40));return i._reactRootContainer?(Ts(function(){bu(null,null,i,!1,function(){i._reactRootContainer=null,i[$r]=null})}),!0):!1},hn.unstable_batchedUpdates=fd,hn.unstable_renderSubtreeIntoContainer=function(i,s,l,h){if(!xu(l))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return bu(i,s,l,!1,h)},hn.version="18.3.1-next-f1338f8080-20240426",hn}var Pm;function u_(){if(Pm)return Id.exports;Pm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Id.exports=lC(),Id.exports}var km;function uC(){if(km)return Ou;km=1;var n=u_();return Ou.createRoot=n.createRoot,Ou.hydrateRoot=n.hydrateRoot,Ou}var cC=uC(),Va={},Rm;function hC(){if(Rm)return Va;Rm=1,Object.defineProperty(Va,"__esModule",{value:!0}),Va.parse=c,Va.serialize=m;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,a=(()=>{const C=function(){};return C.prototype=Object.create(null),C})();function c(C,k){const L=new a,D=C.length;if(D<2)return L;const b=(k==null?void 0:k.decode)||_;let B=0;do{const j=C.indexOf("=",B);if(j===-1)break;const X=C.indexOf(";",B),W=X===-1?D:X;if(j>W){B=C.lastIndexOf(";",j-1)+1;continue}const q=d(C,B,j),Q=f(C,j,q),R=C.slice(q,Q);if(L[R]===void 0){let P=d(C,j+1,W),T=f(C,W,P);const x=b(C.slice(P,T));L[R]=x}B=W+1}while(B<D);return L}function d(C,k,L){do{const D=C.charCodeAt(k);if(D!==32&&D!==9)return k}while(++k<L);return L}function f(C,k,L){for(;k>L;){const D=C.charCodeAt(--k);if(D!==32&&D!==9)return k+1}return L}function m(C,k,L){const D=(L==null?void 0:L.encode)||encodeURIComponent;if(!n.test(C))throw new TypeError(`argument name is invalid: ${C}`);const b=D(k);if(!e.test(b))throw new TypeError(`argument val is invalid: ${k}`);let B=C+"="+b;if(!L)return B;if(L.maxAge!==void 0){if(!Number.isInteger(L.maxAge))throw new TypeError(`option maxAge is invalid: ${L.maxAge}`);B+="; Max-Age="+L.maxAge}if(L.domain){if(!t.test(L.domain))throw new TypeError(`option domain is invalid: ${L.domain}`);B+="; Domain="+L.domain}if(L.path){if(!r.test(L.path))throw new TypeError(`option path is invalid: ${L.path}`);B+="; Path="+L.path}if(L.expires){if(!S(L.expires)||!Number.isFinite(L.expires.valueOf()))throw new TypeError(`option expires is invalid: ${L.expires}`);B+="; Expires="+L.expires.toUTCString()}if(L.httpOnly&&(B+="; HttpOnly"),L.secure&&(B+="; Secure"),L.partitioned&&(B+="; Partitioned"),L.priority)switch(typeof L.priority=="string"?L.priority.toLowerCase():void 0){case"low":B+="; Priority=Low";break;case"medium":B+="; Priority=Medium";break;case"high":B+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${L.priority}`)}if(L.sameSite)switch(typeof L.sameSite=="string"?L.sameSite.toLowerCase():L.sameSite){case!0:case"strict":B+="; SameSite=Strict";break;case"lax":B+="; SameSite=Lax";break;case"none":B+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${L.sameSite}`)}return B}function _(C){if(C.indexOf("%")===-1)return C;try{return decodeURIComponent(C)}catch{return C}}function S(C){return o.call(C)==="[object Date]"}return Va}hC();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Am="popstate";function dC(n={}){function e(r,o){let{pathname:a,search:c,hash:d}=r.location;return qd("",{pathname:a,search:c,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(r,o){return typeof o=="string"?o:Za(o)}return pC(e,t,null,n)}function ft(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function br(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function fC(){return Math.random().toString(36).substring(2,10)}function xm(n,e){return{usr:n.state,key:n.key,idx:e}}function qd(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Ho(e):e,state:t,key:e&&e.key||r||fC()}}function Za({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Ho(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function pC(n,e,t,r={}){let{window:o=document.defaultView,v5Compat:a=!1}=r,c=o.history,d="POP",f=null,m=_();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function _(){return(c.state||{idx:null}).idx}function S(){d="POP";let b=_(),B=b==null?null:b-m;m=b,f&&f({action:d,location:D.location,delta:B})}function C(b,B){d="PUSH";let j=qd(D.location,b,B);m=_()+1;let X=xm(j,m),W=D.createHref(j);try{c.pushState(X,"",W)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;o.location.assign(W)}a&&f&&f({action:d,location:D.location,delta:1})}function k(b,B){d="REPLACE";let j=qd(D.location,b,B);m=_();let X=xm(j,m),W=D.createHref(j);c.replaceState(X,"",W),a&&f&&f({action:d,location:D.location,delta:0})}function L(b){let B=o.location.origin!=="null"?o.location.origin:o.location.href,j=typeof b=="string"?b:Za(b);return j=j.replace(/ $/,"%20"),ft(B,`No window.location.(origin|href) available to create URL for href: ${j}`),new URL(j,B)}let D={get action(){return d},get location(){return n(o,c)},listen(b){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(Am,S),f=b,()=>{o.removeEventListener(Am,S),f=null}},createHref(b){return e(o,b)},createURL:L,encodeLocation(b){let B=L(b);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:C,replace:k,go(b){return c.go(b)}};return D}function c_(n,e,t="/"){return gC(n,e,t,!1)}function gC(n,e,t,r){let o=typeof e=="string"?Ho(e):e,a=Zi(o.pathname||"/",t);if(a==null)return null;let c=h_(n);mC(c);let d=null;for(let f=0;d==null&&f<c.length;++f){let m=PC(a);d=IC(c[f],m,r)}return d}function h_(n,e=[],t=[],r=""){let o=(a,c,d)=>{let f={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};f.relativePath.startsWith("/")&&(ft(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let m=ei([r,f.relativePath]),_=t.concat(f);a.children&&a.children.length>0&&(ft(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),h_(a.children,e,_,m)),!(a.path==null&&!a.index)&&e.push({path:m,score:CC(m,a.index),routesMeta:_})};return n.forEach((a,c)=>{var d;if(a.path===""||!((d=a.path)!=null&&d.includes("?")))o(a,c);else for(let f of d_(a.path))o(a,c,f)}),e}function d_(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return o?[a,""]:[a];let c=d_(r.join("/")),d=[];return d.push(...c.map(f=>f===""?a:[a,f].join("/"))),o&&d.push(...c),d.map(f=>n.startsWith("/")&&f===""?"/":f)}function mC(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:TC(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var vC=/^:[\w-]+$/,yC=3,_C=2,EC=1,wC=10,SC=-2,bm=n=>n==="*";function CC(n,e){let t=n.split("/"),r=t.length;return t.some(bm)&&(r+=SC),e&&(r+=_C),t.filter(o=>!bm(o)).reduce((o,a)=>o+(vC.test(a)?yC:a===""?EC:wC),r)}function TC(n,e){return n.length===e.length&&n.slice(0,-1).every((r,o)=>r===e[o])?n[n.length-1]-e[e.length-1]:0}function IC(n,e,t=!1){let{routesMeta:r}=n,o={},a="/",c=[];for(let d=0;d<r.length;++d){let f=r[d],m=d===r.length-1,_=a==="/"?e:e.slice(a.length)||"/",S=rc({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},_),C=f.route;if(!S&&m&&t&&!r[r.length-1].route.index&&(S=rc({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},_)),!S)return null;Object.assign(o,S.params),c.push({params:o,pathname:ei([a,S.pathname]),pathnameBase:xC(ei([a,S.pathnameBase])),route:C}),S.pathnameBase!=="/"&&(a=ei([a,S.pathnameBase]))}return c}function rc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=LC(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let a=o[0],c=a.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:r.reduce((m,{paramName:_,isOptional:S},C)=>{if(_==="*"){let L=d[C]||"";c=a.slice(0,a.length-L.length).replace(/(.)\/+$/,"$1")}const k=d[C];return S&&!k?m[_]=void 0:m[_]=(k||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:c,pattern:n}}function LC(n,e=!1,t=!0){br(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function PC(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return br(!1,`The URL path "${n}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Zi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function kC(n,e="/"){let{pathname:t,search:r="",hash:o=""}=typeof n=="string"?Ho(n):n;return{pathname:t?t.startsWith("/")?t:RC(t,e):e,search:bC(r),hash:MC(o)}}function RC(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function kd(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function AC(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function f_(n){let e=AC(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function p_(n,e,t,r=!1){let o;typeof n=="string"?o=Ho(n):(o={...n},ft(!o.pathname||!o.pathname.includes("?"),kd("?","pathname","search",o)),ft(!o.pathname||!o.pathname.includes("#"),kd("#","pathname","hash",o)),ft(!o.search||!o.search.includes("#"),kd("#","search","hash",o)));let a=n===""||o.pathname==="",c=a?"/":o.pathname,d;if(c==null)d=t;else{let S=e.length-1;if(!r&&c.startsWith("..")){let C=c.split("/");for(;C[0]==="..";)C.shift(),S-=1;o.pathname=C.join("/")}d=S>=0?e[S]:"/"}let f=kC(o,d),m=c&&c!=="/"&&c.endsWith("/"),_=(a||c===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(m||_)&&(f.pathname+="/"),f}var ei=n=>n.join("/").replace(/\/\/+/g,"/"),xC=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),bC=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,MC=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function OC(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var g_=["POST","PUT","PATCH","DELETE"];new Set(g_);var DC=["GET",...g_];new Set(DC);var qo=y.createContext(null);qo.displayName="DataRouter";var bc=y.createContext(null);bc.displayName="DataRouterState";var m_=y.createContext({isTransitioning:!1});m_.displayName="ViewTransition";var NC=y.createContext(new Map);NC.displayName="Fetchers";var VC=y.createContext(null);VC.displayName="Await";var Dr=y.createContext(null);Dr.displayName="Navigation";var al=y.createContext(null);al.displayName="Location";var ai=y.createContext({outlet:null,matches:[],isDataRoute:!1});ai.displayName="Route";var wf=y.createContext(null);wf.displayName="RouteError";function UC(n,{relative:e}={}){ft(ll(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=y.useContext(Dr),{hash:o,pathname:a,search:c}=cl(n,{relative:e}),d=a;return t!=="/"&&(d=a==="/"?t:ei([t,a])),r.createHref({pathname:d,search:c,hash:o})}function ll(){return y.useContext(al)!=null}function Vs(){return ft(ll(),"useLocation() may be used only in the context of a <Router> component."),y.useContext(al).location}var v_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function y_(n){y.useContext(Dr).static||y.useLayoutEffect(n)}function ul(){let{isDataRoute:n}=y.useContext(ai);return n?ZC():FC()}function FC(){ft(ll(),"useNavigate() may be used only in the context of a <Router> component.");let n=y.useContext(qo),{basename:e,navigator:t}=y.useContext(Dr),{matches:r}=y.useContext(ai),{pathname:o}=Vs(),a=JSON.stringify(f_(r)),c=y.useRef(!1);return y_(()=>{c.current=!0}),y.useCallback((f,m={})=>{if(br(c.current,v_),!c.current)return;if(typeof f=="number"){t.go(f);return}let _=p_(f,JSON.parse(a),o,m.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:ei([e,_.pathname])),(m.replace?t.replace:t.push)(_,m.state,m)},[e,t,a,o,n])}y.createContext(null);function cl(n,{relative:e}={}){let{matches:t}=y.useContext(ai),{pathname:r}=Vs(),o=JSON.stringify(f_(t));return y.useMemo(()=>p_(n,JSON.parse(o),r,e==="path"),[n,o,r,e])}function jC(n,e){return __(n,e)}function __(n,e,t,r){var B;ft(ll(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=y.useContext(Dr),{matches:a}=y.useContext(ai),c=a[a.length-1],d=c?c.params:{},f=c?c.pathname:"/",m=c?c.pathnameBase:"/",_=c&&c.route;{let j=_&&_.path||"";E_(f,!_||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let S=Vs(),C;if(e){let j=typeof e=="string"?Ho(e):e;ft(m==="/"||((B=j.pathname)==null?void 0:B.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${j.pathname}" was given in the \`location\` prop.`),C=j}else C=S;let k=C.pathname||"/",L=k;if(m!=="/"){let j=m.replace(/^\//,"").split("/");L="/"+k.replace(/^\//,"").split("/").slice(j.length).join("/")}let D=c_(n,{pathname:L});br(_||D!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),br(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=HC(D&&D.map(j=>Object.assign({},j,{params:Object.assign({},d,j.params),pathname:ei([m,o.encodeLocation?o.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?m:ei([m,o.encodeLocation?o.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),a,t,r);return e&&b?y.createElement(al.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},b):b}function BC(){let n=YC(),e=OC(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=y.createElement(y.Fragment,null,y.createElement("p",null," Hey developer "),y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",y.createElement("code",{style:a},"ErrorBoundary")," or"," ",y.createElement("code",{style:a},"errorElement")," prop on your route.")),y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),t?y.createElement("pre",{style:o},t):null,c)}var zC=y.createElement(BC,null),$C=class extends y.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?y.createElement(ai.Provider,{value:this.props.routeContext},y.createElement(wf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function WC({routeContext:n,match:e,children:t}){let r=y.useContext(qo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),y.createElement(ai.Provider,{value:n},t)}function HC(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=t==null?void 0:t.errors;if(a!=null){let f=o.findIndex(m=>m.route.id&&(a==null?void 0:a[m.route.id])!==void 0);ft(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,f+1))}let c=!1,d=-1;if(t)for(let f=0;f<o.length;f++){let m=o[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=f),m.route.id){let{loaderData:_,errors:S}=t,C=m.route.loader&&!_.hasOwnProperty(m.route.id)&&(!S||S[m.route.id]===void 0);if(m.route.lazy||C){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((f,m,_)=>{let S,C=!1,k=null,L=null;t&&(S=a&&m.route.id?a[m.route.id]:void 0,k=m.route.errorElement||zC,c&&(d<0&&_===0?(E_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,L=null):d===_&&(C=!0,L=m.route.hydrateFallbackElement||null)));let D=e.concat(o.slice(0,_+1)),b=()=>{let B;return S?B=k:C?B=L:m.route.Component?B=y.createElement(m.route.Component,null):m.route.element?B=m.route.element:B=f,y.createElement(WC,{match:m,routeContext:{outlet:f,matches:D,isDataRoute:t!=null},children:B})};return t&&(m.route.ErrorBoundary||m.route.errorElement||_===0)?y.createElement($C,{location:t.location,revalidation:t.revalidation,component:k,error:S,children:b(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):b()},null)}function Sf(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qC(n){let e=y.useContext(qo);return ft(e,Sf(n)),e}function GC(n){let e=y.useContext(bc);return ft(e,Sf(n)),e}function KC(n){let e=y.useContext(ai);return ft(e,Sf(n)),e}function Cf(n){let e=KC(n),t=e.matches[e.matches.length-1];return ft(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function QC(){return Cf("useRouteId")}function YC(){var r;let n=y.useContext(wf),e=GC("useRouteError"),t=Cf("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function ZC(){let{router:n}=qC("useNavigate"),e=Cf("useNavigate"),t=y.useRef(!1);return y_(()=>{t.current=!0}),y.useCallback(async(o,a={})=>{br(t.current,v_),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...a}))},[n,e])}var Mm={};function E_(n,e,t){!e&&!Mm[n]&&(Mm[n]=!0,br(!1,t))}y.memo(JC);function JC({routes:n,future:e,state:t}){return __(n,void 0,t,e)}function Vn(n){ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function XC({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:o,static:a=!1}){ft(!ll(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),d=y.useMemo(()=>({basename:c,navigator:o,static:a,future:{}}),[c,o,a]);typeof t=="string"&&(t=Ho(t));let{pathname:f="/",search:m="",hash:_="",state:S=null,key:C="default"}=t,k=y.useMemo(()=>{let L=Zi(f,c);return L==null?null:{location:{pathname:L,search:m,hash:_,state:S,key:C},navigationType:r}},[c,f,m,_,S,C,r]);return br(k!=null,`<Router basename="${c}"> is not able to match the URL "${f}${m}${_}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:y.createElement(Dr.Provider,{value:d},y.createElement(al.Provider,{children:e,value:k}))}function eT({children:n,location:e}){return jC(Gd(n),e)}function Gd(n,e=[]){let t=[];return y.Children.forEach(n,(r,o)=>{if(!y.isValidElement(r))return;let a=[...e,o];if(r.type===y.Fragment){t.push.apply(t,Gd(r.props.children,a));return}ft(r.type===Vn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ft(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Gd(r.props.children,a)),t.push(c)}),t}var Hu="get",qu="application/x-www-form-urlencoded";function Mc(n){return n!=null&&typeof n.tagName=="string"}function tT(n){return Mc(n)&&n.tagName.toLowerCase()==="button"}function nT(n){return Mc(n)&&n.tagName.toLowerCase()==="form"}function rT(n){return Mc(n)&&n.tagName.toLowerCase()==="input"}function iT(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function sT(n,e){return n.button===0&&(!e||e==="_self")&&!iT(n)}var Du=null;function oT(){if(Du===null)try{new FormData(document.createElement("form"),0),Du=!1}catch{Du=!0}return Du}var aT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Rd(n){return n!=null&&!aT.has(n)?(br(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${qu}"`),null):n}function lT(n,e){let t,r,o,a,c;if(nT(n)){let d=n.getAttribute("action");r=d?Zi(d,e):null,t=n.getAttribute("method")||Hu,o=Rd(n.getAttribute("enctype"))||qu,a=new FormData(n)}else if(tT(n)||rT(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||d.getAttribute("action");if(r=f?Zi(f,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||Hu,o=Rd(n.getAttribute("formenctype"))||Rd(d.getAttribute("enctype"))||qu,a=new FormData(d,n),!oT()){let{name:m,type:_,value:S}=n;if(_==="image"){let C=m?`${m}.`:"";a.append(`${C}x`,"0"),a.append(`${C}y`,"0")}else m&&a.append(m,S)}}else{if(Mc(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Hu,r=null,o=qu,c=n}return a&&o==="text/plain"&&(c=a,a=void 0),{action:r,method:t.toLowerCase(),encType:o,formData:a,body:c}}function Tf(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function uT(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function cT(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function hT(n,e,t){let r=await Promise.all(n.map(async o=>{let a=e.routes[o.route.id];if(a){let c=await uT(a,t);return c.links?c.links():[]}return[]}));return gT(r.flat(1).filter(cT).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Om(n,e,t,r,o,a){let c=(f,m)=>t[m]?f.route.id!==t[m].route.id:!0,d=(f,m)=>{var _;return t[m].pathname!==f.pathname||((_=t[m].route.path)==null?void 0:_.endsWith("*"))&&t[m].params["*"]!==f.params["*"]};return a==="assets"?e.filter((f,m)=>c(f,m)||d(f,m)):a==="data"?e.filter((f,m)=>{var S;let _=r.routes[f.route.id];if(!_||!_.hasLoader)return!1;if(c(f,m)||d(f,m))return!0;if(f.route.shouldRevalidate){let C=f.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((S=t[0])==null?void 0:S.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof C=="boolean")return C}return!0}):[]}function dT(n,e){return fT(n.map(t=>{let r=e.routes[t.route.id];if(!r)return[];let o=[r.module];return r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function fT(n){return[...new Set(n)]}function pT(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function gT(n,e){let t=new Set;return new Set(e),n.reduce((r,o)=>{let a=JSON.stringify(pT(o));return t.has(a)||(t.add(a),r.push({key:a,link:o})),r},[])}function mT(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function vT(){let n=y.useContext(qo);return Tf(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function yT(){let n=y.useContext(bc);return Tf(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var If=y.createContext(void 0);If.displayName="FrameworkContext";function w_(){let n=y.useContext(If);return Tf(n,"You must render this element inside a <HydratedRouter> element"),n}function _T(n,e){let t=y.useContext(If),[r,o]=y.useState(!1),[a,c]=y.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:m,onMouseLeave:_,onTouchStart:S}=e,C=y.useRef(null);y.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let D=B=>{B.forEach(j=>{c(j.isIntersecting)})},b=new IntersectionObserver(D,{threshold:.5});return C.current&&b.observe(C.current),()=>{b.disconnect()}}},[n]),y.useEffect(()=>{if(r){let D=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(D)}}},[r]);let k=()=>{o(!0)},L=()=>{o(!1),c(!1)};return t?n!=="intent"?[a,C,{}]:[a,C,{onFocus:Ua(d,k),onBlur:Ua(f,L),onMouseEnter:Ua(m,k),onMouseLeave:Ua(_,L),onTouchStart:Ua(S,k)}]:[!1,C,{}]}function Ua(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function ET({page:n,...e}){let{router:t}=vT(),r=y.useMemo(()=>c_(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?y.createElement(ST,{page:n,matches:r,...e}):null}function wT(n){let{manifest:e,routeModules:t}=w_(),[r,o]=y.useState([]);return y.useEffect(()=>{let a=!1;return hT(n,e,t).then(c=>{a||o(c)}),()=>{a=!0}},[n,e,t]),r}function ST({page:n,matches:e,...t}){let r=Vs(),{manifest:o,routeModules:a}=w_(),{loaderData:c,matches:d}=yT(),f=y.useMemo(()=>Om(n,e,d,o,r,"data"),[n,e,d,o,r]),m=y.useMemo(()=>Om(n,e,d,o,r,"assets"),[n,e,d,o,r]),_=y.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let k=new Set,L=!1;if(e.forEach(b=>{var j;let B=o.routes[b.route.id];!B||!B.hasLoader||(!f.some(X=>X.route.id===b.route.id)&&b.route.id in c&&((j=a[b.route.id])!=null&&j.shouldRevalidate)||B.hasClientLoader?L=!0:k.add(b.route.id))}),k.size===0)return[];let D=mT(n);return L&&k.size>0&&D.searchParams.set("_routes",e.filter(b=>k.has(b.route.id)).map(b=>b.route.id).join(",")),[D.pathname+D.search]},[c,r,o,f,e,n,a]),S=y.useMemo(()=>dT(m,o),[m,o]),C=wT(m);return y.createElement(y.Fragment,null,_.map(k=>y.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...t})),S.map(k=>y.createElement("link",{key:k,rel:"modulepreload",href:k,...t})),C.map(({key:k,link:L})=>y.createElement("link",{key:k,...L})))}function CT(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var S_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{S_&&(window.__reactRouterVersion="7.1.1")}catch{}function TT({basename:n,children:e,window:t}){let r=y.useRef();r.current==null&&(r.current=dC({window:t,v5Compat:!0}));let o=r.current,[a,c]=y.useState({action:o.action,location:o.location}),d=y.useCallback(f=>{y.startTransition(()=>c(f))},[c]);return y.useLayoutEffect(()=>o.listen(d),[o,d]),y.createElement(XC,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:o})}var C_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,T_=y.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:o,reloadDocument:a,replace:c,state:d,target:f,to:m,preventScrollReset:_,viewTransition:S,...C},k){let{basename:L}=y.useContext(Dr),D=typeof m=="string"&&C_.test(m),b,B=!1;if(typeof m=="string"&&D&&(b=m,S_))try{let T=new URL(window.location.href),x=m.startsWith("//")?new URL(T.protocol+m):new URL(m),O=Zi(x.pathname,L);x.origin===T.origin&&O!=null?m=O+x.search+x.hash:B=!0}catch{br(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=UC(m,{relative:o}),[X,W,q]=_T(r,C),Q=kT(m,{replace:c,state:d,target:f,preventScrollReset:_,relative:o,viewTransition:S});function R(T){e&&e(T),T.defaultPrevented||Q(T)}let P=y.createElement("a",{...C,...q,href:b||j,onClick:B||a?e:R,ref:CT(k,W),target:f,"data-discover":!D&&t==="render"?"true":void 0});return X&&!D?y.createElement(y.Fragment,null,P,y.createElement(ET,{page:j})):P});T_.displayName="Link";var IT=y.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:o=!1,style:a,to:c,viewTransition:d,children:f,...m},_){let S=cl(c,{relative:m.relative}),C=Vs(),k=y.useContext(bc),{navigator:L,basename:D}=y.useContext(Dr),b=k!=null&&MT(S)&&d===!0,B=L.encodeLocation?L.encodeLocation(S).pathname:S.pathname,j=C.pathname,X=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;t||(j=j.toLowerCase(),X=X?X.toLowerCase():null,B=B.toLowerCase()),X&&D&&(X=Zi(X,D)||X);const W=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let q=j===B||!o&&j.startsWith(B)&&j.charAt(W)==="/",Q=X!=null&&(X===B||!o&&X.startsWith(B)&&X.charAt(B.length)==="/"),R={isActive:q,isPending:Q,isTransitioning:b},P=q?e:void 0,T;typeof r=="function"?T=r(R):T=[r,q?"active":null,Q?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let x=typeof a=="function"?a(R):a;return y.createElement(T_,{...m,"aria-current":P,className:T,ref:_,style:x,to:c,viewTransition:d},typeof f=="function"?f(R):f)});IT.displayName="NavLink";var LT=y.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:o,state:a,method:c=Hu,action:d,onSubmit:f,relative:m,preventScrollReset:_,viewTransition:S,...C},k)=>{let L=xT(),D=bT(d,{relative:m}),b=c.toLowerCase()==="get"?"get":"post",B=typeof d=="string"&&C_.test(d),j=X=>{if(f&&f(X),X.defaultPrevented)return;X.preventDefault();let W=X.nativeEvent.submitter,q=(W==null?void 0:W.getAttribute("formmethod"))||c;L(W||X.currentTarget,{fetcherKey:e,method:q,navigate:t,replace:o,state:a,relative:m,preventScrollReset:_,viewTransition:S})};return y.createElement("form",{ref:k,method:b,action:D,onSubmit:r?f:j,...C,"data-discover":!B&&n==="render"?"true":void 0})});LT.displayName="Form";function PT(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function I_(n){let e=y.useContext(qo);return ft(e,PT(n)),e}function kT(n,{target:e,replace:t,state:r,preventScrollReset:o,relative:a,viewTransition:c}={}){let d=ul(),f=Vs(),m=cl(n,{relative:a});return y.useCallback(_=>{if(sT(_,e)){_.preventDefault();let S=t!==void 0?t:Za(f)===Za(m);d(n,{replace:S,state:r,preventScrollReset:o,relative:a,viewTransition:c})}},[f,d,m,t,r,e,n,o,a,c])}var RT=0,AT=()=>`__${String(++RT)}__`;function xT(){let{router:n}=I_("useSubmit"),{basename:e}=y.useContext(Dr),t=QC();return y.useCallback(async(r,o={})=>{let{action:a,method:c,encType:d,formData:f,body:m}=lT(r,e);if(o.navigate===!1){let _=o.fetcherKey||AT();await n.fetch(_,t,o.action||a,{preventScrollReset:o.preventScrollReset,formData:f,body:m,formMethod:o.method||c,formEncType:o.encType||d,flushSync:o.flushSync})}else await n.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:f,body:m,formMethod:o.method||c,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function bT(n,{relative:e}={}){let{basename:t}=y.useContext(Dr),r=y.useContext(ai);ft(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),a={...cl(n||".",{relative:e})},c=Vs();if(n==null){a.search=c.search;let d=new URLSearchParams(a.search),f=d.getAll("index");if(f.some(_=>_==="")){d.delete("index"),f.filter(S=>S).forEach(S=>d.append("index",S));let _=d.toString();a.search=_?`?${_}`:""}}return(!n||n===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:ei([t,a.pathname])),Za(a)}function MT(n,e={}){let t=y.useContext(m_);ft(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=I_("useViewTransitionState"),o=cl(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=Zi(t.currentLocation.pathname,r)||t.currentLocation.pathname,c=Zi(t.nextLocation.pathname,r)||t.nextLocation.pathname;return rc(o.pathname,c)!=null||rc(o.pathname,a)!=null}new TextEncoder;var Go=u_();function OT(){return le.jsx("div",{className:"flex h-screen items-center justify-center bg-primary text-white",children:le.jsx("h1",{className:"text-4xl font-bold",children:"Women Safety App"})})}function DT(){const n=ul();return le.jsxs("div",{className:"flex flex-col h-screen items-center justify-center bg-secondary text-white p-5",children:[le.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Welcome to Women Safety App"}),le.jsx("p",{className:"text-lg text-center mb-8",children:"Your companion for ensuring safety and security."}),le.jsx("button",{className:"bg-primary px-6 py-2 rounded-full text-white font-semibold",onClick:()=>n("/sos"),children:"Get Started"})]})}function NT(){const n=ul();return le.jsxs("div",{className:"flex flex-col h-screen items-center justify-center bg-white p-5",children:[le.jsx("h2",{className:"text-3xl font-bold text-primary mb-4",children:"SOS Feature"}),le.jsx("img",{src:"/sos-image.png",alt:"SOS",className:"w-64 h-64 object-cover mb-6"}),le.jsx("p",{className:"text-lg text-gray-700 text-center mb-6",children:"Tap the button below to send an emergency alert to your trusted contacts."}),le.jsx("button",{className:"bg-secondary px-6 py-2 rounded-full text-white font-semibold",onClick:()=>n("/spy-camera"),children:"Next"})]})}function VT(){return le.jsxs("div",{className:"flex flex-col h-screen items-center justify-center bg-white p-5",children:[le.jsx("h2",{className:"text-3xl font-bold text-primary mb-4",children:"Spy Camera"}),le.jsx("img",{src:"/spy-camera-image.png",alt:"Spy Camera",className:"w-64 h-64 object-cover mb-6"}),le.jsx("p",{className:"text-lg text-gray-700 text-center mb-6",children:"Use the spy camera feature to discreetly capture videos and ensure your safety."}),le.jsx("button",{className:"bg-secondary px-6 py-2 rounded-full text-white font-semibold",children:"Start Recording"})]})}function UT(){return le.jsxs("div",{className:"flex flex-col h-screen items-center justify-center bg-white p-5",children:[le.jsx("h2",{className:"text-3xl font-bold text-primary mb-4",children:"Share Location"}),le.jsx("img",{src:"/location-image.png",alt:"Share Location",className:"w-64 h-64 object-cover mb-6"}),le.jsx("p",{className:"text-lg text-gray-700 text-center mb-6",children:"Share your live location with trusted contacts in real-time to ensure your safety."}),le.jsx("button",{className:"bg-secondary px-6 py-2 rounded-full text-white font-semibold",children:"Share Now"})]})}function FT({title:n,description:e,onClick:t}){return le.jsxs("div",{className:"bg-secondary text-white p-6 rounded-lg shadow-lg hover:bg-primary cursor-pointer",onClick:t,children:[le.jsx("h3",{className:"text-2xl font-bold mb-2",children:n}),le.jsx("p",{className:"text-base",children:e})]})}function jT(){const n=ul(),e=[{title:"SOS",description:"Send emergency alerts",path:"/sos"},{title:"Spy Camera",description:"Discreet recording for safety",path:"/spy-camera"},{title:"Share Location",description:"Share your live location",path:"/share-location"}];return le.jsxs("div",{className:"bg-white min-h-screen p-5",children:[le.jsx("h1",{className:"text-primary text-3xl font-bold mb-6 text-center",children:"Women Safety App"}),le.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map((t,r)=>le.jsx(FT,{title:t.title,description:t.description,onClick:()=>n(t.path)},r))})]})}var Dm={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},BT=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const o=n[t++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[r++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],c=n[t++],d=n[t++],f=((o&7)<<18|(a&63)<<12|(c&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],c=n[t++];e[r++]=String.fromCharCode((o&15)<<12|(a&63)<<6|c&63)}}return e.join("")},P_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const a=n[o],c=o+1<n.length,d=c?n[o+1]:0,f=o+2<n.length,m=f?n[o+2]:0,_=a>>2,S=(a&3)<<4|d>>4;let C=(d&15)<<2|m>>6,k=m&63;f||(k=64,c||(C=64)),r.push(t[_],t[S],t[C],t[k])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(L_(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):BT(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],d=o<n.length?t[n.charAt(o)]:0;++o;const m=o<n.length?t[n.charAt(o)]:64;++o;const S=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||d==null||m==null||S==null)throw new zT;const C=a<<2|d>>4;if(r.push(C),m!==64){const k=d<<4&240|m>>2;if(r.push(k),S!==64){const L=m<<6&192|S;r.push(L)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class zT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $T=function(n){const e=L_(n);return P_.encodeByteArray(e,!0)},ic=function(n){return $T(n).replace(/\./g,"")},k_=function(n){try{return P_.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT=()=>WT().__FIREBASE_DEFAULTS__,qT=()=>{if(typeof process>"u"||typeof Dm>"u")return;const n=Dm.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},GT=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&k_(n[1]);return e&&JSON.parse(e)},Oc=()=>{try{return HT()||qT()||GT()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},R_=n=>{var e,t;return(t=(e=Oc())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},KT=n=>{const e=R_(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},A_=()=>{var n;return(n=Oc())===null||n===void 0?void 0:n.config},x_=n=>{var e;return(e=Oc())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[ic(JSON.stringify(t)),ic(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ZT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yt())}function JT(){var n;const e=(n=Oc())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function XT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function eI(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function tI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nI(){const n=Yt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function rI(){return!JT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function iI(){try{return typeof indexedDB=="object"}catch{return!1}}function sI(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI="FirebaseError";class li extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=oI,Object.setPrototypeOf(this,li.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hl.prototype.create)}}class hl{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],c=a?aI(a,r):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new li(o,d,r)}}function aI(n,e){return n.replace(lI,(t,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const lI=/\{\$([^}]+)}/g;function uI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function sc(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const o of t){if(!r.includes(o))return!1;const a=n[o],c=e[o];if(Nm(a)&&Nm(c)){if(!sc(a,c))return!1}else if(a!==c)return!1}for(const o of r)if(!t.includes(o))return!1;return!0}function Nm(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dl(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function cI(n,e){const t=new hI(n,e);return t.subscribe.bind(t)}class hI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let o;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");dI(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:r},o.next===void 0&&(o.next=Ad),o.error===void 0&&(o.error=Ad),o.complete===void 0&&(o.complete=Ad);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dI(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Ad(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(n){return n&&n._delegate?n._delegate:n}class Os{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new QT;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gI(e))try{this.getOrInitializeService({instanceIdentifier:Rs})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});r.resolve(a)}catch{}}}}clearInstance(e=Rs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Rs){return this.instances.has(e)}getOptions(e=Rs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);r===d&&c.resolve(o)}return o}onInit(e,t){var r;const o=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(o,a);const c=this.instances.get(o);return c&&e(c,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const o of r)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:pI(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Rs){return this.component?this.component.multipleInstances?e:Rs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pI(n){return n===Rs?void 0:n}function gI(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new fI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $e;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})($e||($e={}));const vI={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},yI=$e.INFO,_I={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},EI=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),o=_I[e];if(o)console[o](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Lf{constructor(e){this.name=e,this._logLevel=yI,this._logHandler=EI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...e),this._logHandler(this,$e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...e),this._logHandler(this,$e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$e.INFO,...e),this._logHandler(this,$e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$e.WARN,...e),this._logHandler(this,$e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...e),this._logHandler(this,$e.ERROR,...e)}}const wI=(n,e)=>e.some(t=>n instanceof t);let Vm,Um;function SI(){return Vm||(Vm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CI(){return Um||(Um=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const b_=new WeakMap,Kd=new WeakMap,M_=new WeakMap,xd=new WeakMap,Pf=new WeakMap;function TI(n){const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",c)},a=()=>{t(qi(n.result)),o()},c=()=>{r(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&b_.set(t,n)}).catch(()=>{}),Pf.set(e,n),e}function II(n){if(Kd.has(n))return;const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",c),n.removeEventListener("abort",c)},a=()=>{t(),o()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",c),n.addEventListener("abort",c)});Kd.set(n,e)}let Qd={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Kd.get(n);if(e==="objectStoreNames")return n.objectStoreNames||M_.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return qi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function LI(n){Qd=n(Qd)}function PI(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(bd(this),e,...t);return M_.set(r,e.sort?e.sort():[e]),qi(r)}:CI().includes(n)?function(...e){return n.apply(bd(this),e),qi(b_.get(this))}:function(...e){return qi(n.apply(bd(this),e))}}function kI(n){return typeof n=="function"?PI(n):(n instanceof IDBTransaction&&II(n),wI(n,SI())?new Proxy(n,Qd):n)}function qi(n){if(n instanceof IDBRequest)return TI(n);if(xd.has(n))return xd.get(n);const e=kI(n);return e!==n&&(xd.set(n,e),Pf.set(e,n)),e}const bd=n=>Pf.get(n);function RI(n,e,{blocked:t,upgrade:r,blocking:o,terminated:a}={}){const c=indexedDB.open(n,e),d=qi(c);return r&&c.addEventListener("upgradeneeded",f=>{r(qi(c.result),f.oldVersion,f.newVersion,qi(c.transaction),f)}),t&&c.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),d.then(f=>{a&&f.addEventListener("close",()=>a()),o&&f.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const AI=["get","getKey","getAll","getAllKeys","count"],xI=["put","add","delete","clear"],Md=new Map;function Fm(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Md.get(e))return Md.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,o=xI.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(o||AI.includes(t)))return;const a=async function(c,...d){const f=this.transaction(c,o?"readwrite":"readonly");let m=f.store;return r&&(m=m.index(d.shift())),(await Promise.all([m[t](...d),o&&f.done]))[0]};return Md.set(e,a),a}LI(n=>({...n,get:(e,t,r)=>Fm(e,t)||n.get(e,t,r),has:(e,t)=>!!Fm(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(MI(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function MI(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Yd="@firebase/app",jm="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ni=new Lf("@firebase/app"),OI="@firebase/app-compat",DI="@firebase/analytics-compat",NI="@firebase/analytics",VI="@firebase/app-check-compat",UI="@firebase/app-check",FI="@firebase/auth",jI="@firebase/auth-compat",BI="@firebase/database",zI="@firebase/data-connect",$I="@firebase/database-compat",WI="@firebase/functions",HI="@firebase/functions-compat",qI="@firebase/installations",GI="@firebase/installations-compat",KI="@firebase/messaging",QI="@firebase/messaging-compat",YI="@firebase/performance",ZI="@firebase/performance-compat",JI="@firebase/remote-config",XI="@firebase/remote-config-compat",eL="@firebase/storage",tL="@firebase/storage-compat",nL="@firebase/firestore",rL="@firebase/vertexai",iL="@firebase/firestore-compat",sL="firebase",oL="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd="[DEFAULT]",aL={[Yd]:"fire-core",[OI]:"fire-core-compat",[NI]:"fire-analytics",[DI]:"fire-analytics-compat",[UI]:"fire-app-check",[VI]:"fire-app-check-compat",[FI]:"fire-auth",[jI]:"fire-auth-compat",[BI]:"fire-rtdb",[zI]:"fire-data-connect",[$I]:"fire-rtdb-compat",[WI]:"fire-fn",[HI]:"fire-fn-compat",[qI]:"fire-iid",[GI]:"fire-iid-compat",[KI]:"fire-fcm",[QI]:"fire-fcm-compat",[YI]:"fire-perf",[ZI]:"fire-perf-compat",[JI]:"fire-rc",[XI]:"fire-rc-compat",[eL]:"fire-gcs",[tL]:"fire-gcs-compat",[nL]:"fire-fst",[iL]:"fire-fst-compat",[rL]:"fire-vertex","fire-js":"fire-js",[sL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oc=new Map,lL=new Map,Jd=new Map;function Bm(n,e){try{n.container.addComponent(e)}catch(t){ni.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function No(n){const e=n.name;if(Jd.has(e))return ni.debug(`There were multiple attempts to register component ${e}.`),!1;Jd.set(e,n);for(const t of oc.values())Bm(t,n);for(const t of lL.values())Bm(t,n);return!0}function kf(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Wi(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gi=new hl("app","Firebase",uL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Os("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko=oL;function O_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Zd,automaticDataCollectionEnabled:!1},e),o=r.name;if(typeof o!="string"||!o)throw Gi.create("bad-app-name",{appName:String(o)});if(t||(t=A_()),!t)throw Gi.create("no-options");const a=oc.get(o);if(a){if(sc(t,a.options)&&sc(r,a.config))return a;throw Gi.create("duplicate-app",{appName:o})}const c=new mI(o);for(const f of Jd.values())c.addComponent(f);const d=new cL(t,r,c);return oc.set(o,d),d}function D_(n=Zd){const e=oc.get(n);if(!e&&n===Zd&&A_())return O_();if(!e)throw Gi.create("no-app",{appName:n});return e}function Ki(n,e,t){var r;let o=(r=aL[n])!==null&&r!==void 0?r:n;t&&(o+=`-${t}`);const a=o.match(/\s|\//),c=e.match(/\s|\//);if(a||c){const d=[`Unable to register library "${o}" with version "${e}":`];a&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ni.warn(d.join(" "));return}No(new Os(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hL="firebase-heartbeat-database",dL=1,Ja="firebase-heartbeat-store";let Od=null;function N_(){return Od||(Od=RI(hL,dL,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Ja)}catch(t){console.warn(t)}}}}).catch(n=>{throw Gi.create("idb-open",{originalErrorMessage:n.message})})),Od}async function fL(n){try{const t=(await N_()).transaction(Ja),r=await t.objectStore(Ja).get(V_(n));return await t.done,r}catch(e){if(e instanceof li)ni.warn(e.message);else{const t=Gi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ni.warn(t.message)}}}async function zm(n,e){try{const r=(await N_()).transaction(Ja,"readwrite");await r.objectStore(Ja).put(e,V_(n)),await r.done}catch(t){if(t instanceof li)ni.warn(t.message);else{const r=Gi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ni.warn(r.message)}}}function V_(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL=1024,gL=30*24*60*60*1e3;class mL{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new yL(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=$m();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(c=>c.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const d=new Date(c.date).valueOf();return Date.now()-d<=gL}),this._storage.overwrite(this._heartbeatsCache))}catch(r){ni.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=$m(),{heartbeatsToSend:r,unsentEntries:o}=vL(this._heartbeatsCache.heartbeats),a=ic(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return ni.warn(t),""}}}function $m(){return new Date().toISOString().substring(0,10)}function vL(n,e=pL){const t=[];let r=n.slice();for(const o of n){const a=t.find(c=>c.agent===o.agent);if(a){if(a.dates.push(o.date),Wm(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Wm(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class yL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iI()?sI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await fL(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return zm(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return zm(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Wm(n){return ic(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _L(n){No(new Os("platform-logger",e=>new bI(e),"PRIVATE")),No(new Os("heartbeat",e=>new mL(e),"PRIVATE")),Ki(Yd,jm,n),Ki(Yd,jm,"esm2017"),Ki("fire-js","")}_L("");function Rf(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]]);return t}function U_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const EL=U_,F_=new hl("auth","Firebase",U_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ac=new Lf("@firebase/auth");function wL(n,...e){ac.logLevel<=$e.WARN&&ac.warn(`Auth (${Ko}): ${n}`,...e)}function Gu(n,...e){ac.logLevel<=$e.ERROR&&ac.error(`Auth (${Ko}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(n,...e){throw Af(n,...e)}function kr(n,...e){return Af(n,...e)}function j_(n,e,t){const r=Object.assign(Object.assign({},EL()),{[e]:t});return new hl("auth","Firebase",r).create(e,{appName:n.name})}function bs(n){return j_(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Af(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return F_.create(n,...e)}function De(n,e,...t){if(!n)throw Af(e,...t)}function Zr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Gu(e),new Error(e)}function ii(n,e){n||Zr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xd(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function SL(){return Hm()==="http:"||Hm()==="https:"}function Hm(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(SL()||eI()||"connection"in navigator)?navigator.onLine:!0}function TL(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e,t){this.shortDelay=e,this.longDelay=t,ii(t>e,"Short delay should be less than long delay!"),this.isMobile=ZT()||tI()}get(){return CL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xf(n,e){ii(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LL=new fl(3e4,6e4);function bf(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Qo(n,e,t,r,o={}){return z_(n,o,async()=>{let a={},c={};r&&(e==="GET"?c=r:a={body:JSON.stringify(r)});const d=dl(Object.assign({key:n.config.apiKey},c)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:e,headers:f},a);return XT()||(m.referrerPolicy="no-referrer"),B_.fetch()($_(n,n.config.apiHost,t,d),m)})}async function z_(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},IL),e);try{const o=new kL(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await a.json();if("needConfirmation"in c)throw Nu(n,"account-exists-with-different-credential",c);if(a.ok&&!("errorMessage"in c))return c;{const d=a.ok?c.errorMessage:c.error.message,[f,m]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nu(n,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw Nu(n,"email-already-in-use",c);if(f==="USER_DISABLED")throw Nu(n,"user-disabled",c);const _=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw j_(n,_,m);ri(n,_)}}catch(o){if(o instanceof li)throw o;ri(n,"network-request-failed",{message:String(o)})}}async function PL(n,e,t,r,o={}){const a=await Qo(n,e,t,r,o);return"mfaPendingCredential"in a&&ri(n,"multi-factor-auth-required",{_serverResponse:a}),a}function $_(n,e,t,r){const o=`${e}${t}?${r}`;return n.config.emulator?xf(n.config,o):`${n.config.apiScheme}://${o}`}class kL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(kr(this.auth,"network-request-failed")),LL.get())})}}function Nu(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const o=kr(n,e,r);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RL(n,e){return Qo(n,"POST","/v1/accounts:delete",e)}async function W_(n,e){return Qo(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ha(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function AL(n,e=!1){const t=lr(n),r=await t.getIdToken(e),o=Mf(r);De(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,c=a==null?void 0:a.sign_in_provider;return{claims:o,token:r,authTime:Ha(Dd(o.auth_time)),issuedAtTime:Ha(Dd(o.iat)),expirationTime:Ha(Dd(o.exp)),signInProvider:c||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Dd(n){return Number(n)*1e3}function Mf(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Gu("JWT malformed, contained fewer than 3 sections"),null;try{const o=k_(t);return o?JSON.parse(o):(Gu("Failed to decode base64 JWT payload"),null)}catch(o){return Gu("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function qm(n){const e=Mf(n);return De(e,"internal-error"),De(typeof e.exp<"u","internal-error"),De(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xa(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof li&&xL(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function xL({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ha(this.lastLoginAt),this.creationTime=Ha(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lc(n){var e;const t=n.auth,r=await n.getIdToken(),o=await Xa(n,W_(t,{idToken:r}));De(o==null?void 0:o.users.length,t,"internal-error");const a=o.users[0];n._notifyReloadListener(a);const c=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?H_(a.providerUserInfo):[],d=OL(n.providerData,c),f=n.isAnonymous,m=!(n.email&&a.passwordHash)&&!(d!=null&&d.length),_=f?m:!1,S={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:d,metadata:new ef(a.createdAt,a.lastLoginAt),isAnonymous:_};Object.assign(n,S)}async function ML(n){const e=lr(n);await lc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function OL(n,e){return[...n.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function H_(n){return n.map(e=>{var{providerId:t}=e,r=Rf(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DL(n,e){const t=await z_(n,{},async()=>{const r=dl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,c=$_(n,o,"/v1/token",`key=${a}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",B_.fetch()(c,{method:"POST",headers:d,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function NL(n,e){return Qo(n,"POST","/v2/accounts:revokeToken",bf(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){De(e.idToken,"internal-error"),De(typeof e.idToken<"u","internal-error"),De(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):qm(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){De(e.length!==0,"internal-error");const t=qm(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(De(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:o,expiresIn:a}=await DL(e,t);this.updateTokensAndExpiration(r,o,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:o,expirationTime:a}=t,c=new xo;return r&&(De(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),o&&(De(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),a&&(De(typeof a=="number","internal-error",{appName:e}),c.expirationTime=a),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xo,this.toJSON())}_performRefresh(){return Zr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(n,e){De(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Jr{constructor(e){var{uid:t,auth:r,stsTokenManager:o}=e,a=Rf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new ef(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Xa(this,this.stsTokenManager.getToken(this.auth,e));return De(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return AL(this,e)}reload(){return ML(this)}_assign(e){this!==e&&(De(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Jr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await lc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Wi(this.auth.app))return Promise.reject(bs(this.auth));const e=await this.getIdToken();return await Xa(this,RL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,o,a,c,d,f,m,_;const S=(r=t.displayName)!==null&&r!==void 0?r:void 0,C=(o=t.email)!==null&&o!==void 0?o:void 0,k=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,L=(c=t.photoURL)!==null&&c!==void 0?c:void 0,D=(d=t.tenantId)!==null&&d!==void 0?d:void 0,b=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,B=(m=t.createdAt)!==null&&m!==void 0?m:void 0,j=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:X,emailVerified:W,isAnonymous:q,providerData:Q,stsTokenManager:R}=t;De(X&&R,e,"internal-error");const P=xo.fromJSON(this.name,R);De(typeof X=="string",e,"internal-error"),Vi(S,e.name),Vi(C,e.name),De(typeof W=="boolean",e,"internal-error"),De(typeof q=="boolean",e,"internal-error"),Vi(k,e.name),Vi(L,e.name),Vi(D,e.name),Vi(b,e.name),Vi(B,e.name),Vi(j,e.name);const T=new Jr({uid:X,auth:e,email:C,emailVerified:W,displayName:S,isAnonymous:q,photoURL:L,phoneNumber:k,tenantId:D,stsTokenManager:P,createdAt:B,lastLoginAt:j});return Q&&Array.isArray(Q)&&(T.providerData=Q.map(x=>Object.assign({},x))),b&&(T._redirectEventId=b),T}static async _fromIdTokenResponse(e,t,r=!1){const o=new xo;o.updateFromServerResponse(t);const a=new Jr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await lc(a),a}static async _fromGetAccountInfoResponse(e,t,r){const o=t.users[0];De(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?H_(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),d=new xo;d.updateFromIdToken(r);const f=new Jr({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:c}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new ef(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm=new Map;function Xr(n){ii(n instanceof Function,"Expected a class definition");let e=Gm.get(n);return e?(ii(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Gm.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}q_.type="NONE";const Km=q_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ku(n,e,t){return`firebase:${n}:${e}:${t}`}class bo{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:o,name:a}=this.auth;this.fullUserKey=Ku(this.userKey,o.apiKey,a),this.fullPersistenceKey=Ku("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Jr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new bo(Xr(Km),e,r);const o=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=o[0]||Xr(Km);const c=Ku(r,e.config.apiKey,e.name);let d=null;for(const m of t)try{const _=await m._get(c);if(_){const S=Jr._fromJSON(e,_);m!==a&&(d=S),a=m;break}}catch{}const f=o.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new bo(a,e,r):(a=f[0],d&&await a._set(c,d.toJSON()),await Promise.all(t.map(async m=>{if(m!==a)try{await m._remove(c)}catch{}})),new bo(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Y_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(G_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(J_(e))return"Blackberry";if(X_(e))return"Webos";if(K_(e))return"Safari";if((e.includes("chrome/")||Q_(e))&&!e.includes("edge/"))return"Chrome";if(Z_(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function G_(n=Yt()){return/firefox\//i.test(n)}function K_(n=Yt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Q_(n=Yt()){return/crios\//i.test(n)}function Y_(n=Yt()){return/iemobile/i.test(n)}function Z_(n=Yt()){return/android/i.test(n)}function J_(n=Yt()){return/blackberry/i.test(n)}function X_(n=Yt()){return/webos/i.test(n)}function Of(n=Yt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function VL(n=Yt()){var e;return Of(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function UL(){return nI()&&document.documentMode===10}function eE(n=Yt()){return Of(n)||Z_(n)||X_(n)||J_(n)||/windows phone/i.test(n)||Y_(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(n,e=[]){let t;switch(n){case"Browser":t=Qm(Yt());break;case"Worker":t=`${Qm(Yt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ko}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((c,d)=>{try{const f=e(a);c(f)}catch(f){d(f)}});r.onAbort=t,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jL(n,e={}){return Qo(n,"GET","/v2/passwordPolicy",bf(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BL=6;class zL{constructor(e){var t,r,o,a;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:BL,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,o,a,c,d;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(o=f.containsLowercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(c=f.containsNumericCharacter)!==null&&c!==void 0?c:!0),f.isValid&&(f.isValid=(d=f.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),f}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(e,t,r,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ym(this),this.idTokenSubscription=new Ym(this),this.beforeStateQueue=new FL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=F_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Xr(t)),this._initializationPromise=this.queue(async()=>{var r,o;if(!this._deleted&&(this.persistenceManager=await bo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await W_(this,{idToken:e}),r=await Jr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Wi(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let o=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o==null?void 0:o._redirectEventId,f=await this.tryRedirectSignIn(e);(!c||c===d)&&(f!=null&&f.user)&&(o=f.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return De(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await lc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=TL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Wi(this.app))return Promise.reject(bs(this));const t=e?lr(e):null;return t&&De(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&De(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Wi(this.app)?Promise.reject(bs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Wi(this.app)?Promise.reject(bs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await jL(this),t=new zL(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new hl("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await NL(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Xr(e)||this._popupRedirectResolver;De(t,this,"argument-error"),this.redirectPersistenceManager=await bo.create(this,[Xr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(De(d,this,"internal-error"),d.then(()=>{c||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,o);return()=>{c=!0,f()}}else{const f=e.addObserver(t);return()=>{c=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&wL(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Df(n){return lr(n)}class Ym{constructor(e){this.auth=e,this.observer=null,this.addObserver=cI(t=>this.observer=t)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function WL(n){Nf=n}function HL(n){return Nf.loadJS(n)}function qL(){return Nf.gapiScript}function GL(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KL(n,e){const t=kf(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(sc(a,e??{}))return o;ri(o,"already-initialized")}return t.initialize({options:e})}function QL(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Xr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function YL(n,e,t){const r=Df(n);De(r._canInitEmulator,r,"emulator-config-failed"),De(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,a=nE(e),{host:c,port:d}=ZL(e),f=d===null?"":`:${d}`;r.config.emulator={url:`${a}//${c}${f}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:c,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})}),JL()}function nE(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function ZL(n){const e=nE(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const a=o[1];return{host:a,port:Zm(r.substr(a.length+1))}}else{const[a,c]=r.split(":");return{host:a,port:Zm(c)}}}function Zm(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function JL(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Zr("not implemented")}_getIdTokenResponse(e){return Zr("not implemented")}_linkToIdToken(e,t){return Zr("not implemented")}_getReauthenticationResolver(e){return Zr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mo(n,e){return PL(n,"POST","/v1/accounts:signInWithIdp",bf(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XL="http://localhost";class Ds extends rE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ds(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ri("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o}=t,a=Rf(t,["providerId","signInMethod"]);if(!r||!o)return null;const c=new Ds(r,o);return c.idToken=a.idToken||void 0,c.accessToken=a.accessToken||void 0,c.secret=a.secret,c.nonce=a.nonce,c.pendingToken=a.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Mo(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Mo(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Mo(e,t)}buildRequest(){const e={requestUri:XL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=dl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl extends iE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends pl{constructor(){super("facebook.com")}static credential(e){return Ds._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ji.credential(e.oauthAccessToken)}catch{return null}}}ji.FACEBOOK_SIGN_IN_METHOD="facebook.com";ji.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends pl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ds._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Bi.credential(t,r)}catch{return null}}}Bi.GOOGLE_SIGN_IN_METHOD="google.com";Bi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends pl{constructor(){super("github.com")}static credential(e){return Ds._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zi.credential(e.oauthAccessToken)}catch{return null}}}zi.GITHUB_SIGN_IN_METHOD="github.com";zi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends pl{constructor(){super("twitter.com")}static credential(e,t){return Ds._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return $i.credential(t,r)}catch{return null}}}$i.TWITTER_SIGN_IN_METHOD="twitter.com";$i.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,o=!1){const a=await Jr._fromIdTokenResponse(e,r,o),c=Jm(r);return new Vo({user:a,providerId:c,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const o=Jm(r);return new Vo({user:e,providerId:o,_tokenResponse:r,operationType:t})}}function Jm(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc extends li{constructor(e,t,r,o){var a;super(t.code,t.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,uc.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,o){return new uc(e,t,r,o)}}function sE(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?uc._fromErrorAndOperation(n,a,e,r):a})}async function e0(n,e,t=!1){const r=await Xa(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Vo._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t0(n,e,t=!1){const{auth:r}=n;if(Wi(r.app))return Promise.reject(bs(r));const o="reauthenticate";try{const a=await Xa(n,sE(r,o,e,n),t);De(a.idToken,r,"internal-error");const c=Mf(a.idToken);De(c,r,"internal-error");const{sub:d}=c;return De(n.uid===d,r,"user-mismatch"),Vo._forOperation(n,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&ri(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n0(n,e,t=!1){if(Wi(n.app))return Promise.reject(bs(n));const r="signIn",o=await sE(n,r,e),a=await Vo._fromIdTokenResponse(n,r,o);return t||await n._updateCurrentUser(a.user),a}function r0(n,e,t,r){return lr(n).onIdTokenChanged(e,t,r)}function i0(n,e,t){return lr(n).beforeAuthStateChanged(e,t)}const cc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(cc,"1"),this.storage.removeItem(cc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0=1e3,o0=10;class aE extends oE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=eE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),o=this.localCache[t];r!==o&&e(t,o,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,f)=>{this.notifyListeners(c,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(r);!t&&this.localCache[r]===c||this.notifyListeners(r,c)},a=this.storage.getItem(r);UL()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,o0):o()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},s0)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}aE.type="LOCAL";const a0=aE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE extends oE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}lE.type="SESSION";const uE=lE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l0(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const r=new Dc(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:o,data:a}=t.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const d=Array.from(c).map(async m=>m(t.origin,a)),f=await l0(d);t.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Dc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vf(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,c;return new Promise((d,f)=>{const m=Vf("",20);o.port1.start();const _=setTimeout(()=>{f(new Error("unsupported_event"))},r);c={messageChannel:o,onMessage(S){const C=S;if(C.data.eventId===m)switch(C.data.status){case"ack":clearTimeout(_),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(C.data.response);break;default:clearTimeout(_),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(){return window}function c0(n){Rr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cE(){return typeof Rr().WorkerGlobalScope<"u"&&typeof Rr().importScripts=="function"}async function h0(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function d0(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function f0(){return cE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="firebaseLocalStorageDb",p0=1,hc="firebaseLocalStorage",dE="fbase_key";class gl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Nc(n,e){return n.transaction([hc],e?"readwrite":"readonly").objectStore(hc)}function g0(){const n=indexedDB.deleteDatabase(hE);return new gl(n).toPromise()}function tf(){const n=indexedDB.open(hE,p0);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(hc,{keyPath:dE})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(hc)?e(r):(r.close(),await g0(),e(await tf()))})})}async function Xm(n,e,t){const r=Nc(n,!0).put({[dE]:e,value:t});return new gl(r).toPromise()}async function m0(n,e){const t=Nc(n,!1).get(e),r=await new gl(t).toPromise();return r===void 0?null:r.value}function ev(n,e){const t=Nc(n,!0).delete(e);return new gl(t).toPromise()}const v0=800,y0=3;class fE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tf(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>y0)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Dc._getInstance(f0()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await h0(),!this.activeServiceWorker)return;this.sender=new u0(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||d0()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await tf();return await Xm(e,cc,"1"),await ev(e,cc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Xm(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>m0(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>ev(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=Nc(o,!1).getAll();return new gl(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),v0)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}fE.type="LOCAL";const _0=fE;new fl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0(n,e){return e?Xr(e):(De(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf extends rE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Mo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Mo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Mo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function w0(n){return n0(n.auth,new Uf(n),n.bypassAuthState)}function S0(n){const{auth:e,user:t}=n;return De(t,e,"internal-error"),t0(t,new Uf(n),n.bypassAuthState)}async function C0(n){const{auth:e,user:t}=n;return De(t,e,"internal-error"),e0(t,new Uf(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(e,t,r,o,a=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:o,tenantId:a,error:c,type:d}=e;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return w0;case"linkViaPopup":case"linkViaRedirect":return C0;case"reauthViaPopup":case"reauthViaRedirect":return S0;default:ri(this.auth,"internal-error")}}resolve(e){ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0=new fl(2e3,1e4);class Ao extends pE{constructor(e,t,r,o,a){super(e,t,o,a),this.provider=r,this.authWindow=null,this.pollId=null,Ao.currentPopupAction&&Ao.currentPopupAction.cancel(),Ao.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return De(e,this.auth,"internal-error"),e}async onExecution(){ii(this.filter.length===1,"Popup operations only handle one event");const e=Vf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(kr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(kr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ao.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(kr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,T0.get())};e()}}Ao.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0="pendingRedirect",Qu=new Map;class L0 extends pE{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Qu.get(this.auth._key());if(!e){try{const r=await P0(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Qu.set(this.auth._key(),e)}return this.bypassAuthState||Qu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function P0(n,e){const t=A0(e),r=R0(n);if(!await r._isAvailable())return!1;const o=await r._get(t)==="true";return await r._remove(t),o}function k0(n,e){Qu.set(n._key(),e)}function R0(n){return Xr(n._redirectPersistence)}function A0(n){return Ku(I0,n.config.apiKey,n.name)}async function x0(n,e,t=!1){if(Wi(n.app))return Promise.reject(bs(n));const r=Df(n),o=E0(r,e),c=await new L0(r,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0=10*60*1e3;class M0{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!O0(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!gE(e)){const o=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(kr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=b0&&this.cachedEventUids.clear(),this.cachedEventUids.has(tv(e))}saveEventToCache(e){this.cachedEventUids.add(tv(e)),this.lastProcessedEventTime=Date.now()}}function tv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function gE({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function O0(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gE(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D0(n,e={}){return Qo(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,V0=/^https?/;async function U0(n){if(n.config.emulator)return;const{authorizedDomains:e}=await D0(n);for(const t of e)try{if(F0(t))return}catch{}ri(n,"unauthorized-domain")}function F0(n){const e=Xd(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===r}if(!V0.test(t))return!1;if(N0.test(n))return r===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0=new fl(3e4,6e4);function nv(){const n=Rr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function B0(n){return new Promise((e,t)=>{var r,o,a;function c(){nv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{nv(),t(kr(n,"network-request-failed"))},timeout:j0.get()})}if(!((o=(r=Rr().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=Rr().gapi)===null||a===void 0)&&a.load)c();else{const d=GL("iframefcb");return Rr()[d]=()=>{gapi.load?c():t(kr(n,"network-request-failed"))},HL(`${qL()}?onload=${d}`).catch(f=>t(f))}}).catch(e=>{throw Yu=null,e})}let Yu=null;function z0(n){return Yu=Yu||B0(n),Yu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0=new fl(5e3,15e3),W0="__/auth/iframe",H0="emulator/auth/iframe",q0={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},G0=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function K0(n){const e=n.config;De(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?xf(e,H0):`https://${n.config.authDomain}/${W0}`,r={apiKey:e.apiKey,appName:n.name,v:Ko},o=G0.get(n.config.apiHost);o&&(r.eid=o);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${dl(r).slice(1)}`}async function Q0(n){const e=await z0(n),t=Rr().gapi;return De(t,n,"internal-error"),e.open({where:document.body,url:K0(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:q0,dontclear:!0},r=>new Promise(async(o,a)=>{await r.restyle({setHideOnLeave:!1});const c=kr(n,"network-request-failed"),d=Rr().setTimeout(()=>{a(c)},$0.get());function f(){Rr().clearTimeout(d),o(r)}r.ping(f).then(f,()=>{a(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Z0=500,J0=600,X0="_blank",eP="http://localhost";class rv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tP(n,e,t,r=Z0,o=J0){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const f=Object.assign(Object.assign({},Y0),{width:r.toString(),height:o.toString(),top:a,left:c}),m=Yt().toLowerCase();t&&(d=Q_(m)?X0:t),G_(m)&&(e=e||eP,f.scrollbars="yes");const _=Object.entries(f).reduce((C,[k,L])=>`${C}${k}=${L},`,"");if(VL(m)&&d!=="_self")return nP(e||"",d),new rv(null);const S=window.open(e||"",d,_);De(S,n,"popup-blocked");try{S.focus()}catch{}return new rv(S)}function nP(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP="__/auth/handler",iP="emulator/auth/handler",sP=encodeURIComponent("fac");async function iv(n,e,t,r,o,a){De(n.config.authDomain,n,"auth-domain-config-required"),De(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ko,eventId:o};if(e instanceof iE){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",uI(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,S]of Object.entries({}))c[_]=S}if(e instanceof pl){const _=e.getScopes().filter(S=>S!=="");_.length>0&&(c.scopes=_.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const f=await n._getAppCheckToken(),m=f?`#${sP}=${encodeURIComponent(f)}`:"";return`${oP(n)}?${dl(d).slice(1)}${m}`}function oP({config:n}){return n.emulator?xf(n,iP):`https://${n.authDomain}/${rP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nd="webStorageSupport";class aP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uE,this._completeRedirectFn=x0,this._overrideRedirectResult=k0}async _openPopup(e,t,r,o){var a;ii((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const c=await iv(e,t,r,Xd(),o);return tP(e,c,Vf())}async _openRedirect(e,t,r,o){await this._originValidation(e);const a=await iv(e,t,r,Xd(),o);return c0(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(ii(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await Q0(e),r=new M0(e);return t.register("authEvent",o=>(De(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Nd,{type:Nd},o=>{var a;const c=(a=o==null?void 0:o[0])===null||a===void 0?void 0:a[Nd];c!==void 0&&t(!!c),ri(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=U0(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return eE()||K_()||Of()}}const lP=aP;var sv="@firebase/auth",ov="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cP(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function hP(n){No(new Os("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=r.options;De(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tE(n)},m=new $L(r,o,a,f);return QL(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),No(new Os("auth-internal",e=>{const t=Df(e.getProvider("auth").getImmediate());return(r=>new uP(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ki(sv,ov,cP(n)),Ki(sv,ov,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP=5*60,fP=x_("authIdTokenMaxAge")||dP;let av=null;const pP=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>fP)return;const o=t==null?void 0:t.token;av!==o&&(av=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function gP(n=D_()){const e=kf(n,"auth");if(e.isInitialized())return e.getImmediate();const t=KL(n,{popupRedirectResolver:lP,persistence:[_0,a0,uE]}),r=x_("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const c=pP(a.toString());i0(t,c,()=>c(t.currentUser)),r0(t,d=>c(d))}}const o=R_("auth");return o&&YL(t,`http://${o}`),t}function mP(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}WL({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=o=>{const a=kr("internal-error");a.customData=o,t(a)},r.type="text/javascript",r.charset="UTF-8",mP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});hP("Browser");var vP="firebase",yP="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ki(vP,yP,"app");var lv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ms,mE;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,P){function T(){}T.prototype=P.prototype,R.D=P.prototype,R.prototype=new T,R.prototype.constructor=R,R.C=function(x,O,N){for(var A=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)A[ye-2]=arguments[ye];return P.prototype[O].apply(x,A)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,P,T){T||(T=0);var x=Array(16);if(typeof P=="string")for(var O=0;16>O;++O)x[O]=P.charCodeAt(T++)|P.charCodeAt(T++)<<8|P.charCodeAt(T++)<<16|P.charCodeAt(T++)<<24;else for(O=0;16>O;++O)x[O]=P[T++]|P[T++]<<8|P[T++]<<16|P[T++]<<24;P=R.g[0],T=R.g[1],O=R.g[2];var N=R.g[3],A=P+(N^T&(O^N))+x[0]+3614090360&4294967295;P=T+(A<<7&4294967295|A>>>25),A=N+(O^P&(T^O))+x[1]+3905402710&4294967295,N=P+(A<<12&4294967295|A>>>20),A=O+(T^N&(P^T))+x[2]+606105819&4294967295,O=N+(A<<17&4294967295|A>>>15),A=T+(P^O&(N^P))+x[3]+3250441966&4294967295,T=O+(A<<22&4294967295|A>>>10),A=P+(N^T&(O^N))+x[4]+4118548399&4294967295,P=T+(A<<7&4294967295|A>>>25),A=N+(O^P&(T^O))+x[5]+1200080426&4294967295,N=P+(A<<12&4294967295|A>>>20),A=O+(T^N&(P^T))+x[6]+2821735955&4294967295,O=N+(A<<17&4294967295|A>>>15),A=T+(P^O&(N^P))+x[7]+4249261313&4294967295,T=O+(A<<22&4294967295|A>>>10),A=P+(N^T&(O^N))+x[8]+1770035416&4294967295,P=T+(A<<7&4294967295|A>>>25),A=N+(O^P&(T^O))+x[9]+2336552879&4294967295,N=P+(A<<12&4294967295|A>>>20),A=O+(T^N&(P^T))+x[10]+4294925233&4294967295,O=N+(A<<17&4294967295|A>>>15),A=T+(P^O&(N^P))+x[11]+2304563134&4294967295,T=O+(A<<22&4294967295|A>>>10),A=P+(N^T&(O^N))+x[12]+1804603682&4294967295,P=T+(A<<7&4294967295|A>>>25),A=N+(O^P&(T^O))+x[13]+4254626195&4294967295,N=P+(A<<12&4294967295|A>>>20),A=O+(T^N&(P^T))+x[14]+2792965006&4294967295,O=N+(A<<17&4294967295|A>>>15),A=T+(P^O&(N^P))+x[15]+1236535329&4294967295,T=O+(A<<22&4294967295|A>>>10),A=P+(O^N&(T^O))+x[1]+4129170786&4294967295,P=T+(A<<5&4294967295|A>>>27),A=N+(T^O&(P^T))+x[6]+3225465664&4294967295,N=P+(A<<9&4294967295|A>>>23),A=O+(P^T&(N^P))+x[11]+643717713&4294967295,O=N+(A<<14&4294967295|A>>>18),A=T+(N^P&(O^N))+x[0]+3921069994&4294967295,T=O+(A<<20&4294967295|A>>>12),A=P+(O^N&(T^O))+x[5]+3593408605&4294967295,P=T+(A<<5&4294967295|A>>>27),A=N+(T^O&(P^T))+x[10]+38016083&4294967295,N=P+(A<<9&4294967295|A>>>23),A=O+(P^T&(N^P))+x[15]+3634488961&4294967295,O=N+(A<<14&4294967295|A>>>18),A=T+(N^P&(O^N))+x[4]+3889429448&4294967295,T=O+(A<<20&4294967295|A>>>12),A=P+(O^N&(T^O))+x[9]+568446438&4294967295,P=T+(A<<5&4294967295|A>>>27),A=N+(T^O&(P^T))+x[14]+3275163606&4294967295,N=P+(A<<9&4294967295|A>>>23),A=O+(P^T&(N^P))+x[3]+4107603335&4294967295,O=N+(A<<14&4294967295|A>>>18),A=T+(N^P&(O^N))+x[8]+1163531501&4294967295,T=O+(A<<20&4294967295|A>>>12),A=P+(O^N&(T^O))+x[13]+2850285829&4294967295,P=T+(A<<5&4294967295|A>>>27),A=N+(T^O&(P^T))+x[2]+4243563512&4294967295,N=P+(A<<9&4294967295|A>>>23),A=O+(P^T&(N^P))+x[7]+1735328473&4294967295,O=N+(A<<14&4294967295|A>>>18),A=T+(N^P&(O^N))+x[12]+2368359562&4294967295,T=O+(A<<20&4294967295|A>>>12),A=P+(T^O^N)+x[5]+4294588738&4294967295,P=T+(A<<4&4294967295|A>>>28),A=N+(P^T^O)+x[8]+2272392833&4294967295,N=P+(A<<11&4294967295|A>>>21),A=O+(N^P^T)+x[11]+1839030562&4294967295,O=N+(A<<16&4294967295|A>>>16),A=T+(O^N^P)+x[14]+4259657740&4294967295,T=O+(A<<23&4294967295|A>>>9),A=P+(T^O^N)+x[1]+2763975236&4294967295,P=T+(A<<4&4294967295|A>>>28),A=N+(P^T^O)+x[4]+1272893353&4294967295,N=P+(A<<11&4294967295|A>>>21),A=O+(N^P^T)+x[7]+4139469664&4294967295,O=N+(A<<16&4294967295|A>>>16),A=T+(O^N^P)+x[10]+3200236656&4294967295,T=O+(A<<23&4294967295|A>>>9),A=P+(T^O^N)+x[13]+681279174&4294967295,P=T+(A<<4&4294967295|A>>>28),A=N+(P^T^O)+x[0]+3936430074&4294967295,N=P+(A<<11&4294967295|A>>>21),A=O+(N^P^T)+x[3]+3572445317&4294967295,O=N+(A<<16&4294967295|A>>>16),A=T+(O^N^P)+x[6]+76029189&4294967295,T=O+(A<<23&4294967295|A>>>9),A=P+(T^O^N)+x[9]+3654602809&4294967295,P=T+(A<<4&4294967295|A>>>28),A=N+(P^T^O)+x[12]+3873151461&4294967295,N=P+(A<<11&4294967295|A>>>21),A=O+(N^P^T)+x[15]+530742520&4294967295,O=N+(A<<16&4294967295|A>>>16),A=T+(O^N^P)+x[2]+3299628645&4294967295,T=O+(A<<23&4294967295|A>>>9),A=P+(O^(T|~N))+x[0]+4096336452&4294967295,P=T+(A<<6&4294967295|A>>>26),A=N+(T^(P|~O))+x[7]+1126891415&4294967295,N=P+(A<<10&4294967295|A>>>22),A=O+(P^(N|~T))+x[14]+2878612391&4294967295,O=N+(A<<15&4294967295|A>>>17),A=T+(N^(O|~P))+x[5]+4237533241&4294967295,T=O+(A<<21&4294967295|A>>>11),A=P+(O^(T|~N))+x[12]+1700485571&4294967295,P=T+(A<<6&4294967295|A>>>26),A=N+(T^(P|~O))+x[3]+2399980690&4294967295,N=P+(A<<10&4294967295|A>>>22),A=O+(P^(N|~T))+x[10]+4293915773&4294967295,O=N+(A<<15&4294967295|A>>>17),A=T+(N^(O|~P))+x[1]+2240044497&4294967295,T=O+(A<<21&4294967295|A>>>11),A=P+(O^(T|~N))+x[8]+1873313359&4294967295,P=T+(A<<6&4294967295|A>>>26),A=N+(T^(P|~O))+x[15]+4264355552&4294967295,N=P+(A<<10&4294967295|A>>>22),A=O+(P^(N|~T))+x[6]+2734768916&4294967295,O=N+(A<<15&4294967295|A>>>17),A=T+(N^(O|~P))+x[13]+1309151649&4294967295,T=O+(A<<21&4294967295|A>>>11),A=P+(O^(T|~N))+x[4]+4149444226&4294967295,P=T+(A<<6&4294967295|A>>>26),A=N+(T^(P|~O))+x[11]+3174756917&4294967295,N=P+(A<<10&4294967295|A>>>22),A=O+(P^(N|~T))+x[2]+718787259&4294967295,O=N+(A<<15&4294967295|A>>>17),A=T+(N^(O|~P))+x[9]+3951481745&4294967295,R.g[0]=R.g[0]+P&4294967295,R.g[1]=R.g[1]+(O+(A<<21&4294967295|A>>>11))&4294967295,R.g[2]=R.g[2]+O&4294967295,R.g[3]=R.g[3]+N&4294967295}r.prototype.u=function(R,P){P===void 0&&(P=R.length);for(var T=P-this.blockSize,x=this.B,O=this.h,N=0;N<P;){if(O==0)for(;N<=T;)o(this,R,N),N+=this.blockSize;if(typeof R=="string"){for(;N<P;)if(x[O++]=R.charCodeAt(N++),O==this.blockSize){o(this,x),O=0;break}}else for(;N<P;)if(x[O++]=R[N++],O==this.blockSize){o(this,x),O=0;break}}this.h=O,this.o+=P},r.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var P=1;P<R.length-8;++P)R[P]=0;var T=8*this.o;for(P=R.length-8;P<R.length;++P)R[P]=T&255,T/=256;for(this.u(R),R=Array(16),P=T=0;4>P;++P)for(var x=0;32>x;x+=8)R[T++]=this.g[P]>>>x&255;return R};function a(R,P){var T=d;return Object.prototype.hasOwnProperty.call(T,R)?T[R]:T[R]=P(R)}function c(R,P){this.h=P;for(var T=[],x=!0,O=R.length-1;0<=O;O--){var N=R[O]|0;x&&N==P||(T[O]=N,x=!1)}this.g=T}var d={};function f(R){return-128<=R&&128>R?a(R,function(P){return new c([P|0],0>P?-1:0)}):new c([R|0],0>R?-1:0)}function m(R){if(isNaN(R)||!isFinite(R))return S;if(0>R)return b(m(-R));for(var P=[],T=1,x=0;R>=T;x++)P[x]=R/T|0,T*=4294967296;return new c(P,0)}function _(R,P){if(R.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(R.charAt(0)=="-")return b(_(R.substring(1),P));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=m(Math.pow(P,8)),x=S,O=0;O<R.length;O+=8){var N=Math.min(8,R.length-O),A=parseInt(R.substring(O,O+N),P);8>N?(N=m(Math.pow(P,N)),x=x.j(N).add(m(A))):(x=x.j(T),x=x.add(m(A)))}return x}var S=f(0),C=f(1),k=f(16777216);n=c.prototype,n.m=function(){if(D(this))return-b(this).m();for(var R=0,P=1,T=0;T<this.g.length;T++){var x=this.i(T);R+=(0<=x?x:4294967296+x)*P,P*=4294967296}return R},n.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(L(this))return"0";if(D(this))return"-"+b(this).toString(R);for(var P=m(Math.pow(R,6)),T=this,x="";;){var O=W(T,P).g;T=B(T,O.j(P));var N=((0<T.g.length?T.g[0]:T.h)>>>0).toString(R);if(T=O,L(T))return N+x;for(;6>N.length;)N="0"+N;x=N+x}},n.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function L(R){if(R.h!=0)return!1;for(var P=0;P<R.g.length;P++)if(R.g[P]!=0)return!1;return!0}function D(R){return R.h==-1}n.l=function(R){return R=B(this,R),D(R)?-1:L(R)?0:1};function b(R){for(var P=R.g.length,T=[],x=0;x<P;x++)T[x]=~R.g[x];return new c(T,~R.h).add(C)}n.abs=function(){return D(this)?b(this):this},n.add=function(R){for(var P=Math.max(this.g.length,R.g.length),T=[],x=0,O=0;O<=P;O++){var N=x+(this.i(O)&65535)+(R.i(O)&65535),A=(N>>>16)+(this.i(O)>>>16)+(R.i(O)>>>16);x=A>>>16,N&=65535,A&=65535,T[O]=A<<16|N}return new c(T,T[T.length-1]&-2147483648?-1:0)};function B(R,P){return R.add(b(P))}n.j=function(R){if(L(this)||L(R))return S;if(D(this))return D(R)?b(this).j(b(R)):b(b(this).j(R));if(D(R))return b(this.j(b(R)));if(0>this.l(k)&&0>R.l(k))return m(this.m()*R.m());for(var P=this.g.length+R.g.length,T=[],x=0;x<2*P;x++)T[x]=0;for(x=0;x<this.g.length;x++)for(var O=0;O<R.g.length;O++){var N=this.i(x)>>>16,A=this.i(x)&65535,ye=R.i(O)>>>16,Se=R.i(O)&65535;T[2*x+2*O]+=A*Se,j(T,2*x+2*O),T[2*x+2*O+1]+=N*Se,j(T,2*x+2*O+1),T[2*x+2*O+1]+=A*ye,j(T,2*x+2*O+1),T[2*x+2*O+2]+=N*ye,j(T,2*x+2*O+2)}for(x=0;x<P;x++)T[x]=T[2*x+1]<<16|T[2*x];for(x=P;x<2*P;x++)T[x]=0;return new c(T,0)};function j(R,P){for(;(R[P]&65535)!=R[P];)R[P+1]+=R[P]>>>16,R[P]&=65535,P++}function X(R,P){this.g=R,this.h=P}function W(R,P){if(L(P))throw Error("division by zero");if(L(R))return new X(S,S);if(D(R))return P=W(b(R),P),new X(b(P.g),b(P.h));if(D(P))return P=W(R,b(P)),new X(b(P.g),P.h);if(30<R.g.length){if(D(R)||D(P))throw Error("slowDivide_ only works with positive integers.");for(var T=C,x=P;0>=x.l(R);)T=q(T),x=q(x);var O=Q(T,1),N=Q(x,1);for(x=Q(x,2),T=Q(T,2);!L(x);){var A=N.add(x);0>=A.l(R)&&(O=O.add(T),N=A),x=Q(x,1),T=Q(T,1)}return P=B(R,O.j(P)),new X(O,P)}for(O=S;0<=R.l(P);){for(T=Math.max(1,Math.floor(R.m()/P.m())),x=Math.ceil(Math.log(T)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),N=m(T),A=N.j(P);D(A)||0<A.l(R);)T-=x,N=m(T),A=N.j(P);L(N)&&(N=C),O=O.add(N),R=B(R,A)}return new X(O,R)}n.A=function(R){return W(this,R).h},n.and=function(R){for(var P=Math.max(this.g.length,R.g.length),T=[],x=0;x<P;x++)T[x]=this.i(x)&R.i(x);return new c(T,this.h&R.h)},n.or=function(R){for(var P=Math.max(this.g.length,R.g.length),T=[],x=0;x<P;x++)T[x]=this.i(x)|R.i(x);return new c(T,this.h|R.h)},n.xor=function(R){for(var P=Math.max(this.g.length,R.g.length),T=[],x=0;x<P;x++)T[x]=this.i(x)^R.i(x);return new c(T,this.h^R.h)};function q(R){for(var P=R.g.length+1,T=[],x=0;x<P;x++)T[x]=R.i(x)<<1|R.i(x-1)>>>31;return new c(T,R.h)}function Q(R,P){var T=P>>5;P%=32;for(var x=R.g.length-T,O=[],N=0;N<x;N++)O[N]=0<P?R.i(N+T)>>>P|R.i(N+T+1)<<32-P:R.i(N+T);return new c(O,R.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,mE=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=_,Ms=c}).apply(typeof lv<"u"?lv:typeof self<"u"?self:typeof window<"u"?window:{});var Vu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vE,za,yE,Zu,nf,_E,EE,wE;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,E){return u==Array.prototype||u==Object.prototype||(u[g]=E.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vu=="object"&&Vu];for(var g=0;g<u.length;++g){var E=u[g];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=t(this);function o(u,g){if(g)e:{var E=r;u=u.split(".");for(var I=0;I<u.length-1;I++){var z=u[I];if(!(z in E))break e;E=E[z]}u=u[u.length-1],I=E[u],g=g(I),g!=I&&g!=null&&e(E,u,{configurable:!0,writable:!0,value:g})}}function a(u,g){u instanceof String&&(u+="");var E=0,I=!1,z={next:function(){if(!I&&E<u.length){var Z=E++;return{value:g(Z,u[Z]),done:!1}}return I=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(u){return u||function(){return a(this,function(g,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function f(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function m(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function _(u,g,E){return u.call.apply(u.bind,arguments)}function S(u,g,E){if(!u)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,I),u.apply(g,z)}}return function(){return u.apply(g,arguments)}}function C(u,g,E){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:S,C.apply(null,arguments)}function k(u,g){var E=Array.prototype.slice.call(arguments,1);return function(){var I=E.slice();return I.push.apply(I,arguments),u.apply(this,I)}}function L(u,g){function E(){}E.prototype=g.prototype,u.aa=g.prototype,u.prototype=new E,u.prototype.constructor=u,u.Qb=function(I,z,Z){for(var he=Array(arguments.length-2),et=2;et<arguments.length;et++)he[et-2]=arguments[et];return g.prototype[z].apply(I,he)}}function D(u){const g=u.length;if(0<g){const E=Array(g);for(let I=0;I<g;I++)E[I]=u[I];return E}return[]}function b(u,g){for(let E=1;E<arguments.length;E++){const I=arguments[E];if(f(I)){const z=u.length||0,Z=I.length||0;u.length=z+Z;for(let he=0;he<Z;he++)u[z+he]=I[he]}else u.push(I)}}class B{constructor(g,E){this.i=g,this.j=E,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function j(u){return/^[\s\xa0]*$/.test(u)}function X(){var u=d.navigator;return u&&(u=u.userAgent)?u:""}function W(u){return W[" "](u),u}W[" "]=function(){};var q=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function Q(u,g,E){for(const I in u)g.call(E,u[I],I,u)}function R(u,g){for(const E in u)g.call(void 0,u[E],E,u)}function P(u){const g={};for(const E in u)g[E]=u[E];return g}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(u,g){let E,I;for(let z=1;z<arguments.length;z++){I=arguments[z];for(E in I)u[E]=I[E];for(let Z=0;Z<T.length;Z++)E=T[Z],Object.prototype.hasOwnProperty.call(I,E)&&(u[E]=I[E])}}function O(u){var g=1;u=u.split(":");const E=[];for(;0<g&&u.length;)E.push(u.shift()),g--;return u.length&&E.push(u.join(":")),E}function N(u){d.setTimeout(()=>{throw u},0)}function A(){var u=ce;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class ye{constructor(){this.h=this.g=null}add(g,E){const I=Se.get();I.set(g,E),this.h?this.h.next=I:this.g=I,this.h=I}}var Se=new B(()=>new Ae,u=>u.reset());class Ae{constructor(){this.next=this.g=this.h=null}set(g,E){this.h=g,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Te,ee=!1,ce=new ye,re=()=>{const u=d.Promise.resolve(void 0);Te=()=>{u.then(U)}};var U=()=>{for(var u;u=A();){try{u.h.call(u.g)}catch(E){N(E)}var g=Se;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}ee=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ne(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}ne.prototype.h=function(){this.defaultPrevented=!0};var pe=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const E=()=>{};d.addEventListener("test",E,g),d.removeEventListener("test",E,g)}catch{}return u}();function G(u,g){if(ne.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var E=this.type=u.type,I=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(q){e:{try{W(g.nodeName);var z=!0;break e}catch{}z=!1}z||(g=null)}}else E=="mouseover"?g=u.fromElement:E=="mouseout"&&(g=u.toElement);this.relatedTarget=g,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Ce[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&G.aa.h.call(this)}}L(G,ne);var Ce={2:"touch",3:"pen",4:"mouse"};G.prototype.h=function(){G.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ie="closure_listenable_"+(1e6*Math.random()|0),de=0;function be(u,g,E,I,z){this.listener=u,this.proxy=null,this.src=g,this.type=E,this.capture=!!I,this.ha=z,this.key=++de,this.da=this.fa=!1}function me(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ue(u){this.src=u,this.g={},this.h=0}Ue.prototype.add=function(u,g,E,I,z){var Z=u.toString();u=this.g[Z],u||(u=this.g[Z]=[],this.h++);var he=At(u,g,I,z);return-1<he?(g=u[he],E||(g.fa=!1)):(g=new be(g,this.src,Z,!!I,z),g.fa=E,u.push(g)),g};function Rt(u,g){var E=g.type;if(E in u.g){var I=u.g[E],z=Array.prototype.indexOf.call(I,g,void 0),Z;(Z=0<=z)&&Array.prototype.splice.call(I,z,1),Z&&(me(g),u.g[E].length==0&&(delete u.g[E],u.h--))}}function At(u,g,E,I){for(var z=0;z<u.length;++z){var Z=u[z];if(!Z.da&&Z.listener==g&&Z.capture==!!E&&Z.ha==I)return z}return-1}var fn="closure_lm_"+(1e6*Math.random()|0),He={};function ui(u,g,E,I,z){if(Array.isArray(g)){for(var Z=0;Z<g.length;Z++)ui(u,g[Z],E,I,z);return null}return E=hi(E),u&&u[Ie]?u.K(g,E,m(I)?!!I.capture:!1,z):ur(u,g,E,!1,I,z)}function ur(u,g,E,I,z,Z){if(!g)throw Error("Invalid event type");var he=m(z)?!!z.capture:!!z,et=Bn(u);if(et||(u[fn]=et=new Ue(u)),E=et.add(g,E,I,he,Z),E.proxy)return E;if(I=rs(),E.proxy=I,I.src=u,I.listener=E,u.addEventListener)pe||(z=he),z===void 0&&(z=!1),u.addEventListener(g.toString(),I,z);else if(u.attachEvent)u.attachEvent(nn(g.toString()),I);else if(u.addListener&&u.removeListener)u.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return E}function rs(){function u(E){return g.call(u.src,u.listener,E)}const g=ci;return u}function jn(u,g,E,I,z){if(Array.isArray(g))for(var Z=0;Z<g.length;Z++)jn(u,g[Z],E,I,z);else I=m(I)?!!I.capture:!!I,E=hi(E),u&&u[Ie]?(u=u.i,g=String(g).toString(),g in u.g&&(Z=u.g[g],E=At(Z,E,I,z),-1<E&&(me(Z[E]),Array.prototype.splice.call(Z,E,1),Z.length==0&&(delete u.g[g],u.h--)))):u&&(u=Bn(u))&&(g=u.g[g.toString()],u=-1,g&&(u=At(g,E,I,z)),(E=-1<u?g[u]:null)&&Tn(E))}function Tn(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[Ie])Rt(g.i,u);else{var E=u.type,I=u.proxy;g.removeEventListener?g.removeEventListener(E,I,u.capture):g.detachEvent?g.detachEvent(nn(E),I):g.addListener&&g.removeListener&&g.removeListener(I),(E=Bn(g))?(Rt(E,u),E.h==0&&(E.src=null,g[fn]=null)):me(u)}}}function nn(u){return u in He?He[u]:He[u]="on"+u}function ci(u,g){if(u.da)u=!0;else{g=new G(g,this);var E=u.listener,I=u.ha||u.src;u.fa&&Tn(u),u=E.call(I,g)}return u}function Bn(u){return u=u[fn],u instanceof Ue?u:null}var Nr="__closure_events_fn_"+(1e9*Math.random()>>>0);function hi(u){return typeof u=="function"?u:(u[Nr]||(u[Nr]=function(g){return u.handleEvent(g)}),u[Nr])}function gt(){Y.call(this),this.i=new Ue(this),this.M=this,this.F=null}L(gt,Y),gt.prototype[Ie]=!0,gt.prototype.removeEventListener=function(u,g,E,I){jn(this,u,g,E,I)};function at(u,g){var E,I=u.F;if(I)for(E=[];I;I=I.F)E.push(I);if(u=u.M,I=g.type||g,typeof g=="string")g=new ne(g,u);else if(g instanceof ne)g.target=g.target||u;else{var z=g;g=new ne(I,u),x(g,z)}if(z=!0,E)for(var Z=E.length-1;0<=Z;Z--){var he=g.g=E[Z];z=In(he,I,!0,g)&&z}if(he=g.g=u,z=In(he,I,!0,g)&&z,z=In(he,I,!1,g)&&z,E)for(Z=0;Z<E.length;Z++)he=g.g=E[Z],z=In(he,I,!1,g)&&z}gt.prototype.N=function(){if(gt.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var E=u.g[g],I=0;I<E.length;I++)me(E[I]);delete u.g[g],u.h--}}this.F=null},gt.prototype.K=function(u,g,E,I){return this.i.add(String(u),g,!1,E,I)},gt.prototype.L=function(u,g,E,I){return this.i.add(String(u),g,!0,E,I)};function In(u,g,E,I){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var z=!0,Z=0;Z<g.length;++Z){var he=g[Z];if(he&&!he.da&&he.capture==E){var et=he.listener,St=he.ha||he.src;he.fa&&Rt(u.i,he),z=et.call(St,I)!==!1&&z}}return z&&!I.defaultPrevented}function cr(u,g,E){if(typeof u=="function")E&&(u=C(u,E));else if(u&&typeof u.handleEvent=="function")u=C(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:d.setTimeout(u,g||0)}function zn(u){u.g=cr(()=>{u.g=null,u.i&&(u.i=!1,zn(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class Ln extends Y{constructor(g,E){super(),this.m=g,this.l=E,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:zn(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hr(u){Y.call(this),this.h=u,this.g={}}L(hr,Y);var dr=[];function di(u){Q(u.g,function(g,E){this.g.hasOwnProperty(E)&&Tn(g)},u),u.g={}}hr.prototype.N=function(){hr.aa.N.call(this),di(this)},hr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fr=d.JSON.stringify,fi=d.JSON.parse,pr=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function gr(){}gr.prototype.h=null;function $n(u){return u.h||(u.h=u.i())}function Vr(){}var Zt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pn(){ne.call(this,"d")}L(pn,ne);function Wn(){ne.call(this,"c")}L(Wn,ne);var gn={},mr=null;function vr(){return mr=mr||new gt}gn.La="serverreachability";function yr(u){ne.call(this,gn.La,u)}L(yr,ne);function Pn(u){const g=vr();at(g,new yr(g))}gn.STAT_EVENT="statevent";function is(u,g){ne.call(this,gn.STAT_EVENT,u),this.stat=g}L(is,ne);function tt(u){const g=vr();at(g,new is(g,u))}gn.Ma="timingevent";function xe(u,g){ne.call(this,gn.Ma,u),this.size=g}L(xe,ne);function Hn(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},g)}function ss(){this.g=!0}ss.prototype.xa=function(){this.g=!1};function os(u,g,E,I,z,Z){u.info(function(){if(u.g)if(Z)for(var he="",et=Z.split("&"),St=0;St<et.length;St++){var Ke=et[St].split("=");if(1<Ke.length){var xt=Ke[0];Ke=Ke[1];var _t=xt.split("_");he=2<=_t.length&&_t[1]=="type"?he+(xt+"="+Ke+"&"):he+(xt+"=redacted&")}}else he=null;else he=Z;return"XMLHTTP REQ ("+I+") [attempt "+z+"]: "+g+`
`+E+`
`+he})}function zs(u,g,E,I,z,Z,he){u.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+z+"]: "+g+`
`+E+`
`+Z+" "+he})}function qn(u,g,E,I){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+Zc(u,E)+(I?" "+I:"")})}function ta(u,g){u.info(function(){return"TIMEOUT: "+g})}ss.prototype.info=function(){};function Zc(u,g){if(!u.g)return g;if(!g)return null;try{var E=JSON.parse(g);if(E){for(u=0;u<E.length;u++)if(Array.isArray(E[u])){var I=E[u];if(!(2>I.length)){var z=I[1];if(Array.isArray(z)&&!(1>z.length)){var Z=z[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var he=1;he<z.length;he++)z[he]=""}}}}return fr(E)}catch{return g}}var $s={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},El={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Gn;function as(){}L(as,gr),as.prototype.g=function(){return new XMLHttpRequest},as.prototype.i=function(){return{}},Gn=new as;function Kn(u,g,E,I){this.j=u,this.i=g,this.l=E,this.R=I||1,this.U=new hr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new wl}function wl(){this.i=null,this.g="",this.h=!1}var na={},Ws={};function Hs(u,g,E){u.L=1,u.v=yi(vn(g)),u.m=E,u.P=!0,ra(u,null)}function ra(u,g){u.F=Date.now(),rt(u),u.A=vn(u.v);var E=u.A,I=u.R;Array.isArray(I)||(I=[String(I)]),Ei(E.i,"t",I),u.C=0,E=u.j.J,u.h=new wl,u.g=Fl(u.j,E?g:null,!u.m),0<u.O&&(u.M=new Ln(C(u.Y,u,u.g),u.O)),g=u.U,E=u.g,I=u.ca;var z="readystatechange";Array.isArray(z)||(z&&(dr[0]=z.toString()),z=dr);for(var Z=0;Z<z.length;Z++){var he=ui(E,z[Z],I||g.handleEvent,!1,g.h||g);if(!he)break;g.g[he.key]=he}g=u.H?P(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),Pn(),os(u.i,u.u,u.A,u.l,u.R,u.m)}Kn.prototype.ca=function(u){u=u.target;const g=this.M;g&&sn(u)==3?g.j():this.Y(u)},Kn.prototype.Y=function(u){try{if(u==this.g)e:{const _t=sn(this.g);var g=this.g.Ba();const An=this.g.Z();if(!(3>_t)&&(_t!=3||this.g&&(this.h.h||this.g.oa()||ua(this.g)))){this.J||_t!=4||g==7||(g==8||0>=An?Pn(3):Pn(2)),ls(this);var E=this.g.Z();this.X=E;t:if(Sl(this)){var I=ua(this.g);u="";var z=I.length,Z=sn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){kn(this),pi(this);var he="";break t}this.h.i=new d.TextDecoder}for(g=0;g<z;g++)this.h.h=!0,u+=this.h.i.decode(I[g],{stream:!(Z&&g==z-1)});I.length=0,this.h.g+=u,this.C=0,he=this.h.g}else he=this.g.oa();if(this.o=E==200,zs(this.i,this.u,this.A,this.l,this.R,_t,E),this.o){if(this.T&&!this.K){t:{if(this.g){var et,St=this.g;if((et=St.g?St.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(et)){var Ke=et;break t}}Ke=null}if(E=Ke)qn(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ia(this,E);else{this.o=!1,this.s=3,tt(12),kn(this),pi(this);break e}}if(this.P){E=!0;let _n;for(;!this.J&&this.C<he.length;)if(_n=Jc(this,he),_n==Ws){_t==4&&(this.s=4,tt(14),E=!1),qn(this.i,this.l,null,"[Incomplete Response]");break}else if(_n==na){this.s=4,tt(15),qn(this.i,this.l,he,"[Invalid Chunk]"),E=!1;break}else qn(this.i,this.l,_n,null),ia(this,_n);if(Sl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_t!=4||he.length!=0||this.h.h||(this.s=1,tt(16),E=!1),this.o=this.o&&E,!E)qn(this.i,this.l,he,"[Invalid Chunked Response]"),kn(this),pi(this);else if(0<he.length&&!this.W){this.W=!0;var xt=this.j;xt.g==this&&xt.ba&&!xt.M&&(xt.j.info("Great, no buffering proxy detected. Bytes received: "+he.length),ha(xt),xt.M=!0,tt(11))}}else qn(this.i,this.l,he,null),ia(this,he);_t==4&&kn(this),this.o&&!this.J&&(_t==4?no(this.j,this):(this.o=!1,rt(this)))}else Zs(this.g),E==400&&0<he.indexOf("Unknown SID")?(this.s=3,tt(12)):(this.s=0,tt(13)),kn(this),pi(this)}}}catch{}finally{}};function Sl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Jc(u,g){var E=u.C,I=g.indexOf(`
`,E);return I==-1?Ws:(E=Number(g.substring(E,I)),isNaN(E)?na:(I+=1,I+E>g.length?Ws:(g=g.slice(I,I+E),u.C=I+E,g)))}Kn.prototype.cancel=function(){this.J=!0,kn(this)};function rt(u){u.S=Date.now()+u.I,Cl(u,u.I)}function Cl(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Hn(C(u.ba,u),g)}function ls(u){u.B&&(d.clearTimeout(u.B),u.B=null)}Kn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(ta(this.i,this.A),this.L!=2&&(Pn(),tt(17)),kn(this),this.s=2,pi(this)):Cl(this,this.S-u)};function pi(u){u.j.G==0||u.J||no(u.j,u)}function kn(u){ls(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,di(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function ia(u,g){try{var E=u.j;if(E.G!=0&&(E.g==u||Jt(E.h,u))){if(!u.K&&Jt(E.h,u)&&E.G==3){try{var I=E.Da.g.parse(g)}catch{I=null}if(Array.isArray(I)&&I.length==3){var z=I;if(z[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<u.F)to(E),Xn(E);else break e;eo(E),tt(18)}}else E.za=z[1],0<E.za-E.T&&37500>z[2]&&E.F&&E.v==0&&!E.C&&(E.C=Hn(C(E.Za,E),6e3));if(1>=Il(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else zr(E,11)}else if((u.K||E.g==u)&&to(E),!j(g))for(z=E.Da.g.parse(g),g=0;g<z.length;g++){let Ke=z[g];if(E.T=Ke[0],Ke=Ke[1],E.G==2)if(Ke[0]=="c"){E.K=Ke[1],E.ia=Ke[2];const xt=Ke[3];xt!=null&&(E.la=xt,E.j.info("VER="+E.la));const _t=Ke[4];_t!=null&&(E.Aa=_t,E.j.info("SVER="+E.Aa));const An=Ke[5];An!=null&&typeof An=="number"&&0<An&&(I=1.5*An,E.L=I,E.j.info("backChannelRequestTimeoutMs_="+I)),I=E;const _n=u.g;if(_n){const gs=_n.g?_n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gs){var Z=I.h;Z.g||gs.indexOf("spdy")==-1&&gs.indexOf("quic")==-1&&gs.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(sa(Z,Z.h),Z.h=null))}if(I.D){const io=_n.g?_n.g.getResponseHeader("X-HTTP-Session-Id"):null;io&&(I.ya=io,nt(I.I,I.D,io))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-u.F,E.j.info("Handshake RTT: "+E.R+"ms")),I=E;var he=u;if(I.qa=Ul(I,I.J?I.ia:null,I.W),he.K){Ll(I.h,he);var et=he,St=I.L;St&&(et.I=St),et.B&&(ls(et),rt(et)),I.g=he}else ps(I);0<E.i.length&&Sr(E)}else Ke[0]!="stop"&&Ke[0]!="close"||zr(E,7);else E.G==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?zr(E,7):Vt(E):Ke[0]!="noop"&&E.l&&E.l.ta(Ke),E.v=0)}}Pn(4)}catch{}}var Tl=class{constructor(u,g){this.g=u,this.map=g}};function us(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function mn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Il(u){return u.h?1:u.g?u.g.size:0}function Jt(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function sa(u,g){u.g?u.g.add(g):u.h=g}function Ll(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}us.prototype.cancel=function(){if(this.i=Pl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Pl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const E of u.g.values())g=g.concat(E.D);return g}return D(u.i)}function qs(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(f(u)){for(var g=[],E=u.length,I=0;I<E;I++)g.push(u[I]);return g}g=[],E=0;for(I in u)g[E++]=u[I];return g}function Gs(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(f(u)||typeof u=="string"){var g=[];u=u.length;for(var E=0;E<u;E++)g.push(E);return g}g=[],E=0;for(const I in u)g[E++]=I;return g}}}function gi(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(f(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var E=Gs(u),I=qs(u),z=I.length,Z=0;Z<z;Z++)g.call(void 0,I[Z],E&&E[Z],u)}var cs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xc(u,g){if(u){u=u.split("&");for(var E=0;E<u.length;E++){var I=u[E].indexOf("="),z=null;if(0<=I){var Z=u[E].substring(0,I);z=u[E].substring(I+1)}else Z=u[E];g(Z,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function Ur(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Ur){this.h=u.h,hs(this,u.j),this.o=u.o,this.g=u.g,mi(this,u.s),this.l=u.l;var g=u.i,E=new _r;E.i=g.i,g.g&&(E.g=new Map(g.g),E.h=g.h),vi(this,E),this.m=u.m}else u&&(g=String(u).match(cs))?(this.h=!1,hs(this,g[1]||"",!0),this.o=qe(g[2]||""),this.g=qe(g[3]||"",!0),mi(this,g[4]),this.l=qe(g[5]||"",!0),vi(this,g[6]||"",!0),this.m=qe(g[7]||"")):(this.h=!1,this.i=new _r(null,this.h))}Ur.prototype.toString=function(){var u=[],g=this.j;g&&u.push(_i(g,Ks,!0),":");var E=this.g;return(E||g=="file")&&(u.push("//"),(g=this.o)&&u.push(_i(g,Ks,!0),"@"),u.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&u.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&u.push("/"),u.push(_i(E,E.charAt(0)=="/"?Al:Rl,!0))),(E=this.i.toString())&&u.push("?",E),(E=this.m)&&u.push("#",_i(E,oa)),u.join("")};function vn(u){return new Ur(u)}function hs(u,g,E){u.j=E?qe(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function mi(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function vi(u,g,E){g instanceof _r?(u.i=g,Er(u.i,u.h)):(E||(g=_i(g,xl)),u.i=new _r(g,u.h))}function nt(u,g,E){u.i.set(g,E)}function yi(u){return nt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function qe(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function _i(u,g,E){return typeof u=="string"?(u=encodeURI(u).replace(g,kl),E&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function kl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ks=/[#\/\?@]/g,Rl=/[#\?:]/g,Al=/[#\?]/g,xl=/[#\?@]/g,oa=/#/g;function _r(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function Nt(u){u.g||(u.g=new Map,u.h=0,u.i&&Xc(u.i,function(g,E){u.add(decodeURIComponent(g.replace(/\+/g," ")),E)}))}n=_r.prototype,n.add=function(u,g){Nt(this),this.i=null,u=Rn(this,u);var E=this.g.get(u);return E||this.g.set(u,E=[]),E.push(g),this.h+=1,this};function Qn(u,g){Nt(u),g=Rn(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function Yn(u,g){return Nt(u),g=Rn(u,g),u.g.has(g)}n.forEach=function(u,g){Nt(this),this.g.forEach(function(E,I){E.forEach(function(z){u.call(g,z,I,this)},this)},this)},n.na=function(){Nt(this);const u=Array.from(this.g.values()),g=Array.from(this.g.keys()),E=[];for(let I=0;I<g.length;I++){const z=u[I];for(let Z=0;Z<z.length;Z++)E.push(g[I])}return E},n.V=function(u){Nt(this);let g=[];if(typeof u=="string")Yn(this,u)&&(g=g.concat(this.g.get(Rn(this,u))));else{u=Array.from(this.g.values());for(let E=0;E<u.length;E++)g=g.concat(u[E])}return g},n.set=function(u,g){return Nt(this),this.i=null,u=Rn(this,u),Yn(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},n.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function Ei(u,g,E){Qn(u,g),0<E.length&&(u.i=null,u.g.set(Rn(u,g),D(E)),u.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(var E=0;E<g.length;E++){var I=g[E];const Z=encodeURIComponent(String(I)),he=this.V(I);for(I=0;I<he.length;I++){var z=Z;he[I]!==""&&(z+="="+encodeURIComponent(String(he[I]))),u.push(z)}}return this.i=u.join("&")};function Rn(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function Er(u,g){g&&!u.j&&(Nt(u),u.i=null,u.g.forEach(function(E,I){var z=I.toLowerCase();I!=z&&(Qn(this,I),Ei(this,z,E))},u)),u.j=g}function eh(u,g){const E=new ss;if(d.Image){const I=new Image;I.onload=k(rn,E,"TestLoadImage: loaded",!0,g,I),I.onerror=k(rn,E,"TestLoadImage: error",!1,g,I),I.onabort=k(rn,E,"TestLoadImage: abort",!1,g,I),I.ontimeout=k(rn,E,"TestLoadImage: timeout",!1,g,I),d.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=u}else g(!1)}function bl(u,g){const E=new ss,I=new AbortController,z=setTimeout(()=>{I.abort(),rn(E,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:I.signal}).then(Z=>{clearTimeout(z),Z.ok?rn(E,"TestPingServer: ok",!0,g):rn(E,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(z),rn(E,"TestPingServer: error",!1,g)})}function rn(u,g,E,I,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),I(E)}catch{}}function th(){this.g=new pr}function Ml(u,g,E){const I=E||"";try{gi(u,function(z,Z){let he=z;m(z)&&(he=fr(z)),g.push(I+Z+"="+encodeURIComponent(he))})}catch(z){throw g.push(I+"type="+encodeURIComponent("_badmap")),z}}function Fr(u){this.l=u.Ub||null,this.j=u.eb||!1}L(Fr,gr),Fr.prototype.g=function(){return new ds(this.l,this.j)},Fr.prototype.i=function(u){return function(){return u}}({});function ds(u,g){gt.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(ds,gt),n=ds.prototype,n.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,Jn(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||d).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Zn(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Jn(this)),this.g&&(this.readyState=3,Jn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ol(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ol(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?Zn(this):Jn(this),this.readyState==3&&Ol(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,Zn(this))},n.Qa=function(u){this.g&&(this.response=u,Zn(this))},n.ga=function(){this.g&&Zn(this)};function Zn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Jn(u)}n.setRequestHeader=function(u,g){this.u.append(u,g)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var E=g.next();!E.done;)E=E.value,u.push(E[0]+": "+E[1]),E=g.next();return u.join(`\r
`)};function Jn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ds.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function jr(u){let g="";return Q(u,function(E,I){g+=I,g+=":",g+=E,g+=`\r
`}),g}function wi(u,g,E){e:{for(I in E){var I=!1;break e}I=!0}I||(E=jr(E),typeof u=="string"?E!=null&&encodeURIComponent(String(E)):nt(u,g,E))}function lt(u){gt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(lt,gt);var nh=/^https?$/i,aa=["POST","PUT"];n=lt.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,g,E,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Gn.g(),this.v=this.o?$n(this.o):$n(Gn),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(Z){fs(this,Z);return}if(u=E||"",E=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var z in I)E.set(z,I[z]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const Z of I.keys())E.set(Z,I.get(Z));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(E.keys()).find(Z=>Z.toLowerCase()=="content-type"),z=d.FormData&&u instanceof d.FormData,!(0<=Array.prototype.indexOf.call(aa,g,void 0))||I||z||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,he]of E)this.g.setRequestHeader(Z,he);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ys(this),this.u=!0,this.g.send(u),this.u=!1}catch(Z){fs(this,Z)}};function fs(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,Qs(u),yn(u)}function Qs(u){u.A||(u.A=!0,at(u,"complete"),at(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,at(this,"complete"),at(this,"abort"),yn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yn(this,!0)),lt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?la(this):this.bb())},n.bb=function(){la(this)};function la(u){if(u.h&&typeof c<"u"&&(!u.v[1]||sn(u)!=4||u.Z()!=2)){if(u.u&&sn(u)==4)cr(u.Ea,0,u);else if(at(u,"readystatechange"),sn(u)==4){u.h=!1;try{const he=u.Z();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var E;if(!(E=g)){var I;if(I=he===0){var z=String(u.D).match(cs)[1]||null;!z&&d.self&&d.self.location&&(z=d.self.location.protocol.slice(0,-1)),I=!nh.test(z?z.toLowerCase():"")}E=I}if(E)at(u,"complete"),at(u,"success");else{u.m=6;try{var Z=2<sn(u)?u.g.statusText:""}catch{Z=""}u.l=Z+" ["+u.Z()+"]",Qs(u)}}finally{yn(u)}}}}function yn(u,g){if(u.g){Ys(u);const E=u.g,I=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||at(u,"ready");try{E.onreadystatechange=I}catch{}}}function Ys(u){u.I&&(d.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function sn(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<sn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),fi(g)}};function ua(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Zs(u){const g={};u=(u.g&&2<=sn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<u.length;I++){if(j(u[I]))continue;var E=O(u[I]);const z=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Z=g[z]||[];g[z]=Z,Z.push(E)}R(g,function(I){return I.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function wr(u,g,E){return E&&E.internalChannelParams&&E.internalChannelParams[u]||g}function ca(u){this.Aa=0,this.i=[],this.j=new ss,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=wr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=wr("baseRetryDelayMs",5e3,u),this.cb=wr("retryDelaySeedMs",1e4,u),this.Wa=wr("forwardChannelMaxRetries",2,u),this.wa=wr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new us(u&&u.concurrentRequestLimit),this.Da=new th,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ca.prototype,n.la=8,n.G=1,n.connect=function(u,g,E,I){tt(0),this.W=u,this.H=g||{},E&&I!==void 0&&(this.H.OSID=E,this.H.OAID=I),this.F=this.X,this.I=Ul(this,null,this.W),Sr(this)};function Vt(u){if(Js(u),u.G==3){var g=u.U++,E=vn(u.I);if(nt(E,"SID",u.K),nt(E,"RID",g),nt(E,"TYPE","terminate"),Br(u,E),g=new Kn(u,u.j,g),g.L=2,g.v=yi(vn(E)),E=!1,d.navigator&&d.navigator.sendBeacon)try{E=d.navigator.sendBeacon(g.v.toString(),"")}catch{}!E&&d.Image&&(new Image().src=g.v,E=!0),E||(g.g=Fl(g.j,null),g.g.ea(g.v)),g.F=Date.now(),rt(g)}Vl(u)}function Xn(u){u.g&&(ha(u),u.g.cancel(),u.g=null)}function Js(u){Xn(u),u.u&&(d.clearTimeout(u.u),u.u=null),to(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&d.clearTimeout(u.s),u.s=null)}function Sr(u){if(!mn(u.h)&&!u.s){u.s=!0;var g=u.Ga;Te||re(),ee||(Te(),ee=!0),ce.add(g,u),u.B=0}}function rh(u,g){return Il(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Hn(C(u.Ga,u,g),Nl(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const z=new Kn(this,this.j,u);let Z=this.o;if(this.S&&(Z?(Z=P(Z),x(Z,this.S)):Z=this.S),this.m!==null||this.O||(z.H=Z,Z=null),this.P)e:{for(var g=0,E=0;E<this.i.length;E++){t:{var I=this.i[E];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(g+=I,4096<g){g=E;break e}if(g===4096||E===this.i.length-1){g=E+1;break e}}g=1e3}else g=1e3;g=Si(this,z,g),E=vn(this.I),nt(E,"RID",u),nt(E,"CVER",22),this.D&&nt(E,"X-HTTP-Session-Id",this.D),Br(this,E),Z&&(this.O?g="headers="+encodeURIComponent(String(jr(Z)))+"&"+g:this.m&&wi(E,this.m,Z)),sa(this.h,z),this.Ua&&nt(E,"TYPE","init"),this.P?(nt(E,"$req",g),nt(E,"SID","null"),z.T=!0,Hs(z,E,null)):Hs(z,E,g),this.G=2}}else this.G==3&&(u?Xs(this,u):this.i.length==0||mn(this.h)||Xs(this))};function Xs(u,g){var E;g?E=g.l:E=u.U++;const I=vn(u.I);nt(I,"SID",u.K),nt(I,"RID",E),nt(I,"AID",u.T),Br(u,I),u.m&&u.o&&wi(I,u.m,u.o),E=new Kn(u,u.j,E,u.B+1),u.m===null&&(E.H=u.o),g&&(u.i=g.D.concat(u.i)),g=Si(u,E,1e3),E.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),sa(u.h,E),Hs(E,I,g)}function Br(u,g){u.H&&Q(u.H,function(E,I){nt(g,I,E)}),u.l&&gi({},function(E,I){nt(g,I,E)})}function Si(u,g,E){E=Math.min(u.i.length,E);var I=u.l?C(u.l.Na,u.l,u):null;e:{var z=u.i;let Z=-1;for(;;){const he=["count="+E];Z==-1?0<E?(Z=z[0].g,he.push("ofs="+Z)):Z=0:he.push("ofs="+Z);let et=!0;for(let St=0;St<E;St++){let Ke=z[St].g;const xt=z[St].map;if(Ke-=Z,0>Ke)Z=Math.max(0,z[St].g-100),et=!1;else try{Ml(xt,he,"req"+Ke+"_")}catch{I&&I(xt)}}if(et){I=he.join("&");break e}}}return u=u.i.splice(0,E),g.D=u,I}function ps(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;Te||re(),ee||(Te(),ee=!0),ce.add(g,u),u.v=0}}function eo(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Hn(C(u.Fa,u),Nl(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,Dl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Hn(C(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,tt(10),Xn(this),Dl(this))};function ha(u){u.A!=null&&(d.clearTimeout(u.A),u.A=null)}function Dl(u){u.g=new Kn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=vn(u.qa);nt(g,"RID","rpc"),nt(g,"SID",u.K),nt(g,"AID",u.T),nt(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&nt(g,"TO",u.ja),nt(g,"TYPE","xmlhttp"),Br(u,g),u.m&&u.o&&wi(g,u.m,u.o),u.L&&(u.g.I=u.L);var E=u.g;u=u.ia,E.L=1,E.v=yi(vn(g)),E.m=null,E.P=!0,ra(E,u)}n.Za=function(){this.C!=null&&(this.C=null,Xn(this),eo(this),tt(19))};function to(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function no(u,g){var E=null;if(u.g==g){to(u),ha(u),u.g=null;var I=2}else if(Jt(u.h,g))E=g.D,Ll(u.h,g),I=1;else return;if(u.G!=0){if(g.o)if(I==1){E=g.m?g.m.length:0,g=Date.now()-g.F;var z=u.B;I=vr(),at(I,new xe(I,E)),Sr(u)}else ps(u);else if(z=g.s,z==3||z==0&&0<g.X||!(I==1&&rh(u,g)||I==2&&eo(u)))switch(E&&0<E.length&&(g=u.h,g.i=g.i.concat(E)),z){case 1:zr(u,5);break;case 4:zr(u,10);break;case 3:zr(u,6);break;default:zr(u,2)}}}function Nl(u,g){let E=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(E*=2),E*g}function zr(u,g){if(u.j.info("Error code "+g),g==2){var E=C(u.fb,u),I=u.Xa;const z=!I;I=new Ur(I||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||hs(I,"https"),yi(I),z?eh(I.toString(),E):bl(I.toString(),E)}else tt(2);u.G=0,u.l&&u.l.sa(g),Vl(u),Js(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),tt(2)):(this.j.info("Failed to ping google.com"),tt(1))};function Vl(u){if(u.G=0,u.ka=[],u.l){const g=Pl(u.h);(g.length!=0||u.i.length!=0)&&(b(u.ka,g),b(u.ka,u.i),u.h.i.length=0,D(u.i),u.i.length=0),u.l.ra()}}function Ul(u,g,E){var I=E instanceof Ur?vn(E):new Ur(E);if(I.g!="")g&&(I.g=g+"."+I.g),mi(I,I.s);else{var z=d.location;I=z.protocol,g=g?g+"."+z.hostname:z.hostname,z=+z.port;var Z=new Ur(null);I&&hs(Z,I),g&&(Z.g=g),z&&mi(Z,z),E&&(Z.l=E),I=Z}return E=u.D,g=u.ya,E&&g&&nt(I,E,g),nt(I,"VER",u.la),Br(u,I),I}function Fl(u,g,E){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new lt(new Fr({eb:E})):new lt(u.pa),g.Ha(u.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function da(){}n=da.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ro(){}ro.prototype.g=function(u,g){return new Xt(u,g)};function Xt(u,g){gt.call(this),this.g=new ca(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!j(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!j(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new Cr(this)}L(Xt,gt),Xt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xt.prototype.close=function(){Vt(this.g)},Xt.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var E={};E.__data__=u,u=E}else this.u&&(E={},E.__data__=fr(u),u=E);g.i.push(new Tl(g.Ya++,u)),g.G==3&&Sr(g)},Xt.prototype.N=function(){this.g.l=null,delete this.j,Vt(this.g),delete this.g,Xt.aa.N.call(this)};function jl(u){pn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const E in g){u=E;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}L(jl,pn);function Bl(){Wn.call(this),this.status=1}L(Bl,Wn);function Cr(u){this.g=u}L(Cr,da),Cr.prototype.ua=function(){at(this.g,"a")},Cr.prototype.ta=function(u){at(this.g,new jl(u))},Cr.prototype.sa=function(u){at(this.g,new Bl)},Cr.prototype.ra=function(){at(this.g,"b")},ro.prototype.createWebChannel=ro.prototype.g,Xt.prototype.send=Xt.prototype.o,Xt.prototype.open=Xt.prototype.m,Xt.prototype.close=Xt.prototype.close,wE=function(){return new ro},EE=function(){return vr()},_E=gn,nf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},$s.NO_ERROR=0,$s.TIMEOUT=8,$s.HTTP_ERROR=6,Zu=$s,El.COMPLETE="complete",yE=El,Vr.EventType=Zt,Zt.OPEN="a",Zt.CLOSE="b",Zt.ERROR="c",Zt.MESSAGE="d",gt.prototype.listen=gt.prototype.K,za=Vr,lt.prototype.listenOnce=lt.prototype.L,lt.prototype.getLastError=lt.prototype.Ka,lt.prototype.getLastErrorCode=lt.prototype.Ba,lt.prototype.getStatus=lt.prototype.Z,lt.prototype.getResponseJson=lt.prototype.Oa,lt.prototype.getResponseText=lt.prototype.oa,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Ha,vE=lt}).apply(typeof Vu<"u"?Vu:typeof self<"u"?self:typeof window<"u"?window:{});const uv="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Kt.UNAUTHENTICATED=new Kt(null),Kt.GOOGLE_CREDENTIALS=new Kt("google-credentials-uid"),Kt.FIRST_PARTY=new Kt("first-party-uid"),Kt.MOCK_USER=new Kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yo="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns=new Lf("@firebase/firestore");function Lo(){return Ns.logLevel}function ge(n,...e){if(Ns.logLevel<=$e.DEBUG){const t=e.map(Ff);Ns.debug(`Firestore (${Yo}): ${n}`,...t)}}function si(n,...e){if(Ns.logLevel<=$e.ERROR){const t=e.map(Ff);Ns.error(`Firestore (${Yo}): ${n}`,...t)}}function Uo(n,...e){if(Ns.logLevel<=$e.WARN){const t=e.map(Ff);Ns.warn(`Firestore (${Yo}): ${n}`,...t)}}function Ff(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(n="Unexpected state"){const e=`FIRESTORE (${Yo}) INTERNAL ASSERTION FAILED: `+n;throw si(e),new Error(e)}function Xe(n,e){n||Oe()}function Ve(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Le extends li{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _P{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Kt.UNAUTHENTICATED))}shutdown(){}}class EP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class wP{constructor(e){this.t=e,this.currentUser=Kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Xe(this.o===void 0);let r=this.i;const o=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new Qi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Qi,e.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await o(this.currentUser)})},d=f=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(f=>d(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Qi)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Xe(typeof r.accessToken=="string"),new SE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string"),new Kt(e)}}class SP{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Kt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class CP{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new SP(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class TP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class IP{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Xe(this.o===void 0);const r=a=>{a.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.R;return this.R=a.token,ge("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const o=a=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?o(a):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Xe(typeof t.token=="string"),this.R=t.token,new TP(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LP(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=LP(40);for(let a=0;a<o.length;++a)r.length<20&&o[a]<t&&(r+=e.charAt(o[a]%e.length))}return r}}function Ge(n,e){return n<e?-1:n>e?1:0}function Fo(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{static now(){return Lt.fromMillis(Date.now())}static fromDate(e){return Lt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Lt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Le(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Le(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Le(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Le(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new Lt(0,0))}static max(){return new Ne(new Lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e,t,r){t===void 0?t=0:t>e.length&&Oe(),r===void 0?r=e.length-t:r>e.length-t&&Oe(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return el.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof el?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const a=e.get(o),c=t.get(o);if(a<c)return-1;if(a>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ct extends el{construct(e,t,r){return new ct(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Le(oe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new ct(t)}static emptyPath(){return new ct([])}}const PP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bt extends el{construct(e,t,r){return new Bt(e,t,r)}static isValidIdentifier(e){return PP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Bt(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const a=()=>{if(r.length===0)throw new Le(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new Le(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[o+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Le(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(r+=d,o++):(a(),o++)}if(a(),c)throw new Le(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bt(t)}static emptyPath(){return new Bt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.path=e}static fromPath(e){return new Re(ct.fromString(e))}static fromName(e){return new Re(ct.fromString(e).popFirst(5))}static empty(){return new Re(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ct.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Re(new ct(e.slice()))}}function kP(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Ne.fromTimestamp(r===1e9?new Lt(t+1,0):new Lt(t,r));return new Ji(o,Re.empty(),e)}function RP(n){return new Ji(n.readTime,n.key,-1)}class Ji{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ji(Ne.min(),Re.empty(),-1)}static max(){return new Ji(Ne.max(),Re.empty(),-1)}}function AP(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Re.comparator(n.documentKey,e.documentKey),t!==0?t:Ge(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zo(n){if(n.code!==oe.FAILED_PRECONDITION||n.message!==xP)throw n;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Oe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new te((r,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof te?t:te.resolve(t)}catch(t){return te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):te.reject(t)}static resolve(e){return new te((t,r)=>{t(e)})}static reject(e){return new te((t,r)=>{r(e)})}static waitFor(e){return new te((t,r)=>{let o=0,a=0,c=!1;e.forEach(d=>{++o,d.next(()=>{++a,c&&a===o&&t()},f=>r(f))}),c=!0,a===o&&t()})}static or(e){let t=te.resolve(!1);for(const r of e)t=t.next(o=>o?te.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,a)=>{r.push(t.call(this,o,a))}),this.waitFor(r)}static mapArray(e,t){return new te((r,o)=>{const a=e.length,c=new Array(a);let d=0;for(let f=0;f<a;f++){const m=f;t(e[m]).next(_=>{c[m]=_,++d,d===a&&r(c)},_=>o(_))}})}static doWhile(e,t){return new te((r,o)=>{const a=()=>{e()===!0?t().next(()=>{a()},o):r()};a()})}}function MP(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Jo(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ie(r),this.se=r=>t.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Vc.oe=-1;function Uc(n){return n==null}function dc(n){return n===0&&1/n==-1/0}function OP(n){return typeof n=="number"&&Number.isInteger(n)&&!dc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DP(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=cv(e)),e=NP(n.get(t),e);return cv(e)}function NP(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case"":t+="";break;default:t+=a}}return t}function cv(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hv(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Us(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function TE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,t){this.comparator=e,this.root=t||jt.EMPTY}insert(e,t){return new pt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,jt.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Uu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Uu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Uu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Uu(this.root,e,this.comparator,!0)}}class Uu{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class jt{constructor(e,t,r,o,a){this.key=e,this.value=t,this.color=r??jt.RED,this.left=o??jt.EMPTY,this.right=a??jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,a){return new jt(e??this.key,t??this.value,r??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const a=r(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,r),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return jt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Oe();const e=this.left.check();if(e!==this.right.check())throw Oe();return e+(this.isRed()?0:1)}}jt.EMPTY=null,jt.RED=!0,jt.BLACK=!1;jt.EMPTY=new class{constructor(){this.size=0}get key(){throw Oe()}get value(){throw Oe()}get color(){throw Oe()}get left(){throw Oe()}get right(){throw Oe()}copy(e,t,r,o,a){return this}insert(e,t,r){return new jt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new dv(this.data.getIterator())}getIteratorFrom(e){return new dv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Pt(this.comparator);return t.data=e,t}}class dv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this.fields=e,e.sort(Bt.comparator)}static empty(){return new or([])}unionWith(e){let t=new Pt(Bt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new or(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Fo(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new IE("Invalid base64 string: "+a):a}}(e);return new zt(t)}static fromUint8Array(e){const t=function(o){let a="";for(let c=0;c<o.length;++c)a+=String.fromCharCode(o[c]);return a}(e);return new zt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zt.EMPTY_BYTE_STRING=new zt("");const VP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xi(n){if(Xe(!!n),typeof n=="string"){let e=0;const t=VP.exec(n);if(Xe(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:yt(n.seconds),nanos:yt(n.nanos)}}function yt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function es(n){return typeof n=="string"?zt.fromBase64String(n):zt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jf(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Fc(n){const e=n.mapValue.fields.__previous_value__;return jf(e)?Fc(e):e}function tl(n){const e=Xi(n.mapValue.fields.__local_write_time__.timestampValue);return new Lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(e,t,r,o,a,c,d,f,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=m}}class nl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new nl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof nl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ts(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?jf(n)?4:jP(n)?9007199254740991:FP(n)?10:11:Oe()}function Mr(n,e){if(n===e)return!0;const t=ts(n);if(t!==ts(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return tl(n).isEqual(tl(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const c=Xi(o.timestampValue),d=Xi(a.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,a){return es(o.bytesValue).isEqual(es(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,a){return yt(o.geoPointValue.latitude)===yt(a.geoPointValue.latitude)&&yt(o.geoPointValue.longitude)===yt(a.geoPointValue.longitude)}(n,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return yt(o.integerValue)===yt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const c=yt(o.doubleValue),d=yt(a.doubleValue);return c===d?dc(c)===dc(d):isNaN(c)&&isNaN(d)}return!1}(n,e);case 9:return Fo(n.arrayValue.values||[],e.arrayValue.values||[],Mr);case 10:case 11:return function(o,a){const c=o.mapValue.fields||{},d=a.mapValue.fields||{};if(hv(c)!==hv(d))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(d[f]===void 0||!Mr(c[f],d[f])))return!1;return!0}(n,e);default:return Oe()}}function rl(n,e){return(n.values||[]).find(t=>Mr(t,e))!==void 0}function jo(n,e){if(n===e)return 0;const t=ts(n),r=ts(e);if(t!==r)return Ge(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ge(n.booleanValue,e.booleanValue);case 2:return function(a,c){const d=yt(a.integerValue||a.doubleValue),f=yt(c.integerValue||c.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1}(n,e);case 3:return fv(n.timestampValue,e.timestampValue);case 4:return fv(tl(n),tl(e));case 5:return Ge(n.stringValue,e.stringValue);case 6:return function(a,c){const d=es(a),f=es(c);return d.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(a,c){const d=a.split("/"),f=c.split("/");for(let m=0;m<d.length&&m<f.length;m++){const _=Ge(d[m],f[m]);if(_!==0)return _}return Ge(d.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,c){const d=Ge(yt(a.latitude),yt(c.latitude));return d!==0?d:Ge(yt(a.longitude),yt(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return pv(n.arrayValue,e.arrayValue);case 10:return function(a,c){var d,f,m,_;const S=a.fields||{},C=c.fields||{},k=(d=S.value)===null||d===void 0?void 0:d.arrayValue,L=(f=C.value)===null||f===void 0?void 0:f.arrayValue,D=Ge(((m=k==null?void 0:k.values)===null||m===void 0?void 0:m.length)||0,((_=L==null?void 0:L.values)===null||_===void 0?void 0:_.length)||0);return D!==0?D:pv(k,L)}(n.mapValue,e.mapValue);case 11:return function(a,c){if(a===Fu.mapValue&&c===Fu.mapValue)return 0;if(a===Fu.mapValue)return 1;if(c===Fu.mapValue)return-1;const d=a.fields||{},f=Object.keys(d),m=c.fields||{},_=Object.keys(m);f.sort(),_.sort();for(let S=0;S<f.length&&S<_.length;++S){const C=Ge(f[S],_[S]);if(C!==0)return C;const k=jo(d[f[S]],m[_[S]]);if(k!==0)return k}return Ge(f.length,_.length)}(n.mapValue,e.mapValue);default:throw Oe()}}function fv(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ge(n,e);const t=Xi(n),r=Xi(e),o=Ge(t.seconds,r.seconds);return o!==0?o:Ge(t.nanos,r.nanos)}function pv(n,e){const t=n.values||[],r=e.values||[];for(let o=0;o<t.length&&o<r.length;++o){const a=jo(t[o],r[o]);if(a)return a}return Ge(t.length,r.length)}function Bo(n){return rf(n)}function rf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Xi(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return es(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Re.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",o=!0;for(const a of t.values||[])o?o=!1:r+=",",r+=rf(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const c of r)a?a=!1:o+=",",o+=`${c}:${rf(t.fields[c])}`;return o+"}"}(n.mapValue):Oe()}function Ju(n){switch(ts(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Fc(n);return e?16+Ju(e):16;case 5:return 2*n.stringValue.length;case 6:return es(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((o,a)=>o+Ju(a),0)}(n.arrayValue);case 10:case 11:return function(r){let o=0;return Us(r.fields,(a,c)=>{o+=a.length+Ju(c)}),o}(n.mapValue);default:throw Oe()}}function sf(n){return!!n&&"integerValue"in n}function Bf(n){return!!n&&"arrayValue"in n}function gv(n){return!!n&&"nullValue"in n}function mv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Xu(n){return!!n&&"mapValue"in n}function FP(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function qa(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Us(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=qa(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=qa(n.arrayValue.values[t]);return e}return Object.assign({},n)}function jP(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.value=e}static empty(){return new Fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Xu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=qa(t)}setAll(e){let t=Bt.emptyPath(),r={},o=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const f=this.getFieldsMap(t);this.applyChanges(f,r,o),r={},o=[],t=d.popLast()}c?r[d.lastSegment()]=qa(c):o.push(d.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,o)}delete(e){const t=this.field(e.popLast());Xu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Mr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];Xu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){Us(t,(o,a)=>e[o]=a);for(const o of r)delete e[o]}clone(){return new Fn(qa(this.value))}}function LE(n){const e=[];return Us(n.fields,(t,r)=>{const o=new Bt([t]);if(Xu(r)){const a=LE(r.mapValue).fields;if(a.length===0)e.push(o);else for(const c of a)e.push(o.child(c))}else e.push(o)}),new or(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,t,r,o,a,c,d){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=a,this.data=c,this.documentState=d}static newInvalidDocument(e){return new Qt(e,0,Ne.min(),Ne.min(),Ne.min(),Fn.empty(),0)}static newFoundDocument(e,t,r,o){return new Qt(e,1,t,Ne.min(),r,o,0)}static newNoDocument(e,t){return new Qt(e,2,t,Ne.min(),Ne.min(),Fn.empty(),0)}static newUnknownDocument(e,t){return new Qt(e,3,t,Ne.min(),Ne.min(),Fn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,t){this.position=e,this.inclusive=t}}function vv(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const a=e[o],c=n.position[o];if(a.field.isKeyField()?r=Re.comparator(Re.fromName(c.referenceValue),t.key):r=jo(c,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function yv(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Mr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,t="asc"){this.field=e,this.dir=t}}function BP(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{}class It extends PE{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new $P(e,t,r):t==="array-contains"?new qP(e,r):t==="in"?new GP(e,r):t==="not-in"?new KP(e,r):t==="array-contains-any"?new QP(e,r):new It(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new WP(e,r):new HP(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(jo(t,this.value)):t!==null&&ts(this.value)===ts(t)&&this.matchesComparison(jo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Oe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Or extends PE{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Or(e,t)}matches(e){return kE(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function kE(n){return n.op==="and"}function RE(n){return zP(n)&&kE(n)}function zP(n){for(const e of n.filters)if(e instanceof Or)return!1;return!0}function of(n){if(n instanceof It)return n.field.canonicalString()+n.op.toString()+Bo(n.value);if(RE(n))return n.filters.map(e=>of(e)).join(",");{const e=n.filters.map(t=>of(t)).join(",");return`${n.op}(${e})`}}function AE(n,e){return n instanceof It?function(r,o){return o instanceof It&&r.op===o.op&&r.field.isEqual(o.field)&&Mr(r.value,o.value)}(n,e):n instanceof Or?function(r,o){return o instanceof Or&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((a,c,d)=>a&&AE(c,o.filters[d]),!0):!1}(n,e):void Oe()}function xE(n){return n instanceof It?function(t){return`${t.field.canonicalString()} ${t.op} ${Bo(t.value)}`}(n):n instanceof Or?function(t){return t.op.toString()+" {"+t.getFilters().map(xE).join(" ,")+"}"}(n):"Filter"}class $P extends It{constructor(e,t,r){super(e,t,r),this.key=Re.fromName(r.referenceValue)}matches(e){const t=Re.comparator(e.key,this.key);return this.matchesComparison(t)}}class WP extends It{constructor(e,t){super(e,"in",t),this.keys=bE("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class HP extends It{constructor(e,t){super(e,"not-in",t),this.keys=bE("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function bE(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Re.fromName(r.referenceValue))}class qP extends It{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Bf(t)&&rl(t.arrayValue,this.value)}}class GP extends It{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&rl(this.value.arrayValue,t)}}class KP extends It{constructor(e,t){super(e,"not-in",t)}matches(e){if(rl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!rl(this.value.arrayValue,t)}}class QP extends It{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Bf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>rl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(e,t=null,r=[],o=[],a=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=a,this.startAt=c,this.endAt=d,this.ue=null}}function _v(n,e=null,t=[],r=[],o=null,a=null,c=null){return new YP(n,e,t,r,o,a,c)}function zf(n){const e=Ve(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>of(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Uc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Bo(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Bo(r)).join(",")),e.ue=t}return e.ue}function $f(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!BP(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!AE(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!yv(n.startAt,e.startAt)&&yv(n.endAt,e.endAt)}function af(n){return Re.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e,t=null,r=[],o=[],a=null,c="F",d=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=a,this.limitType=c,this.startAt=d,this.endAt=f,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function ZP(n,e,t,r,o,a,c,d){return new jc(n,e,t,r,o,a,c,d)}function ME(n){return new jc(n)}function Ev(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function JP(n){return n.collectionGroup!==null}function Ga(n){const e=Ve(n);if(e.ce===null){e.ce=[];const t=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Pt(Bt.comparator);return c.filters.forEach(f=>{f.getFlattenedFilters().forEach(m=>{m.isInequality()&&(d=d.add(m.field))})}),d})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.ce.push(new pc(a,r))}),t.has(Bt.keyField().canonicalString())||e.ce.push(new pc(Bt.keyField(),r))}return e.ce}function Ar(n){const e=Ve(n);return e.le||(e.le=XP(e,Ga(n))),e.le}function XP(n,e){if(n.limitType==="F")return _v(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new pc(o.field,a)});const t=n.endAt?new fc(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new fc(n.startAt.position,n.startAt.inclusive):null;return _v(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function lf(n,e,t){return new jc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Bc(n,e){return $f(Ar(n),Ar(e))&&n.limitType===e.limitType}function OE(n){return`${zf(Ar(n))}|lt:${n.limitType}`}function Po(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(o=>xE(o)).join(", ")}]`),Uc(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(o=>Bo(o)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(o=>Bo(o)).join(",")),`Target(${r})`}(Ar(n))}; limitType=${n.limitType})`}function zc(n,e){return e.isFoundDocument()&&function(r,o){const a=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Re.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,o){for(const a of Ga(r))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,o){for(const a of r.filters)if(!a.matches(o))return!1;return!0}(n,e)&&function(r,o){return!(r.startAt&&!function(c,d,f){const m=vv(c,d,f);return c.inclusive?m<=0:m<0}(r.startAt,Ga(r),o)||r.endAt&&!function(c,d,f){const m=vv(c,d,f);return c.inclusive?m>=0:m>0}(r.endAt,Ga(r),o))}(n,e)}function ek(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function DE(n){return(e,t)=>{let r=!1;for(const o of Ga(n)){const a=tk(o,e,t);if(a!==0)return a;r=r||o.field.isKeyField()}return 0}}function tk(n,e,t){const r=n.field.isKeyField()?Re.comparator(e.key,t.key):function(a,c,d){const f=c.data.field(a),m=d.data.field(a);return f!==null&&m!==null?jo(f,m):Oe()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Oe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[o,a]of r)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Us(this.inner,(t,r)=>{for(const[o,a]of r)e(o,a)})}isEmpty(){return TE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk=new pt(Re.comparator);function oi(){return nk}const NE=new pt(Re.comparator);function $a(...n){let e=NE;for(const t of n)e=e.insert(t.key,t);return e}function VE(n){let e=NE;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function As(){return Ka()}function UE(){return Ka()}function Ka(){return new Fs(n=>n.toString(),(n,e)=>n.isEqual(e))}const rk=new pt(Re.comparator),ik=new Pt(Re.comparator);function We(...n){let e=ik;for(const t of n)e=e.add(t);return e}const sk=new Pt(Ge);function ok(){return sk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wf(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dc(e)?"-0":e}}function FE(n){return{integerValue:""+n}}function ak(n,e){return OP(e)?FE(e):Wf(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(){this._=void 0}}function lk(n,e,t){return n instanceof gc?function(o,a){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&jf(a)&&(a=Fc(a)),a&&(c.fields.__previous_value__=a),{mapValue:c}}(t,e):n instanceof il?BE(n,e):n instanceof sl?zE(n,e):function(o,a){const c=jE(o,a),d=wv(c)+wv(o.Pe);return sf(c)&&sf(o.Pe)?FE(d):Wf(o.serializer,d)}(n,e)}function uk(n,e,t){return n instanceof il?BE(n,e):n instanceof sl?zE(n,e):t}function jE(n,e){return n instanceof mc?function(r){return sf(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class gc extends $c{}class il extends $c{constructor(e){super(),this.elements=e}}function BE(n,e){const t=$E(e);for(const r of n.elements)t.some(o=>Mr(o,r))||t.push(r);return{arrayValue:{values:t}}}class sl extends $c{constructor(e){super(),this.elements=e}}function zE(n,e){let t=$E(e);for(const r of n.elements)t=t.filter(o=>!Mr(o,r));return{arrayValue:{values:t}}}class mc extends $c{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function wv(n){return yt(n.integerValue||n.doubleValue)}function $E(n){return Bf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function ck(n,e){return n.field.isEqual(e.field)&&function(r,o){return r instanceof il&&o instanceof il||r instanceof sl&&o instanceof sl?Fo(r.elements,o.elements,Mr):r instanceof mc&&o instanceof mc?Mr(r.Pe,o.Pe):r instanceof gc&&o instanceof gc}(n.transform,e.transform)}class hk{constructor(e,t){this.version=e,this.transformResults=t}}class ti{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ti}static exists(e){return new ti(void 0,e)}static updateTime(e){return new ti(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ec(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Wc{}function WE(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new qE(n.key,ti.none()):new ml(n.key,n.data,ti.none());{const t=n.data,r=Fn.empty();let o=new Pt(Bt.comparator);for(let a of e.fields)if(!o.has(a)){let c=t.field(a);c===null&&a.length>1&&(a=a.popLast(),c=t.field(a)),c===null?r.delete(a):r.set(a,c),o=o.add(a)}return new js(n.key,r,new or(o.toArray()),ti.none())}}function dk(n,e,t){n instanceof ml?function(o,a,c){const d=o.value.clone(),f=Cv(o.fieldTransforms,a,c.transformResults);d.setAll(f),a.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,e,t):n instanceof js?function(o,a,c){if(!ec(o.precondition,a))return void a.convertToUnknownDocument(c.version);const d=Cv(o.fieldTransforms,a,c.transformResults),f=a.data;f.setAll(HE(o)),f.setAll(d),a.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(n,e,t):function(o,a,c){a.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function Qa(n,e,t,r){return n instanceof ml?function(a,c,d,f){if(!ec(a.precondition,c))return d;const m=a.value.clone(),_=Tv(a.fieldTransforms,f,c);return m.setAll(_),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null}(n,e,t,r):n instanceof js?function(a,c,d,f){if(!ec(a.precondition,c))return d;const m=Tv(a.fieldTransforms,f,c),_=c.data;return _.setAll(HE(a)),_.setAll(m),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(S=>S.field))}(n,e,t,r):function(a,c,d){return ec(a.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(n,e,t)}function fk(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),a=jE(r.transform,o||null);a!=null&&(t===null&&(t=Fn.empty()),t.set(r.field,a))}return t||null}function Sv(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Fo(r,o,(a,c)=>ck(a,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class ml extends Wc{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class js extends Wc{constructor(e,t,r,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function HE(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Cv(n,e,t){const r=new Map;Xe(n.length===t.length);for(let o=0;o<t.length;o++){const a=n[o],c=a.transform,d=e.data.field(a.field);r.set(a.field,uk(c,d,t[o]))}return r}function Tv(n,e,t){const r=new Map;for(const o of n){const a=o.transform,c=t.data.field(o.field);r.set(o.field,lk(a,c,e))}return r}class qE extends Wc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pk extends Wc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&dk(a,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Qa(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Qa(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=UE();return this.mutations.forEach(o=>{const a=e.get(o.key),c=a.overlayedDocument;let d=this.applyToLocalView(c,a.mutatedFields);d=t.has(o.key)?null:d;const f=WE(c,d);f!==null&&r.set(o.key,f),c.isValidDocument()||c.convertToNoDocument(Ne.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),We())}isEqual(e){return this.batchId===e.batchId&&Fo(this.mutations,e.mutations,(t,r)=>Sv(t,r))&&Fo(this.baseMutations,e.baseMutations,(t,r)=>Sv(t,r))}}class Hf{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){Xe(e.mutations.length===r.length);let o=function(){return rk}();const a=e.mutations;for(let c=0;c<a.length;c++)o=o.insert(a[c].key,r[c].version);return new Hf(e,t,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt,Qe;function yk(n){switch(n){default:return Oe();case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0}}function GE(n){if(n===void 0)return si("GRPC error has no .code"),oe.UNKNOWN;switch(n){case wt.OK:return oe.OK;case wt.CANCELLED:return oe.CANCELLED;case wt.UNKNOWN:return oe.UNKNOWN;case wt.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case wt.INTERNAL:return oe.INTERNAL;case wt.UNAVAILABLE:return oe.UNAVAILABLE;case wt.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case wt.NOT_FOUND:return oe.NOT_FOUND;case wt.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case wt.ABORTED:return oe.ABORTED;case wt.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case wt.DATA_LOSS:return oe.DATA_LOSS;default:return Oe()}}(Qe=wt||(wt={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _k(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ek=new Ms([4294967295,4294967295],0);function Iv(n){const e=_k().encode(n),t=new mE;return t.update(e),new Uint8Array(t.digest())}function Lv(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ms([t,r],0),new Ms([o,a],0)]}class qf{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Wa(`Invalid padding: ${t}`);if(r<0)throw new Wa(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Wa(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Wa(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=Ms.fromNumber(this.Te)}Ee(e,t,r){let o=e.add(t.multiply(Ms.fromNumber(r)));return o.compare(Ek)===1&&(o=new Ms([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=Iv(e),[r,o]=Lv(t);for(let a=0;a<this.hashCount;a++){const c=this.Ee(r,o,a);if(!this.de(c))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new qf(a,o,t);return r.forEach(d=>c.insert(d)),c}insert(e){if(this.Te===0)return;const t=Iv(e),[r,o]=Lv(t);for(let a=0;a<this.hashCount;a++){const c=this.Ee(r,o,a);this.Ae(c)}}Ae(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Wa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,t,r,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,vl.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Hc(Ne.min(),o,new pt(Ge),oi(),We())}}class vl{constructor(e,t,r,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new vl(r,t,We(),We(),We())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,t,r,o){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=o}}class KE{constructor(e,t){this.targetId=e,this.me=t}}class QE{constructor(e,t,r=zt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class Pv{constructor(){this.fe=0,this.ge=kv(),this.pe=zt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=We(),t=We(),r=We();return this.ge.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:Oe()}}),new vl(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=kv()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Xe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class wk{constructor(e){this.Le=e,this.Be=new Map,this.ke=oi(),this.qe=ju(),this.Qe=ju(),this.Ke=new pt(Ge)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const r=this.ze(t);switch(e.state){case 0:this.je(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.je(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),r.De(e.resumeToken));break;default:Oe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,o)=>{this.je(o)&&t(o)})}Je(e){const t=e.targetId,r=e.me.count,o=this.Ye(t);if(o){const a=o.target;if(af(a))if(r===0){const c=new Re(a.path);this.We(t,c,Qt.newNoDocument(c,Ne.min()))}else Xe(r===1);else{const c=this.Ze(t);if(c!==r){const d=this.Xe(e),f=d?this.et(d,e,c):1;if(f!==0){this.He(t);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,m)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:a=0}=t;let c,d;try{c=es(r).toUint8Array()}catch(f){if(f instanceof IE)return Uo("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new qf(c,o,a)}catch(f){return Uo(f instanceof Wa?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.Te===0?null:d}et(e,t,r){return t.me.count===r-this.rt(e,t.targetId)?0:2}rt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let o=0;return r.forEach(a=>{const c=this.Le.nt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.We(t,a,null),o++)}),o}it(e){const t=new Map;this.Be.forEach((a,c)=>{const d=this.Ye(c);if(d){if(a.current&&af(d.target)){const f=new Re(d.target.path);this.st(f).has(c)||this.ot(c,f)||this.We(c,f,Qt.newNoDocument(f,e))}a.be&&(t.set(c,a.ve()),a.Ce())}});let r=We();this.Qe.forEach((a,c)=>{let d=!0;c.forEachWhile(f=>{const m=this.Ye(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(a))}),this.ke.forEach((a,c)=>c.setReadTime(e));const o=new Hc(e,t,this.Ke,this.ke,r);return this.ke=oi(),this.qe=ju(),this.Qe=ju(),this.Ke=new pt(Ge),o}Ue(e,t){if(!this.je(e))return;const r=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,r){if(!this.je(e))return;const o=this.ze(e);this.ot(e,t)?o.Fe(t,1):o.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new Pv,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new Pt(Ge),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Pt(Ge),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||ge("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new Pv),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function ju(){return new pt(Re.comparator)}function kv(){return new pt(Re.comparator)}const Sk={asc:"ASCENDING",desc:"DESCENDING"},Ck={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Tk={and:"AND",or:"OR"};class Ik{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function uf(n,e){return n.useProto3Json||Uc(e)?e:{value:e}}function vc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function YE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Lk(n,e){return vc(n,e.toTimestamp())}function xr(n){return Xe(!!n),Ne.fromTimestamp(function(t){const r=Xi(t);return new Lt(r.seconds,r.nanos)}(n))}function Gf(n,e){return cf(n,e).canonicalString()}function cf(n,e){const t=function(o){return new ct(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function ZE(n){const e=ct.fromString(n);return Xe(nw(e)),e}function hf(n,e){return Gf(n.databaseId,e.path)}function Vd(n,e){const t=ZE(e);if(t.get(1)!==n.databaseId.projectId)throw new Le(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Le(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Re(XE(t))}function JE(n,e){return Gf(n.databaseId,e)}function Pk(n){const e=ZE(n);return e.length===4?ct.emptyPath():XE(e)}function df(n){return new ct(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function XE(n){return Xe(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Rv(n,e,t){return{name:hf(n,e),fields:t.value.mapValue.fields}}function kk(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Oe()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(m,_){return m.useProto3Json?(Xe(_===void 0||typeof _=="string"),zt.fromBase64String(_||"")):(Xe(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),zt.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(m){const _=m.code===void 0?oe.UNKNOWN:GE(m.code);return new Le(_,m.message||"")}(c);t=new QE(r,o,a,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Vd(n,r.document.name),a=xr(r.document.updateTime),c=r.document.createTime?xr(r.document.createTime):Ne.min(),d=new Fn({mapValue:{fields:r.document.fields}}),f=Qt.newFoundDocument(o,a,c,d),m=r.targetIds||[],_=r.removedTargetIds||[];t=new tc(m,_,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Vd(n,r.document),a=r.readTime?xr(r.readTime):Ne.min(),c=Qt.newNoDocument(o,a),d=r.removedTargetIds||[];t=new tc([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Vd(n,r.document),a=r.removedTargetIds||[];t=new tc([],a,o,null)}else{if(!("filter"in e))return Oe();{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:a}=r,c=new vk(o,a),d=r.targetId;t=new KE(d,c)}}return t}function Rk(n,e){let t;if(e instanceof ml)t={update:Rv(n,e.key,e.value)};else if(e instanceof qE)t={delete:hf(n,e.key)};else if(e instanceof js)t={update:Rv(n,e.key,e.data),updateMask:Uk(e.fieldMask)};else{if(!(e instanceof pk))return Oe();t={verify:hf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,c){const d=c.transform;if(d instanceof gc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof il)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof sl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof mc)return{fieldPath:c.field.canonicalString(),increment:d.Pe};throw Oe()}(0,r))),e.precondition.isNone||(t.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:Lk(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Oe()}(n,e.precondition)),t}function Ak(n,e){return n&&n.length>0?(Xe(e!==void 0),n.map(t=>function(o,a){let c=o.updateTime?xr(o.updateTime):xr(a);return c.isEqual(Ne.min())&&(c=xr(a)),new hk(c,o.transformResults||[])}(t,e))):[]}function xk(n,e){return{documents:[JE(n,e.path)]}}function bk(n,e){const t={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=JE(n,o);const a=function(m){if(m.length!==0)return tw(Or.create(m,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const c=function(m){if(m.length!==0)return m.map(_=>function(C){return{field:ko(C.field),direction:Dk(C.dir)}}(_))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=uf(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{ct:t,parent:o}}function Mk(n){let e=Pk(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){Xe(r===1);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let a=[];t.where&&(a=function(S){const C=ew(S);return C instanceof Or&&RE(C)?C.getFilters():[C]}(t.where));let c=[];t.orderBy&&(c=function(S){return S.map(C=>function(L){return new pc(Ro(L.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(L.direction))}(C))}(t.orderBy));let d=null;t.limit&&(d=function(S){let C;return C=typeof S=="object"?S.value:S,Uc(C)?null:C}(t.limit));let f=null;t.startAt&&(f=function(S){const C=!!S.before,k=S.values||[];return new fc(k,C)}(t.startAt));let m=null;return t.endAt&&(m=function(S){const C=!S.before,k=S.values||[];return new fc(k,C)}(t.endAt)),ZP(e,o,c,a,d,"F",f,m)}function Ok(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Oe()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function ew(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Ro(t.unaryFilter.field);return It.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Ro(t.unaryFilter.field);return It.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ro(t.unaryFilter.field);return It.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Ro(t.unaryFilter.field);return It.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Oe()}}(n):n.fieldFilter!==void 0?function(t){return It.create(Ro(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Oe()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Or.create(t.compositeFilter.filters.map(r=>ew(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Oe()}}(t.compositeFilter.op))}(n):Oe()}function Dk(n){return Sk[n]}function Nk(n){return Ck[n]}function Vk(n){return Tk[n]}function ko(n){return{fieldPath:n.canonicalString()}}function Ro(n){return Bt.fromServerFormat(n.fieldPath)}function tw(n){return n instanceof It?function(t){if(t.op==="=="){if(mv(t.value))return{unaryFilter:{field:ko(t.field),op:"IS_NAN"}};if(gv(t.value))return{unaryFilter:{field:ko(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(mv(t.value))return{unaryFilter:{field:ko(t.field),op:"IS_NOT_NAN"}};if(gv(t.value))return{unaryFilter:{field:ko(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ko(t.field),op:Nk(t.op),value:t.value}}}(n):n instanceof Or?function(t){const r=t.getFilters().map(o=>tw(o));return r.length===1?r[0]:{compositeFilter:{op:Vk(t.op),filters:r}}}(n):Oe()}function Uk(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function nw(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e,t,r,o,a=Ne.min(),c=Ne.min(),d=zt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new Hi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(e){this.ht=e}}function jk(n){const e=Mk({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?lf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(){this.ln=new zk}addToCollectionParentIndex(e,t){return this.ln.add(t),te.resolve()}getCollectionParents(e,t){return te.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return te.resolve()}deleteFieldIndex(e,t){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,t){return te.resolve()}getDocumentsMatchingTarget(e,t){return te.resolve(null)}getIndexType(e,t){return te.resolve(0)}getFieldIndexes(e,t){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,t){return te.resolve(Ji.min())}getMinOffsetFromCollectionGroup(e,t){return te.resolve(Ji.min())}updateCollectionGroup(e,t,r){return te.resolve()}updateIndexEntries(e,t){return te.resolve()}}class zk{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Pt(ct.comparator),a=!o.has(r);return this.index[t]=o.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Pt(ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class dn{static withCacheSize(e){return new dn(e,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(41943040,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new zo(0)}static Qn(){return new zo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xv([n,e],[t,r]){const o=Ge(n,t);return o===0?Ge(e,r):o}class $k{constructor(e){this.Gn=e,this.buffer=new Pt(xv),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();xv(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Wk{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ge("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Jo(t)?ge("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await Zo(t)}await this.Yn(3e5)})}}class Hk{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return te.resolve(Vc.oe);const r=new $k(t);return this.Zn.forEachTarget(e,o=>r.Hn(o.sequenceNumber)).next(()=>this.Zn.er(e,o=>r.Hn(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Zn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(Av)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Av):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let r,o,a,c,d,f,m;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,c=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(r=S,d=Date.now(),this.removeTargets(e,r,t))).next(S=>(a=S,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(S=>(m=Date.now(),Lo()<=$e.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${a} targets in `+(f-d)+`ms
	Removed ${S} documents in `+(m-f)+`ms
Total Duration: ${m-_}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:S})))}}function qk(n,e){return new Hk(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(){this.changes=new Fs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Qt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?te.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(r!==null&&Qa(r.mutation,o,or.empty(),Lt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,We()).next(()=>r))}getLocalViewOfDocuments(e,t,r=We()){const o=As();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(a=>{let c=$a();return a.forEach((d,f)=>{c=c.insert(d,f.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=As();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,We()))}populateOverlays(e,t,r){const o=[];return r.forEach(a=>{t.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,r,o){let a=oi();const c=Ka(),d=function(){return Ka()}();return t.forEach((f,m)=>{const _=r.get(m.key);o.has(m.key)&&(_===void 0||_.mutation instanceof js)?a=a.insert(m.key,m):_!==void 0?(c.set(m.key,_.mutation.getFieldMask()),Qa(_.mutation,m,_.mutation.getFieldMask(),Lt.now())):c.set(m.key,or.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((m,_)=>c.set(m,_)),t.forEach((m,_)=>{var S;return d.set(m,new Kk(_,(S=c.get(m))!==null&&S!==void 0?S:null))}),d))}recalculateAndSaveOverlays(e,t){const r=Ka();let o=new pt((c,d)=>c-d),a=We();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(f=>{const m=t.get(f);if(m===null)return;let _=r.get(f)||or.empty();_=d.applyToLocalView(m,_),r.set(f,_);const S=(o.get(d.batchId)||We()).add(f);o=o.insert(d.batchId,S)})}).next(()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),m=f.key,_=f.value,S=UE();_.forEach(C=>{if(!a.has(C)){const k=WE(t.get(C),r.get(C));k!==null&&S.set(C,k),a=a.add(C)}}),c.push(this.documentOverlayCache.saveOverlays(e,m,S))}return te.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,o){return function(c){return Re.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):JP(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,o):this.getDocumentsMatchingCollectionQuery(e,t,r,o)}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(a=>{const c=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-a.size):te.resolve(As());let d=-1,f=a;return c.next(m=>te.forEach(m,(_,S)=>(d<S.largestBatchId&&(d=S.largestBatchId),a.get(_)?te.resolve():this.remoteDocumentCache.getEntry(e,_).next(C=>{f=f.insert(_,C)}))).next(()=>this.populateOverlays(e,m,a)).next(()=>this.computeViews(e,f,m,We())).next(_=>({batchId:d,changes:VE(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Re(t)).next(r=>{let o=$a();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r,o){const a=t.collectionGroup;let c=$a();return this.indexManager.getCollectionParents(e,a).next(d=>te.forEach(d,f=>{const m=function(S,C){return new jc(C,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,r,o).next(_=>{_.forEach((S,C)=>{c=c.insert(S,C)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,r,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,o))).next(c=>{a.forEach((f,m)=>{const _=m.getKey();c.get(_)===null&&(c=c.insert(_,Qt.newInvalidDocument(_)))});let d=$a();return c.forEach((f,m)=>{const _=a.get(f);_!==void 0&&Qa(_.mutation,m,or.empty(),Lt.now()),zc(t,m)&&(d=d.insert(f,m))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return te.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:xr(o.createTime)}}(t)),te.resolve()}getNamedQuery(e,t){return te.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(o){return{name:o.name,query:jk(o.bundledQuery),readTime:xr(o.readTime)}}(t)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(){this.overlays=new pt(Re.comparator),this.Er=new Map}getOverlay(e,t){return te.resolve(this.overlays.get(t))}getOverlays(e,t){const r=As();return te.forEach(t,o=>this.getOverlay(e,o).next(a=>{a!==null&&r.set(o,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,a)=>{this.Tt(e,t,a)}),te.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.Er.get(r);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.Er.delete(r)),te.resolve()}getOverlaysForCollection(e,t,r){const o=As(),a=t.length+1,c=new Re(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const f=d.getNext().value,m=f.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===a&&f.largestBatchId>r&&o.set(f.getKey(),f)}return te.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let a=new pt((m,_)=>m-_);const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>r){let _=a.get(m.largestBatchId);_===null&&(_=As(),a=a.insert(m.largestBatchId,_)),_.set(m.getKey(),m)}}const d=As(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((m,_)=>d.set(m,_)),!(d.size()>=o)););return te.resolve(d)}Tt(e,t,r){const o=this.overlays.get(r.key);if(o!==null){const c=this.Er.get(o.largestBatchId).delete(r.key);this.Er.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new mk(t,r));let a=this.Er.get(t);a===void 0&&(a=We(),this.Er.set(t,a)),this.Er.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(){this.sessionToken=zt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(){this.dr=new Pt(Dt.Ar),this.Rr=new Pt(Dt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const r=new Dt(e,t);this.dr=this.dr.add(r),this.Rr=this.Rr.add(r)}mr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.gr(new Dt(e,t))}pr(e,t){e.forEach(r=>this.removeReference(r,t))}yr(e){const t=new Re(new ct([])),r=new Dt(t,e),o=new Dt(t,e+1),a=[];return this.Rr.forEachInRange([r,o],c=>{this.gr(c),a.push(c.key)}),a}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new Re(new ct([])),r=new Dt(t,e),o=new Dt(t,e+1);let a=We();return this.Rr.forEachInRange([r,o],c=>{a=a.add(c.key)}),a}containsKey(e){const t=new Dt(e,0),r=this.dr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Dt{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return Re.comparator(e.key,t.key)||Ge(e.br,t.br)}static Vr(e,t){return Ge(e.br,t.br)||Re.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new Pt(Dt.Ar)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,o){const a=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new gk(a,t,r,o);this.mutationQueue.push(c);for(const d of o)this.vr=this.vr.add(new Dt(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return te.resolve(c)}lookupMutationBatch(e,t){return te.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=this.Fr(r),a=o<0?0:o;return te.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Dt(t,0),o=new Dt(t,Number.POSITIVE_INFINITY),a=[];return this.vr.forEachInRange([r,o],c=>{const d=this.Cr(c.br);a.push(d)}),te.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Pt(Ge);return t.forEach(o=>{const a=new Dt(o,0),c=new Dt(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([a,c],d=>{r=r.add(d.br)})}),te.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let a=r;Re.isDocumentKey(a)||(a=a.child(""));const c=new Dt(new Re(a),0);let d=new Pt(Ge);return this.vr.forEachWhile(f=>{const m=f.key.path;return!!r.isPrefixOf(m)&&(m.length===o&&(d=d.add(f.br)),!0)},c),te.resolve(this.Mr(d))}Mr(e){const t=[];return e.forEach(r=>{const o=this.Cr(r);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Xe(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return te.forEach(t.mutations,o=>{const a=new Dt(o.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.vr=r})}Ln(e){}containsKey(e,t){const r=new Dt(t,0),o=this.vr.firstAfterOrEqual(r);return te.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e){this.Nr=e,this.docs=function(){return new pt(Re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),a=o?o.size:0,c=this.Nr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return te.resolve(r?r.document.mutableCopy():Qt.newInvalidDocument(t))}getEntries(e,t){let r=oi();return t.forEach(o=>{const a=this.docs.get(o);r=r.insert(o,a?a.document.mutableCopy():Qt.newInvalidDocument(o))}),te.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let a=oi();const c=t.path,d=new Re(c.child("")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:m,value:{document:_}}=f.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||AP(RP(_),r)<=0||(o.has(_.key)||zc(t,_))&&(a=a.insert(_.key,_.mutableCopy()))}return te.resolve(a)}getAllFromCollectionGroup(e,t,r,o){Oe()}Lr(e,t){return te.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new tR(this)}getSize(e){return te.resolve(this.size)}}class tR extends Gk{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.hr.addEntry(e,o)):this.hr.removeEntry(r)}),te.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(e){this.persistence=e,this.Br=new Fs(t=>zf(t),$f),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.kr=0,this.qr=new Kf,this.targetCount=0,this.Qr=zo.qn()}forEachTarget(e,t){return this.Br.forEach((r,o)=>t(o)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.kr&&(this.kr=t),te.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new zo(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,te.resolve()}updateTargetData(e,t){return this.Un(t),te.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,t,r){let o=0;const a=[];return this.Br.forEach((c,d)=>{d.sequenceNumber<=t&&r.get(d.targetId)===null&&(this.Br.delete(c),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),te.waitFor(a).next(()=>o)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,t){const r=this.Br.get(t)||null;return te.resolve(r)}addMatchingKeys(e,t,r){return this.qr.mr(t,r),te.resolve()}removeMatchingKeys(e,t,r){this.qr.pr(t,r);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach(c=>{a.push(o.markPotentiallyOrphaned(e,c))}),te.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),te.resolve()}getMatchingKeysForTargetId(e,t){const r=this.qr.Sr(t);return te.resolve(r)}containsKey(e,t){return te.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e,t){this.Kr={},this.overlays={},this.$r=new Vc(0),this.Ur=!1,this.Ur=!0,this.Wr=new Jk,this.referenceDelegate=e(this),this.Gr=new nR(this),this.indexManager=new Bk,this.remoteDocumentCache=function(o){return new eR(o)}(r=>this.referenceDelegate.zr(r)),this.serializer=new Fk(t),this.jr=new Yk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Zk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Kr[e.toKey()];return r||(r=new Xk(t,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,r){ge("MemoryPersistence","Starting transaction:",e);const o=new rR(this.$r.next());return this.referenceDelegate.Hr(),r(o).next(a=>this.referenceDelegate.Jr(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}Yr(e,t){return te.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,t)))}}class rR extends bP{constructor(e){super(),this.currentSequenceNumber=e}}class Qf{constructor(e){this.persistence=e,this.Zr=new Kf,this.Xr=null}static ei(e){return new Qf(e)}get ti(){if(this.Xr)return this.Xr;throw Oe()}addReference(e,t,r){return this.Zr.addReference(r,t),this.ti.delete(r.toString()),te.resolve()}removeReference(e,t,r){return this.Zr.removeReference(r,t),this.ti.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),te.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(o=>this.ti.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(a=>this.ti.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.ti,r=>{const o=Re.fromPath(r);return this.ni(e,o).next(a=>{a||t.removeEntry(o,Ne.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(r=>{r?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return te.or([()=>te.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class yc{constructor(e,t){this.persistence=e,this.ri=new Fs(r=>DP(r.path),(r,o)=>r.isEqual(o)),this.garbageCollector=qk(this,t)}static ei(e,t){return new yc(e,t)}Hr(){}Jr(e){return te.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}nr(e){let t=0;return this.er(e,r=>{t++}).next(()=>t)}er(e,t){return te.forEach(this.ri,(r,o)=>this.ir(e,r,o).next(a=>a?te.resolve():t(o)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.Lr(e,c=>this.ir(e,c,t).next(d=>{d||(r++,a.removeEntry(c,Ne.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),te.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),te.resolve()}removeReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),te.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ju(e.data.value)),t}ir(e,t,r){return te.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.ri.get(t);return te.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Wi=r,this.Gi=o}static zi(e,t){let r=We(),o=We();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new Yf(e,t.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return rI()?8:MP(Yt())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,r,o){const a={result:null};return this.Xi(e,t).next(c=>{a.result=c}).next(()=>{if(!a.result)return this.es(e,t,o,r).next(c=>{a.result=c})}).next(()=>{if(a.result)return;const c=new iR;return this.ts(e,t,c).next(d=>{if(a.result=d,this.Hi)return this.ns(e,t,c,d.size)})}).next(()=>a.result)}ns(e,t,r,o){return r.documentReadCount<this.Ji?(Lo()<=$e.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",Po(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),te.resolve()):(Lo()<=$e.DEBUG&&ge("QueryEngine","Query:",Po(t),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.Yi*o?(Lo()<=$e.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",Po(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ar(t))):te.resolve())}Xi(e,t){if(Ev(t))return te.resolve(null);let r=Ar(t);return this.indexManager.getIndexType(e,r).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=lf(t,null,"F"),r=Ar(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const c=We(...a);return this.Zi.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,r).next(f=>{const m=this.rs(t,d);return this.ss(t,m,c,f.readTime)?this.Xi(e,lf(t,null,"F")):this.os(e,m,t,f)}))})))}es(e,t,r,o){return Ev(t)||o.isEqual(Ne.min())?te.resolve(null):this.Zi.getDocuments(e,r).next(a=>{const c=this.rs(t,a);return this.ss(t,c,r,o)?te.resolve(null):(Lo()<=$e.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Po(t)),this.os(e,c,t,kP(o,-1)).next(d=>d))})}rs(e,t){let r=new Pt(DE(e));return t.forEach((o,a)=>{zc(e,a)&&(r=r.add(a))}),r}ss(e,t,r,o){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}ts(e,t,r){return Lo()<=$e.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",Po(t)),this.Zi.getDocumentsMatchingQuery(e,t,Ji.min(),r)}os(e,t,r,o){return this.Zi.getDocumentsMatchingQuery(e,r,o).next(a=>(t.forEach(c=>{a=a.insert(c.key,c)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e,t,r,o){this.persistence=e,this._s=t,this.serializer=o,this.us=new pt(Ge),this.cs=new Fs(a=>zf(a),$f),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Qk(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function aR(n,e,t,r){return new oR(n,e,t,r)}async function iw(n,e){const t=Ve(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(a=>(o=a,t.Ps(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const c=[],d=[];let f=We();for(const m of o){c.push(m.batchId);for(const _ of m.mutations)f=f.add(_.key)}for(const m of a){d.push(m.batchId);for(const _ of m.mutations)f=f.add(_.key)}return t.localDocuments.getDocuments(r,f).next(m=>({Ts:m,removedBatchIds:c,addedBatchIds:d}))})})}function lR(n,e){const t=Ve(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),a=t.hs.newChangeBuffer({trackRemovals:!0});return function(d,f,m,_){const S=m.batch,C=S.keys();let k=te.resolve();return C.forEach(L=>{k=k.next(()=>_.getEntry(f,L)).next(D=>{const b=m.docVersions.get(L);Xe(b!==null),D.version.compareTo(b)<0&&(S.applyToRemoteDocument(D,m),D.isValidDocument()&&(D.setReadTime(m.commitVersion),_.addEntry(D)))})}),k.next(()=>d.mutationQueue.removeMutationBatch(f,S))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let f=We();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(f=f.add(d.batch.mutations[m].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}function sw(n){const e=Ve(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function uR(n,e){const t=Ve(n),r=e.snapshotVersion;let o=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=t.hs.newChangeBuffer({trackRemovals:!0});o=t.us;const d=[];e.targetChanges.forEach((_,S)=>{const C=o.get(S);if(!C)return;d.push(t.Gr.removeMatchingKeys(a,_.removedDocuments,S).next(()=>t.Gr.addMatchingKeys(a,_.addedDocuments,S)));let k=C.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(S)!==null?k=k.withResumeToken(zt.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):_.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(_.resumeToken,r)),o=o.insert(S,k),function(D,b,B){return D.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=3e8?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0}(C,k,_)&&d.push(t.Gr.updateTargetData(a,k))});let f=oi(),m=We();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(a,_))}),d.push(cR(a,c,e.documentUpdates).next(_=>{f=_.Is,m=_.Es})),!r.isEqual(Ne.min())){const _=t.Gr.getLastRemoteSnapshotVersion(a).next(S=>t.Gr.setTargetsMetadata(a,a.currentSequenceNumber,r));d.push(_)}return te.waitFor(d).next(()=>c.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,f,m)).next(()=>f)}).then(a=>(t.us=o,a))}function cR(n,e,t){let r=We(),o=We();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let c=oi();return t.forEach((d,f)=>{const m=a.get(d);f.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(d)),f.isNoDocument()&&f.version.isEqual(Ne.min())?(e.removeEntry(d,f.readTime),c=c.insert(d,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),c=c.insert(d,f)):ge("LocalStore","Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",f.version)}),{Is:c,Es:o}})}function hR(n,e){const t=Ve(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function dR(n,e){const t=Ve(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.Gr.getTargetData(r,e).next(a=>a?(o=a,te.resolve(o)):t.Gr.allocateTargetId(r).next(c=>(o=new Hi(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.Gr.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.us.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.us=t.us.insert(r.targetId,r),t.cs.set(e,r.targetId)),r})}async function ff(n,e,t){const r=Ve(n),o=r.us.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,c=>r.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!Jo(c))throw c;ge("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.us=r.us.remove(e),r.cs.delete(o.target)}function bv(n,e,t){const r=Ve(n);let o=Ne.min(),a=We();return r.persistence.runTransaction("Execute query","readwrite",c=>function(f,m,_){const S=Ve(f),C=S.cs.get(_);return C!==void 0?te.resolve(S.us.get(C)):S.Gr.getTargetData(m,_)}(r,c,Ar(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(c,d.targetId).next(f=>{a=f})}).next(()=>r._s.getDocumentsMatchingQuery(c,e,t?o:Ne.min(),t?a:We())).next(d=>(fR(r,ek(e),d),{documents:d,ds:a})))}function fR(n,e,t){let r=n.ls.get(e)||Ne.min();t.forEach((o,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.ls.set(e,r)}class Mv{constructor(){this.activeTargetIds=ok()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class pR{constructor(){this._o=new Mv,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,r){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Mv,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bu=null;function Ud(){return Bu===null?Bu=function(){return 268435456+Math.round(2147483648*Math.random())}():Bu++,"0x"+Bu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gt="WebChannelConnection";class yR extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+t.host,this.Mo=`projects/${o}/databases/${a}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${a}`}Oo(t,r,o,a,c){const d=Ud(),f=this.No(t,r.toUriEncodedString());ge("RestConnection",`Sending RPC '${t}' ${d}:`,f,o);const m={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(m,a,c),this.Bo(t,f,m,o).then(_=>(ge("RestConnection",`Received RPC '${t}' ${d}: `,_),_),_=>{throw Uo("RestConnection",`RPC '${t}' ${d} failed with error: `,_,"url: ",f,"request:",o),_})}ko(t,r,o,a,c,d){return this.Oo(t,r,o,a,c)}Lo(t,r,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Yo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,c)=>t[c]=a),o&&o.headers.forEach((a,c)=>t[c]=a)}No(t,r){const o=mR[t];return`${this.Fo}/v1/${r}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,r,o){const a=Ud();return new Promise((c,d)=>{const f=new vE;f.setWithCredentials(!0),f.listenOnce(yE.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Zu.NO_ERROR:const _=f.getResponseJson();ge(Gt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(_)),c(_);break;case Zu.TIMEOUT:ge(Gt,`RPC '${e}' ${a} timed out`),d(new Le(oe.DEADLINE_EXCEEDED,"Request time out"));break;case Zu.HTTP_ERROR:const S=f.getStatus();if(ge(Gt,`RPC '${e}' ${a} failed with status:`,S,"response text:",f.getResponseText()),S>0){let C=f.getResponseJson();Array.isArray(C)&&(C=C[0]);const k=C==null?void 0:C.error;if(k&&k.status&&k.message){const L=function(b){const B=b.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(B)>=0?B:oe.UNKNOWN}(k.status);d(new Le(L,k.message))}else d(new Le(oe.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new Le(oe.UNAVAILABLE,"Connection failed."));break;default:Oe()}}finally{ge(Gt,`RPC '${e}' ${a} completed.`)}});const m=JSON.stringify(o);ge(Gt,`RPC '${e}' ${a} sending request:`,o),f.send(t,"POST",m,r,15)})}qo(e,t,r){const o=Ud(),a=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=wE(),d=EE(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Lo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const _=a.join("");ge(Gt,`Creating RPC '${e}' stream ${o}: ${_}`,f);const S=c.createWebChannel(_,f);let C=!1,k=!1;const L=new vR({Eo:b=>{k?ge(Gt,`Not sending because RPC '${e}' stream ${o} is closed:`,b):(C||(ge(Gt,`Opening RPC '${e}' stream ${o} transport.`),S.open(),C=!0),ge(Gt,`RPC '${e}' stream ${o} sending:`,b),S.send(b))},Ao:()=>S.close()}),D=(b,B,j)=>{b.listen(B,X=>{try{j(X)}catch(W){setTimeout(()=>{throw W},0)}})};return D(S,za.EventType.OPEN,()=>{k||(ge(Gt,`RPC '${e}' stream ${o} transport opened.`),L.So())}),D(S,za.EventType.CLOSE,()=>{k||(k=!0,ge(Gt,`RPC '${e}' stream ${o} transport closed`),L.Do())}),D(S,za.EventType.ERROR,b=>{k||(k=!0,Uo(Gt,`RPC '${e}' stream ${o} transport errored:`,b),L.Do(new Le(oe.UNAVAILABLE,"The operation could not be completed")))}),D(S,za.EventType.MESSAGE,b=>{var B;if(!k){const j=b.data[0];Xe(!!j);const X=j,W=(X==null?void 0:X.error)||((B=X[0])===null||B===void 0?void 0:B.error);if(W){ge(Gt,`RPC '${e}' stream ${o} received error:`,W);const q=W.status;let Q=function(T){const x=wt[T];if(x!==void 0)return GE(x)}(q),R=W.message;Q===void 0&&(Q=oe.INTERNAL,R="Unknown error status: "+q+" with message "+W.message),k=!0,L.Do(new Le(Q,R)),S.close()}else ge(Gt,`RPC '${e}' stream ${o} received:`,j),L.vo(j)}}),D(d,_E.STAT_EVENT,b=>{b.stat===nf.PROXY?ge(Gt,`RPC '${e}' stream ${o} detected buffering proxy`):b.stat===nf.NOPROXY&&ge(Gt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{L.bo()},0),L}}function Fd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qc(n){return new Ik(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e,t,r=1e3,o=1.5,a=6e4){this.li=e,this.timerId=t,this.Qo=r,this.Ko=o,this.$o=a,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),o=Math.max(0,t-r);o>0&&ge("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e,t,r,o,a,c,d,f){this.li=e,this.Yo=r,this.Zo=o,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new ow(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===oe.RESOURCE_EXHAUSTED?(si(t.toString()),si("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Xo===t&&this.I_(r,o)},r=>{e(()=>{const o=new Le(oe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.E_(o)})})}I_(e,t){const r=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{r(()=>this.E_(o))}),this.stream.onMessage(o=>{r(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return ge("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _R extends aw{constructor(e,t,r,o,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,c),this.serializer=a}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=kk(this.serializer,e),r=function(a){if(!("targetChange"in a))return Ne.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?Ne.min():c.readTime?xr(c.readTime):Ne.min()}(e);return this.listener.R_(t,r)}V_(e){const t={};t.database=df(this.serializer),t.addTarget=function(a,c){let d;const f=c.target;if(d=af(f)?{documents:xk(a,f)}:{query:bk(a,f).ct},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=YE(a,c.resumeToken);const m=uf(a,c.expectedCount);m!==null&&(d.expectedCount=m)}else if(c.snapshotVersion.compareTo(Ne.min())>0){d.readTime=vc(a,c.snapshotVersion.toTimestamp());const m=uf(a,c.expectedCount);m!==null&&(d.expectedCount=m)}return d}(this.serializer,e);const r=Ok(this.serializer,e);r&&(t.labels=r),this.c_(t)}m_(e){const t={};t.database=df(this.serializer),t.removeTarget=e,this.c_(t)}}class ER extends aw{constructor(e,t,r,o,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,c),this.serializer=a}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return Xe(!!e.streamToken),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Xe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=Ak(e.writeResults,e.commitTime),r=xr(e.commitTime);return this.listener.y_(r,t)}w_(){const e={};e.database=df(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Rk(this.serializer,r))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new Le(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,r,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.Oo(e,cf(t,r),o,a,c)).catch(a=>{throw a.name==="FirebaseError"?(a.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Le(oe.UNKNOWN,a.toString())})}ko(e,t,r,o,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.ko(e,cf(t,r),o,c,d,a)).catch(c=>{throw c.name==="FirebaseError"?(c.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Le(oe.UNKNOWN,c.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class SR{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(si(t),this.C_=!1):ge("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e,t,r,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=a,this.Q_.uo(c=>{r.enqueueAndForget(async()=>{Bs(this)&&(ge("RemoteStore","Restarting streams for network reachability change."),await async function(f){const m=Ve(f);m.k_.add(4),await yl(m),m.K_.set("Unknown"),m.k_.delete(4),await Gc(m)}(this))})}),this.K_=new SR(r,o)}}async function Gc(n){if(Bs(n))for(const e of n.q_)await e(!0)}async function yl(n){for(const e of n.q_)await e(!1)}function lw(n,e){const t=Ve(n);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),ep(t)?Xf(t):Xo(t).s_()&&Jf(t,e))}function Zf(n,e){const t=Ve(n),r=Xo(t);t.B_.delete(e),r.s_()&&uw(t,e),t.B_.size===0&&(r.s_()?r.a_():Bs(t)&&t.K_.set("Unknown"))}function Jf(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Xo(n).V_(e)}function uw(n,e){n.U_.xe(e),Xo(n).m_(e)}function Xf(n){n.U_=new wk({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.B_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),Xo(n).start(),n.K_.F_()}function ep(n){return Bs(n)&&!Xo(n).i_()&&n.B_.size>0}function Bs(n){return Ve(n).k_.size===0}function cw(n){n.U_=void 0}async function TR(n){n.K_.set("Online")}async function IR(n){n.B_.forEach((e,t)=>{Jf(n,e)})}async function LR(n,e){cw(n),ep(n)?(n.K_.O_(e),Xf(n)):n.K_.set("Unknown")}async function PR(n,e,t){if(n.K_.set("Online"),e instanceof QE&&e.state===2&&e.cause)try{await async function(o,a){const c=a.cause;for(const d of a.targetIds)o.B_.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.B_.delete(d),o.U_.removeTarget(d))}(n,e)}catch(r){ge("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await _c(n,r)}else if(e instanceof tc?n.U_.$e(e):e instanceof KE?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(Ne.min()))try{const r=await sw(n.localStore);t.compareTo(r)>=0&&await function(a,c){const d=a.U_.it(c);return d.targetChanges.forEach((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const _=a.B_.get(m);_&&a.B_.set(m,_.withResumeToken(f.resumeToken,c))}}),d.targetMismatches.forEach((f,m)=>{const _=a.B_.get(f);if(!_)return;a.B_.set(f,_.withResumeToken(zt.EMPTY_BYTE_STRING,_.snapshotVersion)),uw(a,f);const S=new Hi(_.target,f,m,_.sequenceNumber);Jf(a,S)}),a.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(r){ge("RemoteStore","Failed to raise snapshot:",r),await _c(n,r)}}async function _c(n,e,t){if(!Jo(e))throw e;n.k_.add(1),await yl(n),n.K_.set("Offline"),t||(t=()=>sw(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ge("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await Gc(n)})}function hw(n,e){return e().catch(t=>_c(n,t,e))}async function Kc(n){const e=Ve(n),t=ns(e);let r=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;kR(e);)try{const o=await hR(e.localStore,r);if(o===null){e.L_.length===0&&t.a_();break}r=o.batchId,RR(e,o)}catch(o){await _c(e,o)}dw(e)&&fw(e)}function kR(n){return Bs(n)&&n.L_.length<10}function RR(n,e){n.L_.push(e);const t=ns(n);t.s_()&&t.f_&&t.g_(e.mutations)}function dw(n){return Bs(n)&&!ns(n).i_()&&n.L_.length>0}function fw(n){ns(n).start()}async function AR(n){ns(n).w_()}async function xR(n){const e=ns(n);for(const t of n.L_)e.g_(t.mutations)}async function bR(n,e,t){const r=n.L_.shift(),o=Hf.from(r,e,t);await hw(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await Kc(n)}async function MR(n,e){e&&ns(n).f_&&await async function(r,o){if(function(c){return yk(c)&&c!==oe.ABORTED}(o.code)){const a=r.L_.shift();ns(r).__(),await hw(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,o)),await Kc(r)}}(n,e),dw(n)&&fw(n)}async function Dv(n,e){const t=Ve(n);t.asyncQueue.verifyOperationInProgress(),ge("RemoteStore","RemoteStore received new credentials");const r=Bs(t);t.k_.add(3),await yl(t),r&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await Gc(t)}async function OR(n,e){const t=Ve(n);e?(t.k_.delete(2),await Gc(t)):e||(t.k_.add(2),await yl(t),t.K_.set("Unknown"))}function Xo(n){return n.W_||(n.W_=function(t,r,o){const a=Ve(t);return a.b_(),new _R(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{Ro:TR.bind(null,n),mo:IR.bind(null,n),po:LR.bind(null,n),R_:PR.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),ep(n)?Xf(n):n.K_.set("Unknown")):(await n.W_.stop(),cw(n))})),n.W_}function ns(n){return n.G_||(n.G_=function(t,r,o){const a=Ve(t);return a.b_(),new ER(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:AR.bind(null,n),po:MR.bind(null,n),p_:xR.bind(null,n),y_:bR.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await Kc(n)):(await n.G_.stop(),n.L_.length>0&&(ge("RemoteStore",`Stopping write stream with ${n.L_.length} pending writes`),n.L_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e,t,r,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=a,this.deferred=new Qi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,o,a){const c=Date.now()+r,d=new tp(e,t,c,o,a);return d.start(r),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Le(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function np(n,e){if(si("AsyncQueue",`${e}: ${n}`),Jo(n))return new Le(oe.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{static emptySet(e){return new Oo(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Re.comparator(t.key,r.key):(t,r)=>Re.comparator(t.key,r.key),this.keyedMap=$a(),this.sortedSet=new pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Oo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Oo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(){this.z_=new pt(Re.comparator)}track(e){const t=e.doc.key,r=this.z_.get(t);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(t,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(t):e.type===1&&r.type===2?this.z_=this.z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Oe():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class $o{constructor(e,t,r,o,a,c,d,f,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,t,r,o,a){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new $o(e,t,Oo.emptySet(t),c,r,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class NR{constructor(){this.queries=Vv(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,r){const o=Ve(t),a=o.queries;o.queries=Vv(),a.forEach((c,d)=>{for(const f of d.J_)f.onError(r)})})(this,new Le(oe.ABORTED,"Firestore shutting down"))}}function Vv(){return new Fs(n=>OE(n),Bc)}async function VR(n,e){const t=Ve(n);let r=3;const o=e.query;let a=t.queries.get(o);a?!a.Y_()&&e.Z_()&&(r=2):(a=new DR,r=e.Z_()?0:1);try{switch(r){case 0:a.H_=await t.onListen(o,!0);break;case 1:a.H_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const d=np(c,`Initialization of query '${Po(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,a),a.J_.push(e),e.ea(t.onlineState),a.H_&&e.ta(a.H_)&&rp(t)}async function UR(n,e){const t=Ve(n),r=e.query;let o=3;const a=t.queries.get(r);if(a){const c=a.J_.indexOf(e);c>=0&&(a.J_.splice(c,1),a.J_.length===0?o=e.Z_()?0:1:!a.Y_()&&e.Z_()&&(o=2))}switch(o){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function FR(n,e){const t=Ve(n);let r=!1;for(const o of e){const a=o.query,c=t.queries.get(a);if(c){for(const d of c.J_)d.ta(o)&&(r=!0);c.H_=o}}r&&rp(t)}function jR(n,e,t){const r=Ve(n),o=r.queries.get(e);if(o)for(const a of o.J_)a.onError(t);r.queries.delete(e)}function rp(n){n.X_.forEach(e=>{e.next()})}var pf,Uv;(Uv=pf||(pf={})).na="default",Uv.Cache="cache";class BR{constructor(e,t,r){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new $o(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const r=t!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=$o.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==pf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e){this.key=e}}class gw{constructor(e){this.key=e}}class zR{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=We(),this.mutatedKeys=We(),this.Va=DE(e),this.ma=new Oo(this.Va)}get fa(){return this.da}ga(e,t){const r=t?t.pa:new Nv,o=t?t.ma:this.ma;let a=t?t.mutatedKeys:this.mutatedKeys,c=o,d=!1;const f=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,S)=>{const C=o.get(_),k=zc(this.query,S)?S:null,L=!!C&&this.mutatedKeys.has(C.key),D=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let b=!1;C&&k?C.data.isEqual(k.data)?L!==D&&(r.track({type:3,doc:k}),b=!0):this.ya(C,k)||(r.track({type:2,doc:k}),b=!0,(f&&this.Va(k,f)>0||m&&this.Va(k,m)<0)&&(d=!0)):!C&&k?(r.track({type:0,doc:k}),b=!0):C&&!k&&(r.track({type:1,doc:C}),b=!0,(f||m)&&(d=!0)),b&&(k?(c=c.add(k),a=D?a.add(_):a.delete(_)):(c=c.delete(_),a=a.delete(_)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),a=a.delete(_.key),r.track({type:1,doc:_})}return{ma:c,pa:r,ss:d,mutatedKeys:a}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,o){const a=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const c=e.pa.j_();c.sort((_,S)=>function(k,L){const D=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Oe()}};return D(k)-D(L)}(_.type,S.type)||this.Va(_.doc,S.doc)),this.wa(r),o=o!=null&&o;const d=t&&!o?this.Sa():[],f=this.Ra.size===0&&this.current&&!o?1:0,m=f!==this.Aa;return this.Aa=f,c.length!==0||m?{snapshot:new $o(this.query,e.ma,a,c,e.mutatedKeys,f===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:d}:{ba:d}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new Nv,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=We(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const t=[];return e.forEach(r=>{this.Ra.has(r)||t.push(new gw(r))}),this.Ra.forEach(r=>{e.has(r)||t.push(new pw(r))}),t}va(e){this.da=e.ds,this.Ra=We();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return $o.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class $R{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class WR{constructor(e){this.key=e,this.Fa=!1}}class HR{constructor(e,t,r,o,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.Ma={},this.xa=new Fs(d=>OE(d),Bc),this.Oa=new Map,this.Na=new Set,this.La=new pt(Re.comparator),this.Ba=new Map,this.ka=new Kf,this.qa={},this.Qa=new Map,this.Ka=zo.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function qR(n,e,t=!0){const r=ww(n);let o;const a=r.xa.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.Ca()):o=await mw(r,e,t,!0),o}async function GR(n,e){const t=ww(n);await mw(t,e,!0,!1)}async function mw(n,e,t,r){const o=await dR(n.localStore,Ar(e)),a=o.targetId,c=n.sharedClientState.addLocalQueryTarget(a,t);let d;return r&&(d=await KR(n,e,a,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&lw(n.remoteStore,o),d}async function KR(n,e,t,r,o){n.Ua=(S,C,k)=>async function(D,b,B,j){let X=b.view.ga(B);X.ss&&(X=await bv(D.localStore,b.query,!1).then(({documents:R})=>b.view.ga(R,X)));const W=j&&j.targetChanges.get(b.targetId),q=j&&j.targetMismatches.get(b.targetId)!=null,Q=b.view.applyChanges(X,D.isPrimaryClient,W,q);return jv(D,b.targetId,Q.ba),Q.snapshot}(n,S,C,k);const a=await bv(n.localStore,e,!0),c=new zR(e,a.ds),d=c.ga(a.documents),f=vl.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",o),m=c.applyChanges(d,n.isPrimaryClient,f);jv(n,t,m.ba);const _=new $R(e,t,c);return n.xa.set(e,_),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),m.snapshot}async function QR(n,e,t){const r=Ve(n),o=r.xa.get(e),a=r.Oa.get(o.targetId);if(a.length>1)return r.Oa.set(o.targetId,a.filter(c=>!Bc(c,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await ff(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),t&&Zf(r.remoteStore,o.targetId),gf(r,o.targetId)}).catch(Zo)):(gf(r,o.targetId),await ff(r.localStore,o.targetId,!0))}async function YR(n,e){const t=Ve(n),r=t.xa.get(e),o=t.Oa.get(r.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Zf(t.remoteStore,r.targetId))}async function ZR(n,e,t){const r=iA(n);try{const o=await function(c,d){const f=Ve(c),m=Lt.now(),_=d.reduce((k,L)=>k.add(L.key),We());let S,C;return f.persistence.runTransaction("Locally write mutations","readwrite",k=>{let L=oi(),D=We();return f.hs.getEntries(k,_).next(b=>{L=b,L.forEach((B,j)=>{j.isValidDocument()||(D=D.add(B))})}).next(()=>f.localDocuments.getOverlayedDocuments(k,L)).next(b=>{S=b;const B=[];for(const j of d){const X=fk(j,S.get(j.key).overlayedDocument);X!=null&&B.push(new js(j.key,X,LE(X.value.mapValue),ti.exists(!0)))}return f.mutationQueue.addMutationBatch(k,m,B,d)}).next(b=>{C=b;const B=b.applyToLocalDocumentSet(S,D);return f.documentOverlayCache.saveOverlays(k,b.batchId,B)})}).then(()=>({batchId:C.batchId,changes:VE(S)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(c,d,f){let m=c.qa[c.currentUser.toKey()];m||(m=new pt(Ge)),m=m.insert(d,f),c.qa[c.currentUser.toKey()]=m}(r,o.batchId,t),await _l(r,o.changes),await Kc(r.remoteStore)}catch(o){const a=np(o,"Failed to persist write");t.reject(a)}}async function vw(n,e){const t=Ve(n);try{const r=await uR(t.localStore,e);e.targetChanges.forEach((o,a)=>{const c=t.Ba.get(a);c&&(Xe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.Fa=!0:o.modifiedDocuments.size>0?Xe(c.Fa):o.removedDocuments.size>0&&(Xe(c.Fa),c.Fa=!1))}),await _l(t,r,e)}catch(r){await Zo(r)}}function Fv(n,e,t){const r=Ve(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const o=[];r.xa.forEach((a,c)=>{const d=c.view.ea(e);d.snapshot&&o.push(d.snapshot)}),function(c,d){const f=Ve(c);f.onlineState=d;let m=!1;f.queries.forEach((_,S)=>{for(const C of S.J_)C.ea(d)&&(m=!0)}),m&&rp(f)}(r.eventManager,e),o.length&&r.Ma.R_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function JR(n,e,t){const r=Ve(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Ba.get(e),a=o&&o.key;if(a){let c=new pt(Re.comparator);c=c.insert(a,Qt.newNoDocument(a,Ne.min()));const d=We().add(a),f=new Hc(Ne.min(),new Map,new pt(Ge),c,d);await vw(r,f),r.La=r.La.remove(a),r.Ba.delete(e),ip(r)}else await ff(r.localStore,e,!1).then(()=>gf(r,e,t)).catch(Zo)}async function XR(n,e){const t=Ve(n),r=e.batch.batchId;try{const o=await lR(t.localStore,e);_w(t,r,null),yw(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await _l(t,o)}catch(o){await Zo(o)}}async function eA(n,e,t){const r=Ve(n);try{const o=await function(c,d){const f=Ve(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let _;return f.mutationQueue.lookupMutationBatch(m,d).next(S=>(Xe(S!==null),_=S.keys(),f.mutationQueue.removeMutationBatch(m,S))).next(()=>f.mutationQueue.performConsistencyCheck(m)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(m,_,d)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,_)).next(()=>f.localDocuments.getDocuments(m,_))})}(r.localStore,e);_w(r,e,t),yw(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await _l(r,o)}catch(o){await Zo(o)}}function yw(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function _w(n,e,t){const r=Ve(n);let o=r.qa[r.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),r.qa[r.currentUser.toKey()]=o}}function gf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Oa.get(e))n.xa.delete(r),t&&n.Ma.Wa(r,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(r=>{n.ka.containsKey(r)||Ew(n,r)})}function Ew(n,e){n.Na.delete(e.path.canonicalString());const t=n.La.get(e);t!==null&&(Zf(n.remoteStore,t),n.La=n.La.remove(e),n.Ba.delete(t),ip(n))}function jv(n,e,t){for(const r of t)r instanceof pw?(n.ka.addReference(r.key,e),tA(n,r)):r instanceof gw?(ge("SyncEngine","Document no longer in limbo: "+r.key),n.ka.removeReference(r.key,e),n.ka.containsKey(r.key)||Ew(n,r.key)):Oe()}function tA(n,e){const t=e.key,r=t.path.canonicalString();n.La.get(t)||n.Na.has(r)||(ge("SyncEngine","New document in limbo: "+t),n.Na.add(r),ip(n))}function ip(n){for(;n.Na.size>0&&n.La.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new Re(ct.fromString(e)),r=n.Ka.next();n.Ba.set(r,new WR(t)),n.La=n.La.insert(t,r),lw(n.remoteStore,new Hi(Ar(ME(t.path)),r,"TargetPurposeLimboResolution",Vc.oe))}}async function _l(n,e,t){const r=Ve(n),o=[],a=[],c=[];r.xa.isEmpty()||(r.xa.forEach((d,f)=>{c.push(r.Ua(f,e,t).then(m=>{var _;if((m||t)&&r.isPrimaryClient){const S=m?!m.fromCache:(_=t==null?void 0:t.targetChanges.get(f.targetId))===null||_===void 0?void 0:_.current;r.sharedClientState.updateQueryState(f.targetId,S?"current":"not-current")}if(m){o.push(m);const S=Yf.zi(f.targetId,m);a.push(S)}}))}),await Promise.all(c),r.Ma.R_(o),await async function(f,m){const _=Ve(f);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>te.forEach(m,C=>te.forEach(C.Wi,k=>_.persistence.referenceDelegate.addReference(S,C.targetId,k)).next(()=>te.forEach(C.Gi,k=>_.persistence.referenceDelegate.removeReference(S,C.targetId,k)))))}catch(S){if(!Jo(S))throw S;ge("LocalStore","Failed to update sequence numbers: "+S)}for(const S of m){const C=S.targetId;if(!S.fromCache){const k=_.us.get(C),L=k.snapshotVersion,D=k.withLastLimboFreeSnapshotVersion(L);_.us=_.us.insert(C,D)}}}(r.localStore,a))}async function nA(n,e){const t=Ve(n);if(!t.currentUser.isEqual(e)){ge("SyncEngine","User change. New user:",e.toKey());const r=await iw(t.localStore,e);t.currentUser=e,function(a,c){a.Qa.forEach(d=>{d.forEach(f=>{f.reject(new Le(oe.CANCELLED,c))})}),a.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await _l(t,r.Ts)}}function rA(n,e){const t=Ve(n),r=t.Ba.get(e);if(r&&r.Fa)return We().add(r.key);{let o=We();const a=t.Oa.get(e);if(!a)return o;for(const c of a){const d=t.xa.get(c);o=o.unionWith(d.view.fa)}return o}}function ww(n){const e=Ve(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=vw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=JR.bind(null,e),e.Ma.R_=FR.bind(null,e.eventManager),e.Ma.Wa=jR.bind(null,e.eventManager),e}function iA(n){const e=Ve(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=XR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=eA.bind(null,e),e}class Ec{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=qc(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return aR(this.persistence,new sR,e.initialUser,this.serializer)}ja(e){return new rw(Qf.ei,this.serializer)}za(e){return new pR}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ec.provider={build:()=>new Ec};class sA extends Ec{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){Xe(this.persistence.referenceDelegate instanceof yc);const r=this.persistence.referenceDelegate.garbageCollector;return new Wk(r,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new rw(r=>yc.ei(r,t),this.serializer)}}class mf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Fv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=nA.bind(null,this.syncEngine),await OR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new NR}()}createDatastore(e){const t=qc(e.databaseInfo.databaseId),r=function(a){return new yR(a)}(e.databaseInfo);return function(a,c,d,f){return new wR(a,c,d,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,o,a,c,d){return new CR(r,o,a,c,d)}(this.localStore,this.datastore,e.asyncQueue,t=>Fv(this.syncEngine,t,0),function(){return Ov.p()?new Ov:new gR}())}createSyncEngine(e,t){return function(o,a,c,d,f,m,_){const S=new HR(o,a,c,d,f,m);return _&&(S.$a=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const a=Ve(o);ge("RemoteStore","RemoteStore shutting down."),a.k_.add(5),await yl(a),a.Q_.shutdown(),a.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}mf.provider={build:()=>new mf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):si("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e,t,r,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=Kt.UNAUTHENTICATED,this.clientId=CE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async c=>{ge("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(r,c=>(ge("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=np(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function jd(n,e){n.asyncQueue.verifyOperationInProgress(),ge("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async o=>{r.isEqual(o)||(await iw(e.localStore,o),r=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Bv(n,e){n.asyncQueue.verifyOperationInProgress();const t=await lA(n);ge("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>Dv(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>Dv(e.remoteStore,o)),n._onlineComponents=e}async function lA(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ge("FirestoreClient","Using user provided OfflineComponentProvider");try{await jd(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===oe.FAILED_PRECONDITION||o.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Uo("Error using user provided cache. Falling back to memory cache: "+t),await jd(n,new Ec)}}else ge("FirestoreClient","Using default OfflineComponentProvider"),await jd(n,new sA(void 0));return n._offlineComponents}async function Sw(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ge("FirestoreClient","Using user provided OnlineComponentProvider"),await Bv(n,n._uninitializedComponentsProvider._online)):(ge("FirestoreClient","Using default OnlineComponentProvider"),await Bv(n,new mf))),n._onlineComponents}function uA(n){return Sw(n).then(e=>e.syncEngine)}async function cA(n){const e=await Sw(n),t=e.eventManager;return t.onListen=qR.bind(null,e.syncEngine),t.onUnlisten=QR.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=GR.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=YR.bind(null,e.syncEngine),t}function hA(n,e,t={}){const r=new Qi;return n.asyncQueue.enqueueAndForget(async()=>function(a,c,d,f,m){const _=new oA({next:C=>{_.eu(),c.enqueueAndForget(()=>UR(a,S)),C.fromCache&&f.source==="server"?m.reject(new Le(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(C)},error:C=>m.reject(C)}),S=new BR(d,_,{includeMetadataChanges:!0,ua:!0});return VR(a,S)}(await cA(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cw(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tw(n,e,t){if(!t)throw new Le(oe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function dA(n,e,t,r){if(e===!0&&r===!0)throw new Le(oe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function $v(n){if(!Re.isDocumentKey(n))throw new Le(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Wv(n){if(Re.isDocumentKey(n))throw new Le(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function sp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Oe()}function wc(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Le(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=sp(n);throw new Le(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Le(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Le(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}dA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Cw((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Le(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Le(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Le(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qc{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Hv({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Le(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Le(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Hv(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new _P;switch(r.type){case"firstParty":return new CP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Le(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=zv.get(t);r&&(ge("ComponentProvider","Removing Datastore"),zv.delete(t),r.terminate())}(this),Promise.resolve()}}function fA(n,e,t,r={}){var o;const a=(n=wc(n,Qc))._getSettings(),c=`${e}:${t}`;if(a.host!=="firestore.googleapis.com"&&a.host!==c&&Uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:c,ssl:!1})),r.mockUserToken){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=Kt.MOCK_USER;else{d=YT(r.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new Le(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Kt(m)}n._authCredentials=new EP(new SE(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Yc(this.firestore,e,this._query)}}class ar{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ar(this.firestore,e,this._key)}}class Yi extends Yc{constructor(e,t,r){super(e,t,ME(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ar(this.firestore,null,new Re(e))}withConverter(e){return new Yi(this.firestore,e,this._path)}}function Iw(n,e,...t){if(n=lr(n),Tw("collection","path",e),n instanceof Qc){const r=ct.fromString(e,...t);return Wv(r),new Yi(n,null,r)}{if(!(n instanceof ar||n instanceof Yi))throw new Le(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ct.fromString(e,...t));return Wv(r),new Yi(n.firestore,null,r)}}function pA(n,e,...t){if(n=lr(n),arguments.length===1&&(e=CE.newId()),Tw("doc","path",e),n instanceof Qc){const r=ct.fromString(e,...t);return $v(r),new ar(n,null,new Re(r))}{if(!(n instanceof ar||n instanceof Yi))throw new Le(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ct.fromString(e,...t));return $v(r),new ar(n.firestore,n instanceof Yi?n.converter:null,new Re(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new ow(this,"async_queue_retry"),this.fu=()=>{const r=Fd();r&&ge("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const t=Fd();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=Fd();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new Qi;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Jo(e))throw e;ge("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const o=function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d}(r);throw si("INTERNAL UNHANDLED ERROR: ",o),r}).then(r=>(this.Ru=!1,r))));return this.gu=t,t}enqueueAfterDelay(e,t,r){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const o=tp.createAndSchedule(this,e,t,r,a=>this.Su(a));return this.du.push(o),o}pu(){this.Au&&Oe()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}class op extends Qc{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new qv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new qv(e),this._firestoreClient=void 0,await e}}}function gA(n,e){const t=typeof n=="object"?n:D_(),r=typeof n=="string"?n:"(default)",o=kf(t,"firestore").getImmediate({identifier:r});if(!o._initialized){const a=KT("firestore");a&&fA(o,...a)}return o}function Lw(n){if(n._terminated)throw new Le(oe.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||mA(n),n._firestoreClient}function mA(n){var e,t,r;const o=n._freezeSettings(),a=function(d,f,m,_){return new UP(d,f,m,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,Cw(_.experimentalLongPollingOptions),_.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new aA(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(d){const f=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wo(zt.fromBase64String(e))}catch(t){throw new Le(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Wo(zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Le(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Le(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Le(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,o){if(r.length!==o.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==o[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA=/^__.*__$/;class yA{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new js(e,this.data,this.fieldMask,t,this.fieldTransforms):new ml(e,this.data,t,this.fieldTransforms)}}function kw(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Oe()}}class cp{constructor(e,t,r,o,a,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,a===void 0&&this.Fu(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new cp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:r,Nu:!1});return o.Lu(e),o}Bu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:r,Nu:!1});return o.Fu(),o}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Sc(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(kw(this.Mu)&&vA.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class _A{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||qc(e)}$u(e,t,r,o=!1){return new cp({Mu:e,methodName:t,Ku:r,path:Bt.emptyPath(),Nu:!1,Qu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function EA(n){const e=n._freezeSettings(),t=qc(n._databaseId);return new _A(n._databaseId,!!e.ignoreUndefinedProperties,t)}function wA(n,e,t,r,o,a={}){const c=n.$u(a.merge||a.mergeFields?2:0,e,t,o);bw("Data must be an object, but it was:",c,r);const d=Aw(r,c);let f,m;if(a.merge)f=new or(c.fieldMask),m=c.fieldTransforms;else if(a.mergeFields){const _=[];for(const S of a.mergeFields){const C=SA(e,S,t);if(!c.contains(C))throw new Le(oe.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);TA(_,C)||_.push(C)}f=new or(_),m=c.fieldTransforms.filter(S=>f.covers(S.field))}else f=null,m=c.fieldTransforms;return new yA(new Fn(d),f,m)}function Rw(n,e){if(xw(n=lr(n)))return bw("Unsupported field value:",e,n),Aw(n,e);if(n instanceof Pw)return function(r,o){if(!kw(o.Mu))throw o.qu(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,o){const a=[];let c=0;for(const d of r){let f=Rw(d,o.ku(c));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),c++}return{arrayValue:{values:a}}}(n,e)}return function(r,o){if((r=lr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return ak(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Lt.fromDate(r);return{timestampValue:vc(o.serializer,a)}}if(r instanceof Lt){const a=new Lt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:vc(o.serializer,a)}}if(r instanceof lp)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Wo)return{bytesValue:YE(o.serializer,r._byteString)};if(r instanceof ar){const a=o.databaseId,c=r.firestore._databaseId;if(!c.isEqual(a))throw o.qu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Gf(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof up)return function(c,d){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map(f=>{if(typeof f!="number")throw d.qu("VectorValues must only contain numeric values.");return Wf(d.serializer,f)})}}}}}}(r,o);throw o.qu(`Unsupported field value: ${sp(r)}`)}(n,e)}function Aw(n,e){const t={};return TE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Us(n,(r,o)=>{const a=Rw(o,e.Ou(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function xw(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Lt||n instanceof lp||n instanceof Wo||n instanceof ar||n instanceof Pw||n instanceof up)}function bw(n,e,t){if(!xw(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const r=sp(t);throw r==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+r)}}function SA(n,e,t){if((e=lr(e))instanceof ap)return e._internalPath;if(typeof e=="string")return Mw(n,e);throw Sc("Field path arguments must be of type string or ",n,!1,void 0,t)}const CA=new RegExp("[~\\*/\\[\\]]");function Mw(n,e,t){if(e.search(CA)>=0)throw Sc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ap(...e.split("."))._internalPath}catch{throw Sc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Sc(n,e,t,r,o){const a=r&&!r.isEmpty(),c=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(a||c)&&(f+=" (found",a&&(f+=` in field ${r}`),c&&(f+=` in document ${o}`),f+=")"),new Le(oe.INVALID_ARGUMENT,d+n+f)}function TA(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(e,t,r,o,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new ar(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new IA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Dw("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class IA extends Ow{data(){return super.data()}}function Dw(n,e){return typeof e=="string"?Mw(n,e):e instanceof ap?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Le(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class PA{convertValue(e,t="none"){switch(ts(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(es(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Oe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Us(e,(o,a)=>{r[o]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,o;const a=(o=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map(c=>yt(c.doubleValue));return new up(a)}convertGeoPoint(e){return new lp(yt(e.latitude),yt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Fc(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(tl(e));default:return null}}convertTimestamp(e){const t=Xi(e);return new Lt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ct.fromString(e);Xe(nw(r));const o=new nl(r.get(1),r.get(3)),a=new Re(r.popFirst(5));return o.isEqual(t)||si(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kA(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class RA extends Ow{constructor(e,t,r,o,a,c){super(e,t,r,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new nc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Dw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class nc extends RA{data(e={}){return super.data(e)}}class AA{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new zu(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new nc(this._firestore,this._userDataWriter,r.key,r,new zu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Le(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(d=>{const f=new nc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new zu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>a||d.type!==3).map(d=>{const f=new nc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new zu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,_=-1;return d.type!==0&&(m=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),_=c.indexOf(d.doc.key)),{type:xA(d.type),doc:f,oldIndex:m,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function xA(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Oe()}}class bA extends PA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ar(this.firestore,null,t)}}function MA(n){n=wc(n,Yc);const e=wc(n.firestore,op),t=Lw(e),r=new bA(e);return LA(n._query),hA(t,n._query).then(o=>new AA(e,r,n,o))}function OA(n,e){const t=wc(n.firestore,op),r=pA(n),o=kA(n.converter,e);return DA(t,[wA(EA(n.firestore),"addDoc",r._key,o,n.converter!==null,{}).toMutation(r._key,ti.exists(!1))]).then(()=>r)}function DA(n,e){return function(r,o){const a=new Qi;return r.asyncQueue.enqueueAndForget(async()=>ZR(await uA(r),o,a)),a.promise}(Lw(n),e)}(function(e,t=!0){(function(o){Yo=o})(Ko),No(new Os("firestore",(r,{instanceIdentifier:o,options:a})=>{const c=r.getProvider("app").getImmediate(),d=new op(new wP(r.getProvider("auth-internal")),new IP(r.getProvider("app-check-internal")),function(m,_){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Le(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nl(m.options.projectId,_)}(c,o),c);return a=Object.assign({useFetchStreams:t},a),d._setSettings(a),d},"PUBLIC").setMultipleInstances(!0)),Ki(uv,"4.7.5",e),Ki(uv,"4.7.5","esm2017")})();const NA={apiKey:"YOUR_API_KEY",authDomain:"YOUR_AUTH_DOMAIN",projectId:"YOUR_PROJECT_ID",storageBucket:"YOUR_STORAGE_BUCKET",messagingSenderId:"YOUR_MESSAGING_SENDER_ID",appId:"YOUR_APP_ID"},Nw=O_(NA);gP(Nw);const Vw=gA(Nw);function VA(){const[n,e]=y.useState({email:"",password:""}),t=c=>{const{name:d,value:f}=c.target;e({...n,[d]:f})},r=ul(),o=()=>{r("/home")},a=c=>{c.preventDefault(),console.log("Login Data:",n)};return le.jsx("div",{className:"flex items-center justify-center min-h-screen bg-blue-50",children:le.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg w-full max-w-md",children:[le.jsx("h2",{className:"text-blue-600 text-2xl font-bold mb-4 text-center",children:"Login"}),le.jsxs("form",{onSubmit:a,className:"space-y-4",children:[le.jsx("input",{type:"email",name:"email",placeholder:"Email",value:n.email,onChange:t,className:"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400"}),le.jsx("input",{type:"password",name:"password",placeholder:"Password",value:n.password,onChange:t,className:"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400"}),le.jsx("button",{onClick:o,type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 p-3 rounded-lg text-white font-semibold",children:"Login"})]}),le.jsx("div",{className:"text-center mt-4",children:le.jsxs("p",{className:"text-gray-600",children:["Dont have an account?"," ",le.jsx("a",{href:"/register",className:"text-blue-600 hover:underline",children:"Register"})]})})]})})}function UA(){const[n,e]=y.useState({name:"",email:"",password:""}),t=o=>{const{name:a,value:c}=o.target;e({...n,[a]:c})},r=o=>{o.preventDefault(),console.log("Registration Data:",n)};return le.jsx("div",{className:"flex items-center justify-center min-h-screen bg-secondary text-white",children:le.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg w-full max-w-md",children:[le.jsx("h2",{className:"text-primary text-2xl font-bold mb-4 text-center",children:"Register"}),le.jsxs("form",{onSubmit:r,className:"space-y-4",children:[le.jsx("input",{type:"text",name:"name",placeholder:"Name",value:n.name,onChange:t,className:"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"}),le.jsx("input",{type:"email",name:"email",placeholder:"Email",value:n.email,onChange:t,className:"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"}),le.jsx("input",{type:"password",name:"password",placeholder:"Password",value:n.password,onChange:t,className:"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"}),le.jsx("button",{type:"submit",className:"w-full bg-primary p-3 rounded-lg text-white font-semibold",children:"Register"})]})]})})}function ol(n){"@babel/helpers - typeof";return ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ol(n)}function FA(n,e){if(ol(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(ol(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function jA(n){var e=FA(n,"string");return ol(e)=="symbol"?e:e+""}function J(n,e,t){return(e=jA(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Uw(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Bd,Gv;function BA(){if(Gv)return Bd;Gv=1;var n=function(t,r,o,a,c,d,f,m){if(!t){var _;if(r===void 0)_=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var S=[o,a,c,d,f,m],C=0;_=new Error(r.replace(/%s/g,function(){return S[C++]})),_.name="Invariant Violation"}throw _.framesToPop=1,_}};return Bd=n,Bd}var zA=BA(),kt=Uw(zA),Fe=y.createContext(null);function $A(){kt(!!y.useContext,"useGoogleMap is React hook and requires React version 16.8+");var n=y.useContext(Fe);return kt(!!n,"useGoogleMap needs a GoogleMap available up in the tree"),n}function WA(n,e,t){return Object.keys(n).reduce(function(o,a){return e(o,n[a],a)},t)}function HA(n,e){Object.keys(n).forEach(t=>e(n[t],t))}function qA(n,e,t,r){var o={},a=(c,d)=>{var f=t[d];f!==e[d]&&(o[d]=f,c(r,f))};return HA(n,a),o}function GA(n,e,t){var r=WA(t,function(a,c,d){return typeof n[d]=="function"&&a.push(google.maps.event.addListener(e,c,n[d])),a},[]);return r}function KA(n){google.maps.event.removeListener(n)}function ze(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];n.forEach(KA)}function Be(n){var{updaterMap:e,eventMap:t,prevProps:r,nextProps:o,instance:a}=n,c=GA(o,a,t);return qA(e,r,o,a),c}var Kv={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},Qv={extraMapTypes(n,e){e.forEach(function(r,o){n.mapTypes.set(String(o),r)})},center(n,e){n.setCenter(e)},clickableIcons(n,e){n.setClickableIcons(e)},heading(n,e){n.setHeading(e)},mapTypeId(n,e){n.setMapTypeId(e)},options(n,e){n.setOptions(e)},streetView(n,e){n.setStreetView(e)},tilt(n,e){n.setTilt(e)},zoom(n,e){n.setZoom(e)}};function QA(n){var{children:e,options:t,id:r,mapContainerStyle:o,mapContainerClassName:a,center:c,onClick:d,onDblClick:f,onDrag:m,onDragEnd:_,onDragStart:S,onMouseMove:C,onMouseOut:k,onMouseOver:L,onMouseDown:D,onMouseUp:b,onRightClick:B,onCenterChanged:j,onLoad:X,onUnmount:W}=n,[q,Q]=y.useState(null),R=y.useRef(null),[P,T]=y.useState(null),[x,O]=y.useState(null),[N,A]=y.useState(null),[ye,Se]=y.useState(null),[Ae,Te]=y.useState(null),[ee,ce]=y.useState(null),[re,U]=y.useState(null),[Y,ne]=y.useState(null),[pe,G]=y.useState(null),[Ce,Ie]=y.useState(null),[de,be]=y.useState(null),[me,Ue]=y.useState(null);return y.useEffect(()=>{t&&q!==null&&q.setOptions(t)},[q,t]),y.useEffect(()=>{q!==null&&typeof c<"u"&&q.setCenter(c)},[q,c]),y.useEffect(()=>{q&&f&&(x!==null&&google.maps.event.removeListener(x),O(google.maps.event.addListener(q,"dblclick",f)))},[f]),y.useEffect(()=>{q&&_&&(N!==null&&google.maps.event.removeListener(N),A(google.maps.event.addListener(q,"dragend",_)))},[_]),y.useEffect(()=>{q&&S&&(ye!==null&&google.maps.event.removeListener(ye),Se(google.maps.event.addListener(q,"dragstart",S)))},[S]),y.useEffect(()=>{q&&D&&(Ae!==null&&google.maps.event.removeListener(Ae),Te(google.maps.event.addListener(q,"mousedown",D)))},[D]),y.useEffect(()=>{q&&C&&(ee!==null&&google.maps.event.removeListener(ee),ce(google.maps.event.addListener(q,"mousemove",C)))},[C]),y.useEffect(()=>{q&&k&&(re!==null&&google.maps.event.removeListener(re),U(google.maps.event.addListener(q,"mouseout",k)))},[k]),y.useEffect(()=>{q&&L&&(Y!==null&&google.maps.event.removeListener(Y),ne(google.maps.event.addListener(q,"mouseover",L)))},[L]),y.useEffect(()=>{q&&b&&(pe!==null&&google.maps.event.removeListener(pe),G(google.maps.event.addListener(q,"mouseup",b)))},[b]),y.useEffect(()=>{q&&B&&(Ce!==null&&google.maps.event.removeListener(Ce),Ie(google.maps.event.addListener(q,"rightclick",B)))},[B]),y.useEffect(()=>{q&&d&&(de!==null&&google.maps.event.removeListener(de),be(google.maps.event.addListener(q,"click",d)))},[d]),y.useEffect(()=>{q&&m&&(me!==null&&google.maps.event.removeListener(me),Ue(google.maps.event.addListener(q,"drag",m)))},[m]),y.useEffect(()=>{q&&j&&(P!==null&&google.maps.event.removeListener(P),T(google.maps.event.addListener(q,"center_changed",j)))},[d]),y.useEffect(()=>{var Rt=R.current===null?null:new google.maps.Map(R.current,t);return Q(Rt),Rt!==null&&X&&X(Rt),()=>{Rt!==null&&W&&W(Rt)}},[]),le.jsx("div",{id:r,ref:R,style:o,className:a,children:le.jsx(Fe.Provider,{value:q,children:q!==null?e:null})})}y.memo(QA);class YA extends y.PureComponent{constructor(){super(...arguments),J(this,"state",{map:null}),J(this,"registeredEvents",[]),J(this,"mapRef",null),J(this,"getInstance",()=>this.mapRef===null?null:new google.maps.Map(this.mapRef,this.props.options)),J(this,"panTo",e=>{var t=this.getInstance();t&&t.panTo(e)}),J(this,"setMapCallback",()=>{this.state.map!==null&&this.props.onLoad&&this.props.onLoad(this.state.map)}),J(this,"getRef",e=>{this.mapRef=e})}componentDidMount(){var e=this.getInstance();this.registeredEvents=Be({updaterMap:Qv,eventMap:Kv,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{map:e}},this.setMapCallback)}componentDidUpdate(e){this.state.map!==null&&(ze(this.registeredEvents),this.registeredEvents=Be({updaterMap:Qv,eventMap:Kv,prevProps:e,nextProps:this.props,instance:this.state.map}))}componentWillUnmount(){this.state.map!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),ze(this.registeredEvents))}render(){return le.jsx("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:le.jsx(Fe.Provider,{value:this.state.map,children:this.state.map!==null?this.props.children:null})})}}function Yv(n,e,t,r,o,a,c){try{var d=n[a](c),f=d.value}catch(m){return void t(m)}d.done?e(f):Promise.resolve(f).then(r,o)}function Fw(n){return function(){var e=this,t=arguments;return new Promise(function(r,o){var a=n.apply(e,t);function c(f){Yv(a,r,o,c,d,"next",f)}function d(f){Yv(a,r,o,c,d,"throw",f)}c(void 0)})}}function jw(n){var{googleMapsApiKey:e,googleMapsClientId:t,version:r="weekly",language:o,region:a,libraries:c,channel:d,mapIds:f,authReferrerPolicy:m}=n,_=[];return kt(e&&t||!(e&&t),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),e?_.push("key=".concat(e)):t&&_.push("client=".concat(t)),r&&_.push("v=".concat(r)),o&&_.push("language=".concat(o)),a&&_.push("region=".concat(a)),c&&c.length&&_.push("libraries=".concat(c.sort().join(","))),d&&_.push("channel=".concat(d)),f&&f.length&&_.push("map_ids=".concat(f.join(","))),m&&_.push("auth_referrer_policy=".concat(m)),_.push("loading=async"),_.push("callback=initMap"),"https://maps.googleapis.com/maps/api/js?".concat(_.join("&"))}var xs=typeof document<"u";function Bw(n){var{url:e,id:t,nonce:r}=n;return xs?new Promise(function(a,c){var d=document.getElementById(t),f=window;if(d){var m=d.getAttribute("data-state");if(d.src===e&&m!=="error"){if(m==="ready")return a(t);var _=f.initMap,S=d.onerror;f.initMap=function(){_&&_(),a(t)},d.onerror=function(k){S&&S(k),c(k)};return}else d.remove()}var C=document.createElement("script");C.type="text/javascript",C.src=e,C.id=t,C.async=!0,C.nonce=r||"",C.onerror=function(L){C.setAttribute("data-state","error"),c(L)},f.initMap=function(){C.setAttribute("data-state","ready"),a(t)},document.head.appendChild(C)}).catch(o=>{throw console.error("injectScript error: ",o),o}):Promise.reject(new Error("document is undefined"))}function Zv(n){var e=n.href;return e&&(e.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||e.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:n.tagName.toLowerCase()==="style"&&n.styleSheet&&n.styleSheet.cssText&&n.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(n.styleSheet.cssText="",!0):n.tagName.toLowerCase()==="style"&&n.innerHTML&&n.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(n.innerHTML="",!0):n.tagName.toLowerCase()==="style"&&!n.styleSheet&&!n.innerHTML}function zw(){var n=document.getElementsByTagName("head")[0];if(n){var e=n.insertBefore.bind(n);n.insertBefore=function(o,a){return Zv(o)||Reflect.apply(e,n,[o,a]),o};var t=n.appendChild.bind(n);n.appendChild=function(o){return Zv(o)||Reflect.apply(t,n,[o]),o}}}var Fa=!1;function $w(){return le.jsx("div",{children:"Loading..."})}var vf={id:"script-loader",version:"weekly"};class Ww extends y.PureComponent{constructor(){super(...arguments),J(this,"check",y.createRef()),J(this,"state",{loaded:!1}),J(this,"cleanupCallback",()=>{delete window.google.maps,this.injectScript()}),J(this,"isCleaningUp",Fw(function*(){function e(t){if(!Fa)t();else if(xs)var r=window.setInterval(function(){Fa||(window.clearInterval(r),t())},1)}return new Promise(e)})),J(this,"cleanup",()=>{Fa=!0;var e=document.getElementById(this.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(r){return typeof r.src=="string"&&r.src.includes("maps.googleapis")}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(r){return r.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(r){return r.innerText!==void 0&&r.innerText.length>0&&r.innerText.includes(".gm-")}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)})}),J(this,"injectScript",()=>{this.props.preventGoogleFontsLoading&&zw(),kt(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id);var e={id:this.props.id,nonce:this.props.nonce,url:jw(this.props)};Bw(e).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(t=>{this.props.onError&&this.props.onError(t),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})})}componentDidMount(){if(xs){if(window.google&&window.google.maps&&!Fa){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(t){console.error("Error at injecting script after cleaning up: ",t)})}}componentDidUpdate(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),xs&&e.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(xs){this.cleanup();var e=()=>{this.check.current||(delete window.google,Fa=!1)};window.setTimeout(e,1),this.props.onUnmount&&this.props.onUnmount()}}render(){return le.jsxs(le.Fragment,{children:[le.jsx("div",{ref:this.check}),this.state.loaded?this.props.children:this.props.loadingElement||le.jsx($w,{})]})}}J(Ww,"defaultProps",vf);function ZA(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.includes(r))continue;t[r]=n[r]}return t}function hp(n,e){if(n==null)return{};var t,r,o=ZA(n,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)t=a[r],e.includes(t)||{}.propertyIsEnumerable.call(n,t)&&(o[t]=n[t])}return o}var Jv;function JA(n){var{id:e=vf.id,version:t=vf.version,nonce:r,googleMapsApiKey:o,googleMapsClientId:a,language:c,region:d,libraries:f,preventGoogleFontsLoading:m,channel:_,mapIds:S,authReferrerPolicy:C}=n,k=y.useRef(!1),[L,D]=y.useState(!1),[b,B]=y.useState(void 0);y.useEffect(function(){return k.current=!0,()=>{k.current=!1}},[]),y.useEffect(function(){xs&&m&&zw()},[m]),y.useEffect(function(){L&&kt(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[L]);var j=jw({version:t,googleMapsApiKey:o,googleMapsClientId:a,language:c,region:d,libraries:f,channel:_,mapIds:S,authReferrerPolicy:C});y.useEffect(function(){if(!xs)return;function q(){k.current&&(D(!0),Jv=j)}if(window.google&&window.google.maps&&Jv===j){q();return}Bw({id:e,url:j,nonce:r}).then(q).catch(function(R){k.current&&B(R),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(o||"-",") or Client ID (").concat(a||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(R)})},[e,j,r]);var X=y.useRef();return y.useEffect(function(){X.current&&f!==X.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),X.current=f},[f]),{isLoaded:L,loadError:b,url:j}}var XA=["loadingElement","onLoad","onError","onUnmount","children"],ex=le.jsx($w,{});function tx(n){var{loadingElement:e,onLoad:t,onError:r,onUnmount:o,children:a}=n,c=hp(n,XA),{isLoaded:d,loadError:f}=JA(c);return y.useEffect(function(){d&&typeof t=="function"&&t()},[d,t]),y.useEffect(function(){f&&typeof r=="function"&&r(f)},[f,r]),y.useEffect(function(){return()=>{o&&o()}},[o]),d?a:e||ex}y.memo(tx);var Xv;(function(n){n[n.INITIALIZED=0]="INITIALIZED",n[n.LOADING=1]="LOADING",n[n.SUCCESS=2]="SUCCESS",n[n.FAILURE=3]="FAILURE"})(Xv||(Xv={}));function ey(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function Cc(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ey(Object(t),!0).forEach(function(r){J(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ey(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var ty={},ny={options(n,e){n.setOptions(e)}};function nx(n){var{options:e,onLoad:t,onUnmount:r}=n,o=y.useContext(Fe),[a,c]=y.useState(null);return y.useEffect(()=>{a!==null&&a.setMap(o)},[o]),y.useEffect(()=>{e&&a!==null&&a.setOptions(e)},[a,e]),y.useEffect(()=>{var d=new google.maps.TrafficLayer(Cc(Cc({},e),{},{map:o}));return c(d),t&&t(d),()=>{a!==null&&(r&&r(a),a.setMap(null))}},[]),null}y.memo(nx);class rx extends y.PureComponent{constructor(){super(...arguments),J(this,"state",{trafficLayer:null}),J(this,"setTrafficLayerCallback",()=>{this.state.trafficLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)}),J(this,"registeredEvents",[])}componentDidMount(){var e=new google.maps.TrafficLayer(Cc(Cc({},this.props.options),{},{map:this.context}));this.registeredEvents=Be({updaterMap:ny,eventMap:ty,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{trafficLayer:e}},this.setTrafficLayerCallback)}componentDidUpdate(e){this.state.trafficLayer!==null&&(ze(this.registeredEvents),this.registeredEvents=Be({updaterMap:ny,eventMap:ty,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),ze(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}J(rx,"contextType",Fe);function ix(n){var{onLoad:e,onUnmount:t}=n,r=y.useContext(Fe),[o,a]=y.useState(null);return y.useEffect(()=>{o!==null&&o.setMap(r)},[r]),y.useEffect(()=>{var c=new google.maps.BicyclingLayer;return a(c),c.setMap(r),e&&e(c),()=>{c!==null&&(t&&t(c),c.setMap(null))}},[]),null}y.memo(ix);class sx extends y.PureComponent{constructor(){super(...arguments),J(this,"state",{bicyclingLayer:null}),J(this,"setBicyclingLayerCallback",()=>{this.state.bicyclingLayer!==null&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))})}componentDidMount(){var e=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:e}),this.setBicyclingLayerCallback)}componentWillUnmount(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}J(sx,"contextType",Fe);function ox(n){var{onLoad:e,onUnmount:t}=n,r=y.useContext(Fe),[o,a]=y.useState(null);return y.useEffect(()=>{o!==null&&o.setMap(r)},[r]),y.useEffect(()=>{var c=new google.maps.TransitLayer;return a(c),c.setMap(r),e&&e(c),()=>{o!==null&&(t&&t(o),o.setMap(null))}},[]),null}y.memo(ox);class ax extends y.PureComponent{constructor(){super(...arguments),J(this,"state",{transitLayer:null}),J(this,"setTransitLayerCallback",()=>{this.state.transitLayer!==null&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))})}componentDidMount(){var e=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:e}},this.setTransitLayerCallback)}componentWillUnmount(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}J(ax,"contextType",Fe);function ry(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function Tc(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ry(Object(t),!0).forEach(function(r){J(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ry(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var iy={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},sy={drawingMode(n,e){n.setDrawingMode(e)},options(n,e){n.setOptions(e)}};function lx(n){var{options:e,drawingMode:t,onCircleComplete:r,onMarkerComplete:o,onOverlayComplete:a,onPolygonComplete:c,onPolylineComplete:d,onRectangleComplete:f,onLoad:m,onUnmount:_}=n,S=y.useContext(Fe),[C,k]=y.useState(null),[L,D]=y.useState(null),[b,B]=y.useState(null),[j,X]=y.useState(null),[W,q]=y.useState(null),[Q,R]=y.useState(null),[P,T]=y.useState(null);return y.useEffect(()=>{C!==null&&C.setMap(S)},[S]),y.useEffect(()=>{e&&C!==null&&C.setOptions(e)},[C,e]),y.useEffect(()=>{C!==null&&C.setDrawingMode(t??null)},[C,t]),y.useEffect(()=>{C&&r&&(L!==null&&google.maps.event.removeListener(L),D(google.maps.event.addListener(C,"circlecomplete",r)))},[C,r]),y.useEffect(()=>{C&&o&&(b!==null&&google.maps.event.removeListener(b),B(google.maps.event.addListener(C,"markercomplete",o)))},[C,o]),y.useEffect(()=>{C&&a&&(j!==null&&google.maps.event.removeListener(j),X(google.maps.event.addListener(C,"overlaycomplete",a)))},[C,a]),y.useEffect(()=>{C&&c&&(W!==null&&google.maps.event.removeListener(W),q(google.maps.event.addListener(C,"polygoncomplete",c)))},[C,c]),y.useEffect(()=>{C&&d&&(Q!==null&&google.maps.event.removeListener(Q),R(google.maps.event.addListener(C,"polylinecomplete",d)))},[C,d]),y.useEffect(()=>{C&&f&&(P!==null&&google.maps.event.removeListener(P),T(google.maps.event.addListener(C,"rectanglecomplete",f)))},[C,f]),y.useEffect(()=>{kt(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var x=new google.maps.drawing.DrawingManager(Tc(Tc({},e),{},{map:S}));return t&&x.setDrawingMode(t),r&&D(google.maps.event.addListener(x,"circlecomplete",r)),o&&B(google.maps.event.addListener(x,"markercomplete",o)),a&&X(google.maps.event.addListener(x,"overlaycomplete",a)),c&&q(google.maps.event.addListener(x,"polygoncomplete",c)),d&&R(google.maps.event.addListener(x,"polylinecomplete",d)),f&&T(google.maps.event.addListener(x,"rectanglecomplete",f)),k(x),m&&m(x),()=>{C!==null&&(L&&google.maps.event.removeListener(L),b&&google.maps.event.removeListener(b),j&&google.maps.event.removeListener(j),W&&google.maps.event.removeListener(W),Q&&google.maps.event.removeListener(Q),P&&google.maps.event.removeListener(P),_&&_(C),C.setMap(null))}},[]),null}y.memo(lx);class ux extends y.PureComponent{constructor(e){super(e),J(this,"registeredEvents",[]),J(this,"state",{drawingManager:null}),J(this,"setDrawingManagerCallback",()=>{this.state.drawingManager!==null&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)}),kt(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var e=new google.maps.drawing.DrawingManager(Tc(Tc({},this.props.options),{},{map:this.context}));this.registeredEvents=Be({updaterMap:sy,eventMap:iy,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{drawingManager:e}},this.setDrawingManagerCallback)}componentDidUpdate(e){this.state.drawingManager!==null&&(ze(this.registeredEvents),this.registeredEvents=Be({updaterMap:sy,eventMap:iy,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),ze(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}J(ux,"contextType",Fe);function oy(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function Do(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?oy(Object(t),!0).forEach(function(r){J(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):oy(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var ay={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},ly={animation(n,e){n.setAnimation(e)},clickable(n,e){n.setClickable(e)},cursor(n,e){n.setCursor(e)},draggable(n,e){n.setDraggable(e)},icon(n,e){n.setIcon(e)},label(n,e){n.setLabel(e)},map(n,e){n.setMap(e)},opacity(n,e){n.setOpacity(e)},options(n,e){n.setOptions(e)},position(n,e){n.setPosition(e)},shape(n,e){n.setShape(e)},title(n,e){n.setTitle(e)},visible(n,e){n.setVisible(e)},zIndex(n,e){n.setZIndex(e)}},Ic={};function cx(n){var{position:e,options:t,clusterer:r,noClustererRedraw:o,children:a,draggable:c,visible:d,animation:f,clickable:m,cursor:_,icon:S,label:C,opacity:k,shape:L,title:D,zIndex:b,onClick:B,onDblClick:j,onDrag:X,onDragEnd:W,onDragStart:q,onMouseOut:Q,onMouseOver:R,onMouseUp:P,onMouseDown:T,onRightClick:x,onClickableChanged:O,onCursorChanged:N,onAnimationChanged:A,onDraggableChanged:ye,onFlatChanged:Se,onIconChanged:Ae,onPositionChanged:Te,onShapeChanged:ee,onTitleChanged:ce,onVisibleChanged:re,onZindexChanged:U,onLoad:Y,onUnmount:ne}=n,pe=y.useContext(Fe),[G,Ce]=y.useState(null),[Ie,de]=y.useState(null),[be,me]=y.useState(null),[Ue,Rt]=y.useState(null),[At,fn]=y.useState(null),[He,ui]=y.useState(null),[ur,rs]=y.useState(null),[jn,Tn]=y.useState(null),[nn,ci]=y.useState(null),[Bn,Nr]=y.useState(null),[hi,gt]=y.useState(null),[at,In]=y.useState(null),[cr,zn]=y.useState(null),[Ln,hr]=y.useState(null),[dr,di]=y.useState(null),[fr,fi]=y.useState(null),[pr,gr]=y.useState(null),[$n,Vr]=y.useState(null),[Zt,pn]=y.useState(null),[Wn,gn]=y.useState(null),[mr,vr]=y.useState(null),[yr,Pn]=y.useState(null);y.useEffect(()=>{G!==null&&G.setMap(pe)},[pe]),y.useEffect(()=>{typeof t<"u"&&G!==null&&G.setOptions(t)},[G,t]),y.useEffect(()=>{typeof c<"u"&&G!==null&&G.setDraggable(c)},[G,c]),y.useEffect(()=>{e&&G!==null&&G.setPosition(e)},[G,e]),y.useEffect(()=>{typeof d<"u"&&G!==null&&G.setVisible(d)},[G,d]),y.useEffect(()=>{G==null||G.setAnimation(f)},[G,f]),y.useEffect(()=>{G&&m!==void 0&&G.setClickable(m)},[G,m]),y.useEffect(()=>{G&&_!==void 0&&G.setCursor(_)},[G,_]),y.useEffect(()=>{G&&S!==void 0&&G.setIcon(S)},[G,S]),y.useEffect(()=>{G&&C!==void 0&&G.setLabel(C)},[G,C]),y.useEffect(()=>{G&&k!==void 0&&G.setOpacity(k)},[G,k]),y.useEffect(()=>{G&&L!==void 0&&G.setShape(L)},[G,L]),y.useEffect(()=>{G&&D!==void 0&&G.setTitle(D)},[G,D]),y.useEffect(()=>{G&&b!==void 0&&G.setZIndex(b)},[G,b]),y.useEffect(()=>{G&&j&&(Ie!==null&&google.maps.event.removeListener(Ie),de(google.maps.event.addListener(G,"dblclick",j)))},[j]),y.useEffect(()=>{G&&W&&(be!==null&&google.maps.event.removeListener(be),me(google.maps.event.addListener(G,"dragend",W)))},[W]),y.useEffect(()=>{G&&q&&(Ue!==null&&google.maps.event.removeListener(Ue),Rt(google.maps.event.addListener(G,"dragstart",q)))},[q]),y.useEffect(()=>{G&&T&&(At!==null&&google.maps.event.removeListener(At),fn(google.maps.event.addListener(G,"mousedown",T)))},[T]),y.useEffect(()=>{G&&Q&&(He!==null&&google.maps.event.removeListener(He),ui(google.maps.event.addListener(G,"mouseout",Q)))},[Q]),y.useEffect(()=>{G&&R&&(ur!==null&&google.maps.event.removeListener(ur),rs(google.maps.event.addListener(G,"mouseover",R)))},[R]),y.useEffect(()=>{G&&P&&(jn!==null&&google.maps.event.removeListener(jn),Tn(google.maps.event.addListener(G,"mouseup",P)))},[P]),y.useEffect(()=>{G&&x&&(nn!==null&&google.maps.event.removeListener(nn),ci(google.maps.event.addListener(G,"rightclick",x)))},[x]),y.useEffect(()=>{G&&B&&(Bn!==null&&google.maps.event.removeListener(Bn),Nr(google.maps.event.addListener(G,"click",B)))},[B]),y.useEffect(()=>{G&&X&&(hi!==null&&google.maps.event.removeListener(hi),gt(google.maps.event.addListener(G,"drag",X)))},[X]),y.useEffect(()=>{G&&O&&(at!==null&&google.maps.event.removeListener(at),In(google.maps.event.addListener(G,"clickable_changed",O)))},[O]),y.useEffect(()=>{G&&N&&(cr!==null&&google.maps.event.removeListener(cr),zn(google.maps.event.addListener(G,"cursor_changed",N)))},[N]),y.useEffect(()=>{G&&A&&(Ln!==null&&google.maps.event.removeListener(Ln),hr(google.maps.event.addListener(G,"animation_changed",A)))},[A]),y.useEffect(()=>{G&&ye&&(dr!==null&&google.maps.event.removeListener(dr),di(google.maps.event.addListener(G,"draggable_changed",ye)))},[ye]),y.useEffect(()=>{G&&Se&&(fr!==null&&google.maps.event.removeListener(fr),fi(google.maps.event.addListener(G,"flat_changed",Se)))},[Se]),y.useEffect(()=>{G&&Ae&&(pr!==null&&google.maps.event.removeListener(pr),gr(google.maps.event.addListener(G,"icon_changed",Ae)))},[Ae]),y.useEffect(()=>{G&&Te&&($n!==null&&google.maps.event.removeListener($n),Vr(google.maps.event.addListener(G,"position_changed",Te)))},[Te]),y.useEffect(()=>{G&&ee&&(Zt!==null&&google.maps.event.removeListener(Zt),pn(google.maps.event.addListener(G,"shape_changed",ee)))},[ee]),y.useEffect(()=>{G&&ce&&(Wn!==null&&google.maps.event.removeListener(Wn),gn(google.maps.event.addListener(G,"title_changed",ce)))},[ce]),y.useEffect(()=>{G&&re&&(mr!==null&&google.maps.event.removeListener(mr),vr(google.maps.event.addListener(G,"visible_changed",re)))},[re]),y.useEffect(()=>{G&&U&&(yr!==null&&google.maps.event.removeListener(yr),Pn(google.maps.event.addListener(G,"zindex_changed",U)))},[U]),y.useEffect(()=>{var tt=Do(Do(Do({},t||Ic),r?Ic:{map:pe}),{},{position:e}),xe=new google.maps.Marker(tt);return r?r.addMarker(xe,!!o):xe.setMap(pe),e&&xe.setPosition(e),typeof d<"u"&&xe.setVisible(d),typeof c<"u"&&xe.setDraggable(c),typeof m<"u"&&xe.setClickable(m),typeof _=="string"&&xe.setCursor(_),S&&xe.setIcon(S),typeof C<"u"&&xe.setLabel(C),typeof k<"u"&&xe.setOpacity(k),L&&xe.setShape(L),typeof D=="string"&&xe.setTitle(D),typeof b=="number"&&xe.setZIndex(b),j&&de(google.maps.event.addListener(xe,"dblclick",j)),W&&me(google.maps.event.addListener(xe,"dragend",W)),q&&Rt(google.maps.event.addListener(xe,"dragstart",q)),T&&fn(google.maps.event.addListener(xe,"mousedown",T)),Q&&ui(google.maps.event.addListener(xe,"mouseout",Q)),R&&rs(google.maps.event.addListener(xe,"mouseover",R)),P&&Tn(google.maps.event.addListener(xe,"mouseup",P)),x&&ci(google.maps.event.addListener(xe,"rightclick",x)),B&&Nr(google.maps.event.addListener(xe,"click",B)),X&&gt(google.maps.event.addListener(xe,"drag",X)),O&&In(google.maps.event.addListener(xe,"clickable_changed",O)),N&&zn(google.maps.event.addListener(xe,"cursor_changed",N)),A&&hr(google.maps.event.addListener(xe,"animation_changed",A)),ye&&di(google.maps.event.addListener(xe,"draggable_changed",ye)),Se&&fi(google.maps.event.addListener(xe,"flat_changed",Se)),Ae&&gr(google.maps.event.addListener(xe,"icon_changed",Ae)),Te&&Vr(google.maps.event.addListener(xe,"position_changed",Te)),ee&&pn(google.maps.event.addListener(xe,"shape_changed",ee)),ce&&gn(google.maps.event.addListener(xe,"title_changed",ce)),re&&vr(google.maps.event.addListener(xe,"visible_changed",re)),U&&Pn(google.maps.event.addListener(xe,"zindex_changed",U)),Ce(xe),Y&&Y(xe),()=>{Ie!==null&&google.maps.event.removeListener(Ie),be!==null&&google.maps.event.removeListener(be),Ue!==null&&google.maps.event.removeListener(Ue),At!==null&&google.maps.event.removeListener(At),He!==null&&google.maps.event.removeListener(He),ur!==null&&google.maps.event.removeListener(ur),jn!==null&&google.maps.event.removeListener(jn),nn!==null&&google.maps.event.removeListener(nn),Bn!==null&&google.maps.event.removeListener(Bn),at!==null&&google.maps.event.removeListener(at),cr!==null&&google.maps.event.removeListener(cr),Ln!==null&&google.maps.event.removeListener(Ln),dr!==null&&google.maps.event.removeListener(dr),fr!==null&&google.maps.event.removeListener(fr),pr!==null&&google.maps.event.removeListener(pr),$n!==null&&google.maps.event.removeListener($n),Wn!==null&&google.maps.event.removeListener(Wn),mr!==null&&google.maps.event.removeListener(mr),yr!==null&&google.maps.event.removeListener(yr),ne&&ne(xe),r?r.removeMarker(xe,!!o):xe&&xe.setMap(null)}},[]);var is=y.useMemo(()=>a?y.Children.map(a,tt=>{if(!y.isValidElement(tt))return tt;var xe=tt;return y.cloneElement(xe,{anchor:G})}):null,[a,G]);return le.jsx(le.Fragment,{children:is})||null}y.memo(cx);class Hw extends y.PureComponent{constructor(){super(...arguments),J(this,"registeredEvents",[])}componentDidMount(){var e=this;return Fw(function*(){var t=Do(Do(Do({},e.props.options||Ic),e.props.clusterer?Ic:{map:e.context}),{},{position:e.props.position});e.marker=new google.maps.Marker(t),e.props.clusterer?e.props.clusterer.addMarker(e.marker,!!e.props.noClustererRedraw):e.marker.setMap(e.context),e.registeredEvents=Be({updaterMap:ly,eventMap:ay,prevProps:{},nextProps:e.props,instance:e.marker}),e.props.onLoad&&e.props.onLoad(e.marker)})()}componentDidUpdate(e){this.marker&&(ze(this.registeredEvents),this.registeredEvents=Be({updaterMap:ly,eventMap:ay,prevProps:e,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),ze(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){var e=this.props.children?y.Children.map(this.props.children,t=>{if(!y.isValidElement(t))return t;var r=t;return y.cloneElement(r,{anchor:this.marker})}):null;return e||null}}J(Hw,"contextType",Fe);var hx=function(){function n(e,t){e.getClusterer().extend(n,google.maps.OverlayView),this.cluster=e,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=t,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(e.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return n.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},n.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},n.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var t=this.cluster.getClusterer();if(google.maps.event.trigger(t,"click",this.cluster),google.maps.event.trigger(t,"clusterclick",this.cluster),t.getZoomOnClick()){var r=t.getMaxZoom(),o=this.cluster.getBounds(),a=t.getMap();a!==null&&"fitBounds"in a&&a.fitBounds(o),this.timeOut=window.setTimeout(function(){var c=t.getMap();if(c!==null){"fitBounds"in c&&c.fitBounds(o);var d=c.getZoom()||0;r!==null&&d>r&&c.setZoom(r+1)}},100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},n.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},n.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},n.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(e=this.getPanes())===null||e===void 0||e.overlayMouseTarget.appendChild(this.div);var t=this.getMap();t!==null&&(this.boundsChangedListener=google.maps.event.addListener(t,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},n.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},n.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=e!==null?"".concat(e.y,"px"):"0",this.div.style.left=e!==null?"".concat(e.x,"px"):"0"}},n.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},n.prototype.show=function(){var e,t,r,o,a,c;if(this.div&&this.center){var d=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,f=this.backgroundPosition.split(" "),m=parseInt(((e=f[0])===null||e===void 0?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),_=parseInt(((t=f[1])===null||t===void 0?void 0:t.replace(/^\s+|\s+$/g,""))||"0",10),S=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(S!==null?"".concat(S.y,"px"):"0","; left: ").concat(S!==null?"".concat(S.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var C=document.createElement("img");C.alt=d,C.src=this.url,C.width=this.width,C.height=this.height,C.setAttribute("style","position: absolute; top: ".concat(_,"px; left: ").concat(m,"px")),this.cluster.getClusterer().enableRetinaIcons||(C.style.clip="rect(-".concat(_,"px, -").concat(m+this.width,"px, -").concat(_+this.height,", -").concat(m,")"));var k=document.createElement("div");k.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((r=this.sums)===null||r===void 0)&&r.text&&(k.innerText="".concat((o=this.sums)===null||o===void 0?void 0:o.text)),!((a=this.sums)===null||a===void 0)&&a.html&&(k.innerHTML="".concat((c=this.sums)===null||c===void 0?void 0:c.html)),this.div.innerHTML="",this.div.appendChild(C),this.div.appendChild(k),this.div.title=d,this.div.style.display=""}this.visible=!0},n.prototype.useStyle=function(e){this.sums=e;var t=this.cluster.getClusterer().getStyles(),r=t[Math.min(t.length-1,Math.max(0,e.index-1))];r&&(this.url=r.url,this.height=r.height,this.width=r.width,r.className&&(this.className="".concat(this.clusterClassName," ").concat(r.className)),this.anchorText=r.anchorText||[0,0],this.anchorIcon=r.anchorIcon||[this.height/2,this.width/2],this.textColor=r.textColor||"black",this.textSize=r.textSize||11,this.textDecoration=r.textDecoration||"none",this.fontWeight=r.fontWeight||"bold",this.fontStyle=r.fontStyle||"normal",this.fontFamily=r.fontFamily||"Arial,sans-serif",this.backgroundPosition=r.backgroundPosition||"0 0")},n.prototype.setCenter=function(e){this.center=e},n.prototype.getPosFromLatLng=function(e){var t=this.getProjection().fromLatLngToDivPixel(e);return t!==null&&(t.x-=this.anchorIcon[1],t.y-=this.anchorIcon[0]),t},n}(),dx=function(){function n(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new hx(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return n.prototype.getSize=function(){return this.markers.length},n.prototype.getMarkers=function(){return this.markers},n.prototype.getCenter=function(){return this.center},n.prototype.getMap=function(){return this.map},n.prototype.getClusterer=function(){return this.markerClusterer},n.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),t=this.getMarkers(),r=0,o=t;r<o.length;r++){var a=o[r],c=a.getPosition();c&&e.extend(c)}return e},n.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},n.prototype.addMarker=function(e){var t;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter){var r=e.getPosition();if(r){var o=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(o-1)+r.lat())/o,(this.center.lng()*(o-1)+r.lng())/o),this.calculateBounds()}}}else{var r=e.getPosition();r&&(this.center=r,this.calculateBounds())}e.isAdded=!0,this.markers.push(e);var a=this.markers.length,c=this.markerClusterer.getMaxZoom(),d=(t=this.map)===null||t===void 0?void 0:t.getZoom();if(c!==null&&typeof d<"u"&&d>c)e.getMap()!==this.map&&e.setMap(this.map);else if(a<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(a===this.minClusterSize)for(var f=0,m=this.markers;f<m.length;f++){var _=m[f];_.setMap(null)}else e.setMap(null);return!0},n.prototype.isMarkerInClusterBounds=function(e){if(this.bounds!==null){var t=e.getPosition();if(t)return this.bounds.contains(t)}return!1},n.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},n.prototype.updateIcon=function(){var e,t=this.markers.length,r=this.markerClusterer.getMaxZoom(),o=(e=this.map)===null||e===void 0?void 0:e.getZoom();if(r!==null&&typeof o<"u"&&o>r){this.clusterIcon.hide();return}if(t<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},n.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var t=0;t<this.markers.length;t++)if(e===this.markers[t])return!0;return!1},n}();function fx(n,e){var t=n.length,r=t.toString().length,o=Math.min(r,e);return{text:t.toString(),index:o,title:""}}var px=2e3,gx=500,mx="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",vx="png",yx=[53,56,66,78,90],_x="cluster",qw=function(){function n(e,t,r){t===void 0&&(t=[]),r===void 0&&(r={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(n,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=r.gridSize||60,this.minClusterSize=r.minimumClusterSize||2,this.maxZoom=r.maxZoom||null,this.styles=r.styles||[],this.title=r.title||"",this.zoomOnClick=!0,r.zoomOnClick!==void 0&&(this.zoomOnClick=r.zoomOnClick),this.averageCenter=!1,r.averageCenter!==void 0&&(this.averageCenter=r.averageCenter),this.ignoreHidden=!1,r.ignoreHidden!==void 0&&(this.ignoreHidden=r.ignoreHidden),this.enableRetinaIcons=!1,r.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=r.enableRetinaIcons),this.imagePath=r.imagePath||mx,this.imageExtension=r.imageExtension||vx,this.imageSizes=r.imageSizes||yx,this.calculator=r.calculator||fx,this.batchSize=r.batchSize||px,this.batchSizeIE=r.batchSizeIE||gx,this.clusterClass=r.clusterClass||_x,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(t,!0),this.setMap(e)}return n.prototype.onZoomChanged=function(){var e,t;this.resetViewport(!1),(((e=this.getMap())===null||e===void 0?void 0:e.getZoom())===(this.get("minZoom")||0)||((t=this.getMap())===null||t===void 0?void 0:t.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},n.prototype.onIdle=function(){this.redraw()},n.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),e!==null&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},n.prototype.onRemove=function(){for(var e=0,t=this.markers;e<t.length;e++){var r=t[e];r.getMap()!==this.activeMap&&r.setMap(this.activeMap)}for(var o=0,a=this.clusters;o<a.length;o++){var c=a[o];c.remove()}this.clusters=[];for(var d=0,f=this.listeners;d<f.length;d++){var m=f[d];google.maps.event.removeListener(m)}this.listeners=[],this.activeMap=null,this.ready=!1},n.prototype.draw=function(){},n.prototype.getMap=function(){return null},n.prototype.getPanes=function(){return null},n.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},n.prototype.setMap=function(){},n.prototype.addListener=function(){return{remove:function(){}}},n.prototype.bindTo=function(){},n.prototype.get=function(){},n.prototype.notify=function(){},n.prototype.set=function(){},n.prototype.setValues=function(){},n.prototype.unbind=function(){},n.prototype.unbindAll=function(){},n.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},n.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),t=new google.maps.LatLngBounds,r=0,o=e;r<o.length;r++){var a=o[r],c=a.getPosition();c&&t.extend(c)}var d=this.getMap();d!==null&&"fitBounds"in d&&d.fitBounds(t)},n.prototype.getGridSize=function(){return this.gridSize},n.prototype.setGridSize=function(e){this.gridSize=e},n.prototype.getMinimumClusterSize=function(){return this.minClusterSize},n.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},n.prototype.getMaxZoom=function(){return this.maxZoom},n.prototype.setMaxZoom=function(e){this.maxZoom=e},n.prototype.getStyles=function(){return this.styles},n.prototype.setStyles=function(e){this.styles=e},n.prototype.getTitle=function(){return this.title},n.prototype.setTitle=function(e){this.title=e},n.prototype.getZoomOnClick=function(){return this.zoomOnClick},n.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},n.prototype.getAverageCenter=function(){return this.averageCenter},n.prototype.setAverageCenter=function(e){this.averageCenter=e},n.prototype.getIgnoreHidden=function(){return this.ignoreHidden},n.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},n.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},n.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},n.prototype.getImageExtension=function(){return this.imageExtension},n.prototype.setImageExtension=function(e){this.imageExtension=e},n.prototype.getImagePath=function(){return this.imagePath},n.prototype.setImagePath=function(e){this.imagePath=e},n.prototype.getImageSizes=function(){return this.imageSizes},n.prototype.setImageSizes=function(e){this.imageSizes=e},n.prototype.getCalculator=function(){return this.calculator},n.prototype.setCalculator=function(e){this.calculator=e},n.prototype.getBatchSizeIE=function(){return this.batchSizeIE},n.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},n.prototype.getClusterClass=function(){return this.clusterClass},n.prototype.setClusterClass=function(e){this.clusterClass=e},n.prototype.getMarkers=function(){return this.markers},n.prototype.getTotalMarkers=function(){return this.markers.length},n.prototype.getClusters=function(){return this.clusters},n.prototype.getTotalClusters=function(){return this.clusters.length},n.prototype.addMarker=function(e,t){this.pushMarkerTo(e),t||this.redraw()},n.prototype.addMarkers=function(e,t){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=e[r];o&&this.pushMarkerTo(o)}t||this.redraw()},n.prototype.pushMarkerTo=function(e){var t=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",function(){t.ready&&(e.isAdded=!1,t.repaint())}),e.isAdded=!1,this.markers.push(e)},n.prototype.removeMarker_=function(e){var t=-1;if(this.markers.indexOf)t=this.markers.indexOf(e);else for(var r=0;r<this.markers.length;r++)if(e===this.markers[r]){t=r;break}return t===-1?!1:(e.setMap(null),this.markers.splice(t,1),!0)},n.prototype.removeMarker=function(e,t){var r=this.removeMarker_(e);return!t&&r&&this.repaint(),r},n.prototype.removeMarkers=function(e,t){for(var r=!1,o=0,a=e;o<a.length;o++){var c=a[o];r=r||this.removeMarker_(c)}return!t&&r&&this.repaint(),r},n.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},n.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var r=0,o=e;r<o.length;r++){var a=o[r];a.remove()}},0)},n.prototype.getExtendedBounds=function(e){var t=this.getProjection(),r=t.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));r!==null&&(r.x+=this.gridSize,r.y-=this.gridSize);var o=t.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(o!==null&&(o.x-=this.gridSize,o.y+=this.gridSize),r!==null){var a=t.fromDivPixelToLatLng(r);a!==null&&e.extend(a)}if(o!==null){var c=t.fromDivPixelToLatLng(o);c!==null&&e.extend(c)}return e},n.prototype.redraw=function(){this.createClusters(0)},n.prototype.resetViewport=function(e){for(var t=0,r=this.clusters;t<r.length;t++){var o=r[t];o.remove()}this.clusters=[];for(var a=0,c=this.markers;a<c.length;a++){var d=c[a];d.isAdded=!1,e&&d.setMap(null)}},n.prototype.distanceBetweenPoints=function(e,t){var r=6371,o=(t.lat()-e.lat())*Math.PI/180,a=(t.lng()-e.lng())*Math.PI/180,c=Math.sin(o/2)*Math.sin(o/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(t.lat()*Math.PI/180)*Math.sin(a/2)*Math.sin(a/2);return r*(2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)))},n.prototype.isMarkerInBounds=function(e,t){var r=e.getPosition();return r?t.contains(r):!1},n.prototype.addToClosestCluster=function(e){for(var t,r=4e4,o=null,a=0,c=this.clusters;a<c.length;a++){var d=c[a];t=d;var f=t.getCenter(),m=e.getPosition();if(f&&m){var _=this.distanceBetweenPoints(f,m);_<r&&(r=_,o=t)}}o&&o.isMarkerInClusterBounds(e)?o.addMarker(e):(t=new dx(this),t.addMarker(e),this.clusters.push(t))},n.prototype.createClusters=function(e){var t=this;if(this.ready){e===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var r=this.getMap(),o=r!==null&&("getBounds"in r)?r.getBounds():null,a=(r==null?void 0:r.getZoom())||0,c=a>3?new google.maps.LatLngBounds(o==null?void 0:o.getSouthWest(),o==null?void 0:o.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),d=this.getExtendedBounds(c),f=Math.min(e+this.batchSize,this.markers.length),m=e;m<f;m++){var _=this.markers[m];_&&!_.isAdded&&this.isMarkerInBounds(_,d)&&(!this.ignoreHidden||this.ignoreHidden&&_.getVisible())&&this.addToClosestCluster(_)}if(f<this.markers.length)this.timerRefStatic=window.setTimeout(function(){t.createClusters(f)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var S=0,C=this.clusters;S<C.length;S++){var k=C[S];k.updateIcon()}}}},n.prototype.extend=function(e,t){return(function(o){for(var a in o.prototype){var c=a;this.prototype[c]=o.prototype[c]}return this}).apply(e,[t])},n}();function uy(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function Ex(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?uy(Object(t),!0).forEach(function(r){J(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):uy(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var Un={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},Je={averageCenter(n,e){n.setAverageCenter(e)},batchSizeIE(n,e){n.setBatchSizeIE(e)},calculator(n,e){n.setCalculator(e)},clusterClass(n,e){n.setClusterClass(e)},enableRetinaIcons(n,e){n.setEnableRetinaIcons(e)},gridSize(n,e){n.setGridSize(e)},ignoreHidden(n,e){n.setIgnoreHidden(e)},imageExtension(n,e){n.setImageExtension(e)},imagePath(n,e){n.setImagePath(e)},imageSizes(n,e){n.setImageSizes(e)},maxZoom(n,e){n.setMaxZoom(e)},minimumClusterSize(n,e){n.setMinimumClusterSize(e)},styles(n,e){n.setStyles(e)},title(n,e){n.setTitle(e)},zoomOnClick(n,e){n.setZoomOnClick(e)}},wx={};function Sx(n){var{children:e,options:t,averageCenter:r,batchSizeIE:o,calculator:a,clusterClass:c,enableRetinaIcons:d,gridSize:f,ignoreHidden:m,imageExtension:_,imagePath:S,imageSizes:C,maxZoom:k,minimumClusterSize:L,styles:D,title:b,zoomOnClick:B,onClick:j,onClusteringBegin:X,onClusteringEnd:W,onMouseOver:q,onMouseOut:Q,onLoad:R,onUnmount:P}=n,[T,x]=y.useState(null),O=y.useContext(Fe),[N,A]=y.useState(null),[ye,Se]=y.useState(null),[Ae,Te]=y.useState(null),[ee,ce]=y.useState(null),[re,U]=y.useState(null);return y.useEffect(()=>{T&&Q&&(ee!==null&&google.maps.event.removeListener(ee),ce(google.maps.event.addListener(T,Un.onMouseOut,Q)))},[Q]),y.useEffect(()=>{T&&q&&(re!==null&&google.maps.event.removeListener(re),U(google.maps.event.addListener(T,Un.onMouseOver,q)))},[q]),y.useEffect(()=>{T&&j&&(N!==null&&google.maps.event.removeListener(N),A(google.maps.event.addListener(T,Un.onClick,j)))},[j]),y.useEffect(()=>{T&&X&&(ye!==null&&google.maps.event.removeListener(ye),Se(google.maps.event.addListener(T,Un.onClusteringBegin,X)))},[X]),y.useEffect(()=>{T&&W&&(Ae!==null&&google.maps.event.removeListener(Ae),Se(google.maps.event.addListener(T,Un.onClusteringEnd,W)))},[W]),y.useEffect(()=>{typeof r<"u"&&T!==null&&Je.averageCenter(T,r)},[T,r]),y.useEffect(()=>{typeof o<"u"&&T!==null&&Je.batchSizeIE(T,o)},[T,o]),y.useEffect(()=>{typeof a<"u"&&T!==null&&Je.calculator(T,a)},[T,a]),y.useEffect(()=>{typeof c<"u"&&T!==null&&Je.clusterClass(T,c)},[T,c]),y.useEffect(()=>{typeof d<"u"&&T!==null&&Je.enableRetinaIcons(T,d)},[T,d]),y.useEffect(()=>{typeof f<"u"&&T!==null&&Je.gridSize(T,f)},[T,f]),y.useEffect(()=>{typeof m<"u"&&T!==null&&Je.ignoreHidden(T,m)},[T,m]),y.useEffect(()=>{typeof _<"u"&&T!==null&&Je.imageExtension(T,_)},[T,_]),y.useEffect(()=>{typeof S<"u"&&T!==null&&Je.imagePath(T,S)},[T,S]),y.useEffect(()=>{typeof C<"u"&&T!==null&&Je.imageSizes(T,C)},[T,C]),y.useEffect(()=>{typeof k<"u"&&T!==null&&Je.maxZoom(T,k)},[T,k]),y.useEffect(()=>{typeof L<"u"&&T!==null&&Je.minimumClusterSize(T,L)},[T,L]),y.useEffect(()=>{typeof D<"u"&&T!==null&&Je.styles(T,D)},[T,D]),y.useEffect(()=>{typeof b<"u"&&T!==null&&Je.title(T,b)},[T,b]),y.useEffect(()=>{typeof B<"u"&&T!==null&&Je.zoomOnClick(T,B)},[T,B]),y.useEffect(()=>{if(O){var Y=Ex({},t||wx),ne=new qw(O,[],Y);return r&&Je.averageCenter(ne,r),o&&Je.batchSizeIE(ne,o),a&&Je.calculator(ne,a),c&&Je.clusterClass(ne,c),d&&Je.enableRetinaIcons(ne,d),f&&Je.gridSize(ne,f),m&&Je.ignoreHidden(ne,m),_&&Je.imageExtension(ne,_),S&&Je.imagePath(ne,S),C&&Je.imageSizes(ne,C),k&&Je.maxZoom(ne,k),L&&Je.minimumClusterSize(ne,L),D&&Je.styles(ne,D),b&&Je.title(ne,b),B&&Je.zoomOnClick(ne,B),Q&&ce(google.maps.event.addListener(ne,Un.onMouseOut,Q)),q&&U(google.maps.event.addListener(ne,Un.onMouseOver,q)),j&&A(google.maps.event.addListener(ne,Un.onClick,j)),X&&Se(google.maps.event.addListener(ne,Un.onClusteringBegin,X)),W&&Te(google.maps.event.addListener(ne,Un.onClusteringEnd,W)),x(ne),R&&R(ne),()=>{ee!==null&&google.maps.event.removeListener(ee),re!==null&&google.maps.event.removeListener(re),N!==null&&google.maps.event.removeListener(N),ye!==null&&google.maps.event.removeListener(ye),Ae!==null&&google.maps.event.removeListener(Ae),P&&P(ne)}}},[]),T!==null&&e(T)||null}y.memo(Sx);class Cx extends y.PureComponent{constructor(){super(...arguments),J(this,"registeredEvents",[]),J(this,"state",{markerClusterer:null}),J(this,"setClustererCallback",()=>{this.state.markerClusterer!==null&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)})}componentDidMount(){if(this.context){var e=new qw(this.context,[],this.props.options);this.registeredEvents=Be({updaterMap:Je,eventMap:Un,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({markerClusterer:e}),this.setClustererCallback)}}componentDidUpdate(e){this.state.markerClusterer&&(ze(this.registeredEvents),this.registeredEvents=Be({updaterMap:Je,eventMap:Un,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),ze(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null}}J(Cx,"contextType",Fe);function cy(n){n.cancelBubble=!0,n.stopPropagation&&n.stopPropagation()}var Gw=function(){function n(e){e===void 0&&(e={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(n,google.maps.OverlayView),this.content=e.content||"",this.disableAutoPan=e.disableAutoPan||!1,this.maxWidth=e.maxWidth||0,this.pixelOffset=e.pixelOffset||new google.maps.Size(0,0),this.position=e.position||new google.maps.LatLng(0,0),this.zIndex=e.zIndex||null,this.boxClass=e.boxClass||"infoBox",this.boxStyle=e.boxStyle||{},this.closeBoxMargin=e.closeBoxMargin||"2px",this.closeBoxURL=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",e.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=e.infoBoxClearance||new google.maps.Size(1,1),typeof e.visible>"u"&&(typeof e.isHidden>"u"?e.visible=!0:e.visible=!e.isHidden),this.isHidden=!e.visible,this.alignBottom=e.alignBottom||!1,this.pane=e.pane||"floatPane",this.enableEventPropagation=e.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return n.prototype.createInfoBoxDiv=function(){var e=this,t=function(_){_.returnValue=!1,_.preventDefault&&_.preventDefault(),e.enableEventPropagation||cy(_)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var r=this.getPanes();if(r!==null&&r[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var o=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-o.left-o.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var a=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],c=0,d=a;c<d.length;c++){var f=d[c];this.eventListeners.push(google.maps.event.addListener(this.div,f,cy))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){e.div&&(e.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",t),google.maps.event.trigger(this,"domready")}},n.prototype.getCloseBoxImg=function(){var e="";return this.closeBoxURL!==""&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},n.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},n.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},n.prototype.getCloseClickHandler=function(){return this.closeClickHandler},n.prototype.panBox=function(e){if(this.div&&!e){var t=this.getMap();if(t instanceof google.maps.Map){var r=0,o=0,a=t.getBounds();a&&!a.contains(this.position)&&t.setCenter(this.position);var c=t.getDiv(),d=c.offsetWidth,f=c.offsetHeight,m=this.pixelOffset.width,_=this.pixelOffset.height,S=this.div.offsetWidth,C=this.div.offsetHeight,k=this.infoBoxClearance.width,L=this.infoBoxClearance.height,D=this.getProjection(),b=D.fromLatLngToContainerPixel(this.position);b!==null&&(b.x<-m+k?r=b.x+m-k:b.x+S+m+k>d&&(r=b.x+S+m+k-d),this.alignBottom?b.y<-_+L+C?o=b.y+_-L-C:b.y+_+L>f&&(o=b.y+_+L-f):b.y<-_+L?o=b.y+_-L:b.y+C+_+L>f&&(o=b.y+C+_+L-f)),r===0&&o===0||t.panBy(r,o)}}},n.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(this.div.style[t]=e[t]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var r=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+r*100+')"',this.div.style.filter="alpha(opacity="+r*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},n.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var t=this.div.ownerDocument,r=t&&t.defaultView?t.defaultView.getComputedStyle(this.div,""):null;r&&(e.top=parseInt(r.borderTopWidth||"",10)||0,e.bottom=parseInt(r.borderBottomWidth||"",10)||0,e.left=parseInt(r.borderLeftWidth||"",10)||0,e.right=parseInt(r.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var o=this.div.currentStyle;o&&(e.top=parseInt(o.borderTopWidth||"",10)||0,e.bottom=parseInt(o.borderBottomWidth||"",10)||0,e.left=parseInt(o.borderLeftWidth||"",10)||0,e.right=parseInt(o.borderRightWidth||"",10)||0)}return e},n.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},n.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection(),t=e.fromLatLngToDivPixel(this.position);t!==null&&(this.div.style.left=t.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(t.y+this.pixelOffset.height)+"px":this.div.style.top=t.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},n.prototype.setOptions=function(e){e===void 0&&(e={}),typeof e.boxClass<"u"&&(this.boxClass=e.boxClass,this.setBoxStyle()),typeof e.boxStyle<"u"&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),typeof e.content<"u"&&this.setContent(e.content),typeof e.disableAutoPan<"u"&&(this.disableAutoPan=e.disableAutoPan),typeof e.maxWidth<"u"&&(this.maxWidth=e.maxWidth),typeof e.pixelOffset<"u"&&(this.pixelOffset=e.pixelOffset),typeof e.alignBottom<"u"&&(this.alignBottom=e.alignBottom),typeof e.position<"u"&&this.setPosition(e.position),typeof e.zIndex<"u"&&this.setZIndex(e.zIndex),typeof e.closeBoxMargin<"u"&&(this.closeBoxMargin=e.closeBoxMargin),typeof e.closeBoxURL<"u"&&(this.closeBoxURL=e.closeBoxURL),typeof e.infoBoxClearance<"u"&&(this.infoBoxClearance=e.infoBoxClearance),typeof e.isHidden<"u"&&(this.isHidden=e.isHidden),typeof e.visible<"u"&&(this.isHidden=!e.visible),typeof e.enableEventPropagation<"u"&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},n.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},n.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},n.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},n.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},n.prototype.getContent=function(){return this.content},n.prototype.getPosition=function(){return this.position},n.prototype.getZIndex=function(){return this.zIndex},n.prototype.getVisible=function(){var e=this.getMap();return typeof e>"u"||e===null?!1:!this.isHidden},n.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},n.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},n.prototype.open=function(e,t){var r=this;t&&(this.position=t.getPosition(),this.moveListener=google.maps.event.addListener(t,"position_changed",function(){var o=t.getPosition();r.setPosition(o)}),this.mapListener=google.maps.event.addListener(t,"map_changed",function(){r.setMap(t.map)})),this.setMap(e),this.div&&this.panBox()},n.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,t=this.eventListeners;e<t.length;e++){var r=t[e];google.maps.event.removeListener(r)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},n.prototype.extend=function(e,t){return(function(o){for(var a in o.prototype)Object.prototype.hasOwnProperty.call(this,a)||(this.prototype[a]=o.prototype[a]);return this}).apply(e,[t])},n}(),Tx=["position"],Ix=["position"];function hy(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function Lc(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?hy(Object(t),!0).forEach(function(r){J(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):hy(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var dy={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},fy={options(n,e){n.setOptions(e)},position(n,e){e instanceof google.maps.LatLng?n.setPosition(e):n.setPosition(new google.maps.LatLng(e.lat,e.lng))},visible(n,e){n.setVisible(e)},zIndex(n,e){n.setZIndex(e)}},Lx={};function Px(n){var{children:e,anchor:t,options:r,position:o,zIndex:a,onCloseClick:c,onDomReady:d,onContentChanged:f,onPositionChanged:m,onZindexChanged:_,onLoad:S,onUnmount:C}=n,k=y.useContext(Fe),[L,D]=y.useState(null),[b,B]=y.useState(null),[j,X]=y.useState(null),[W,q]=y.useState(null),[Q,R]=y.useState(null),[P,T]=y.useState(null),x=y.useRef(null);return y.useEffect(()=>{k&&L!==null&&(L.close(),t?L.open(k,t):L.getPosition()&&L.open(k))},[k,L,t]),y.useEffect(()=>{r&&L!==null&&L.setOptions(r)},[L,r]),y.useEffect(()=>{if(o&&L!==null){var O=o instanceof google.maps.LatLng?o:new google.maps.LatLng(o.lat,o.lng);L.setPosition(O)}},[o]),y.useEffect(()=>{typeof a=="number"&&L!==null&&L.setZIndex(a)},[a]),y.useEffect(()=>{L&&c&&(b!==null&&google.maps.event.removeListener(b),B(google.maps.event.addListener(L,"closeclick",c)))},[c]),y.useEffect(()=>{L&&d&&(j!==null&&google.maps.event.removeListener(j),X(google.maps.event.addListener(L,"domready",d)))},[d]),y.useEffect(()=>{L&&f&&(W!==null&&google.maps.event.removeListener(W),q(google.maps.event.addListener(L,"content_changed",f)))},[f]),y.useEffect(()=>{L&&m&&(Q!==null&&google.maps.event.removeListener(Q),R(google.maps.event.addListener(L,"position_changed",m)))},[m]),y.useEffect(()=>{L&&_&&(P!==null&&google.maps.event.removeListener(P),T(google.maps.event.addListener(L,"zindex_changed",_)))},[_]),y.useEffect(()=>{if(k){var O=r||Lx,{position:N}=O,A=hp(O,Tx),ye;N&&!(N instanceof google.maps.LatLng)&&(ye=new google.maps.LatLng(N.lat,N.lng));var Se=new Gw(Lc(Lc({},A),ye?{position:ye}:{}));x.current=document.createElement("div"),D(Se),c&&B(google.maps.event.addListener(Se,"closeclick",c)),d&&X(google.maps.event.addListener(Se,"domready",d)),f&&q(google.maps.event.addListener(Se,"content_changed",f)),m&&R(google.maps.event.addListener(Se,"position_changed",m)),_&&T(google.maps.event.addListener(Se,"zindex_changed",_)),Se.setContent(x.current),t?Se.open(k,t):Se.getPosition()?Se.open(k):kt(!1,"You must provide either an anchor or a position prop for <InfoBox>."),S&&S(Se)}return()=>{L!==null&&(b&&google.maps.event.removeListener(b),W&&google.maps.event.removeListener(W),j&&google.maps.event.removeListener(j),Q&&google.maps.event.removeListener(Q),P&&google.maps.event.removeListener(P),C&&C(L),L.close())}},[]),x.current?Go.createPortal(y.Children.only(e),x.current):null}y.memo(Px);class kx extends y.PureComponent{constructor(){super(...arguments),J(this,"registeredEvents",[]),J(this,"containerElement",null),J(this,"state",{infoBox:null}),J(this,"open",(e,t)=>{t?this.context!==null&&e.open(this.context,t):e.getPosition()?this.context!==null&&e.open(this.context):kt(!1,"You must provide either an anchor or a position prop for <InfoBox>.")}),J(this,"setInfoBoxCallback",()=>{this.state.infoBox!==null&&this.containerElement!==null&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))})}componentDidMount(){var e=this.props.options||{},{position:t}=e,r=hp(e,Ix),o;t&&!(t instanceof google.maps.LatLng)&&(o=new google.maps.LatLng(t.lat,t.lng));var a=new Gw(Lc(Lc({},r),o?{position:o}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=Be({updaterMap:fy,eventMap:dy,prevProps:{},nextProps:this.props,instance:a}),this.setState({infoBox:a},this.setInfoBoxCallback)}componentDidUpdate(e){var{infoBox:t}=this.state;t!==null&&(ze(this.registeredEvents),this.registeredEvents=Be({updaterMap:fy,eventMap:dy,prevProps:e,nextProps:this.props,instance:t}))}componentWillUnmount(){var{onUnmount:e}=this.props,{infoBox:t}=this.state;t!==null&&(e&&e(t),ze(this.registeredEvents),t.close())}render(){return this.containerElement?Go.createPortal(y.Children.only(this.props.children),this.containerElement):null}}J(kx,"contextType",Fe);var zd,py;function Rx(){return py||(py=1,zd=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,o,a;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(o=r;o--!==0;)if(!n(e[o],t[o]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(o=r;o--!==0;)if(!Object.prototype.hasOwnProperty.call(t,a[o]))return!1;for(o=r;o--!==0;){var c=a[o];if(!n(e[c],t[c]))return!1}return!0}return e!==e&&t!==t}),zd}var Ax=Rx(),gy=Uw(Ax),my=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],$d=1,ja=8;class dp{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[t,r]=new Uint8Array(e,0,2);if(t!==219)throw new Error("Data does not appear to be in a KDBush format.");var o=r>>4;if(o!==$d)throw new Error("Got v".concat(o," data when expected v").concat($d,"."));var a=my[r&15];if(!a)throw new Error("Unrecognized array type.");var[c]=new Uint16Array(e,2,1),[d]=new Uint32Array(e,4,1);return new dp(d,c,a,e)}constructor(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:64,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Float64Array,o=arguments.length>3?arguments[3]:void 0;if(isNaN(e)||e<0)throw new Error("Unpexpected numItems value: ".concat(e,"."));this.numItems=+e,this.nodeSize=Math.min(Math.max(+t,2),65535),this.ArrayType=r,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;var a=my.indexOf(this.ArrayType),c=e*2*this.ArrayType.BYTES_PER_ELEMENT,d=e*this.IndexArrayType.BYTES_PER_ELEMENT,f=(8-d%8)%8;if(a<0)throw new Error("Unexpected typed array class: ".concat(r,"."));o&&o instanceof ArrayBuffer?(this.data=o,this.ids=new this.IndexArrayType(this.data,ja,e),this.coords=new this.ArrayType(this.data,ja+d+f,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(ja+c+d+f),this.ids=new this.IndexArrayType(this.data,ja,e),this.coords=new this.ArrayType(this.data,ja+d+f,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,($d<<4)+a]),new Uint16Array(this.data,2,1)[0]=t,new Uint32Array(this.data,4,1)[0]=e)}add(e,t){var r=this._pos>>1;return this.ids[r]=r,this.coords[this._pos++]=e,this.coords[this._pos++]=t,r}finish(){var e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return yf(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,t,r,o){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:a,coords:c,nodeSize:d}=this,f=[0,a.length-1,0],m=[];f.length;){var _=f.pop()||0,S=f.pop()||0,C=f.pop()||0;if(S-C<=d){for(var k=C;k<=S;k++){var L=c[2*k],D=c[2*k+1];L>=e&&L<=r&&D>=t&&D<=o&&m.push(a[k])}continue}var b=C+S>>1,B=c[2*b],j=c[2*b+1];B>=e&&B<=r&&j>=t&&j<=o&&m.push(a[b]),(_===0?e<=B:t<=j)&&(f.push(C),f.push(b-1),f.push(1-_)),(_===0?r>=B:o>=j)&&(f.push(b+1),f.push(S),f.push(1-_))}return m}within(e,t,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:o,coords:a,nodeSize:c}=this,d=[0,o.length-1,0],f=[],m=r*r;d.length;){var _=d.pop()||0,S=d.pop()||0,C=d.pop()||0;if(S-C<=c){for(var k=C;k<=S;k++)vy(a[2*k],a[2*k+1],e,t)<=m&&f.push(o[k]);continue}var L=C+S>>1,D=a[2*L],b=a[2*L+1];vy(D,b,e,t)<=m&&f.push(o[L]),(_===0?e-r<=D:t-r<=b)&&(d.push(C),d.push(L-1),d.push(1-_)),(_===0?e+r>=D:t+r>=b)&&(d.push(L+1),d.push(S),d.push(1-_))}return f}}function yf(n,e,t,r,o,a){if(!(o-r<=t)){var c=r+o>>1;Kw(n,e,c,r,o,a),yf(n,e,t,r,c-1,1-a),yf(n,e,t,c+1,o,1-a)}}function Kw(n,e,t,r,o,a){for(;o>r;){if(o-r>600){var c=o-r+1,d=t-r+1,f=Math.log(c),m=.5*Math.exp(2*f/3),_=.5*Math.sqrt(f*m*(c-m)/c)*(d-c/2<0?-1:1),S=Math.max(r,Math.floor(t-d*m/c+_)),C=Math.min(o,Math.floor(t+(c-d)*m/c+_));Kw(n,e,t,S,C,a)}var k=e[2*t+a],L=r,D=o;for(Ba(n,e,r,t),e[2*o+a]>k&&Ba(n,e,r,o);L<D;){for(Ba(n,e,L,D),L++,D--;e[2*L+a]<k;)L++;for(;e[2*D+a]>k;)D--}e[2*r+a]===k?Ba(n,e,r,D):(D++,Ba(n,e,D,o)),D<=t&&(r=D+1),t<=D&&(o=D-1)}}function Ba(n,e,t,r){Wd(n,t,r),Wd(e,2*t,2*r),Wd(e,2*t+1,2*r+1)}function Wd(n,e,t){var r=n[e];n[e]=n[t],n[t]=r}function vy(n,e,t,r){var o=n-t,a=e-r;return o*o+a*a}var xx={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:n=>n},yy=Math.fround||(n=>e=>(n[0]=+e,n[0]))(new Float32Array(1)),ks=2,Fi=3,Hd=4,Ui=5,Qw=6;class bx{constructor(e){this.options=Object.assign(Object.create(xx),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){var{log:t,minZoom:r,maxZoom:o}=this.options;t&&console.time("total time");var a="prepare ".concat(e.length," points");t&&console.time(a),this.points=e;for(var c=[],d=0;d<e.length;d++){var f=e[d];if(f.geometry){var[m,_]=f.geometry.coordinates,S=yy($u(m)),C=yy(Wu(_));c.push(S,C,1/0,d,-1,1),this.options.reduce&&c.push(0)}}var k=this.trees[o+1]=this._createTree(c);t&&console.timeEnd(a);for(var L=o;L>=r;L--){var D=+Date.now();k=this.trees[L]=this._createTree(this._cluster(k,L)),t&&console.log("z%d: %d clusters in %dms",L,k.numItems,+Date.now()-D)}return t&&console.timeEnd("total time"),this}getClusters(e,t){var r=((e[0]+180)%360+360)%360-180,o=Math.max(-90,Math.min(90,e[1])),a=e[2]===180?180:((e[2]+180)%360+360)%360-180,c=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,a=180;else if(r>a){var d=this.getClusters([r,o,180,c],t),f=this.getClusters([-180,o,a,c],t);return d.concat(f)}var m=this.trees[this._limitZoom(t)],_=m.range($u(r),Wu(c),$u(a),Wu(o)),S=m.data,C=[];for(var k of _){var L=this.stride*k;C.push(S[L+Ui]>1?_y(S,L,this.clusterProps):this.points[S[L+Fi]])}return C}getChildren(e){var t=this._getOriginId(e),r=this._getOriginZoom(e),o="No cluster with the specified id.",a=this.trees[r];if(!a)throw new Error(o);var c=a.data;if(t*this.stride>=c.length)throw new Error(o);var d=this.options.radius/(this.options.extent*Math.pow(2,r-1)),f=c[t*this.stride],m=c[t*this.stride+1],_=a.within(f,m,d),S=[];for(var C of _){var k=C*this.stride;c[k+Hd]===e&&S.push(c[k+Ui]>1?_y(c,k,this.clusterProps):this.points[c[k+Fi]])}if(S.length===0)throw new Error(o);return S}getLeaves(e,t,r){t=t||10,r=r||0;var o=[];return this._appendLeaves(o,e,t,r,0),o}getTile(e,t,r){var o=this.trees[this._limitZoom(e)],a=Math.pow(2,e),{extent:c,radius:d}=this.options,f=d/c,m=(r-f)/a,_=(r+1+f)/a,S={features:[]};return this._addTileFeatures(o.range((t-f)/a,m,(t+1+f)/a,_),o.data,t,r,a,S),t===0&&this._addTileFeatures(o.range(1-f/a,m,1,_),o.data,a,r,a,S),t===a-1&&this._addTileFeatures(o.range(0,m,f/a,_),o.data,-1,r,a,S),S.features.length?S:null}getClusterExpansionZoom(e){for(var t=this._getOriginZoom(e)-1;t<=this.options.maxZoom;){var r=this.getChildren(e);if(t++,r.length!==1)break;e=r[0].properties.cluster_id}return t}_appendLeaves(e,t,r,o,a){var c=this.getChildren(t);for(var d of c){var f=d.properties;if(f&&f.cluster?a+f.point_count<=o?a+=f.point_count:a=this._appendLeaves(e,f.cluster_id,r,o,a):a<o?a++:e.push(d),e.length===r)break}return a}_createTree(e){for(var t=new dp(e.length/this.stride|0,this.options.nodeSize,Float32Array),r=0;r<e.length;r+=this.stride)t.add(e[r],e[r+1]);return t.finish(),t.data=e,t}_addTileFeatures(e,t,r,o,a,c){for(var d of e){var f=d*this.stride,m=t[f+Ui]>1,_=void 0,S=void 0,C=void 0;if(m)_=Yw(t,f,this.clusterProps),S=t[f],C=t[f+1];else{var k=this.points[t[f+Fi]];_=k.properties;var[L,D]=k.geometry.coordinates;S=$u(L),C=Wu(D)}var b={type:1,geometry:[[Math.round(this.options.extent*(S*a-r)),Math.round(this.options.extent*(C*a-o))]],tags:_},B=void 0;m||this.options.generateId?B=t[f+Fi]:B=this.points[t[f+Fi]].id,B!==void 0&&(b.id=B),c.features.push(b)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,t){for(var{radius:r,extent:o,reduce:a,minPoints:c}=this.options,d=r/(o*Math.pow(2,t)),f=e.data,m=[],_=this.stride,S=0;S<f.length;S+=_)if(!(f[S+ks]<=t)){f[S+ks]=t;var C=f[S],k=f[S+1],L=e.within(f[S],f[S+1],d),D=f[S+Ui],b=D;for(var B of L){var j=B*_;f[j+ks]>t&&(b+=f[j+Ui])}if(b>D&&b>=c){var X=C*D,W=k*D,q=void 0,Q=-1,R=((S/_|0)<<5)+(t+1)+this.points.length;for(var P of L){var T=P*_;if(!(f[T+ks]<=t)){f[T+ks]=t;var x=f[T+Ui];X+=f[T]*x,W+=f[T+1]*x,f[T+Hd]=R,a&&(q||(q=this._map(f,S,!0),Q=this.clusterProps.length,this.clusterProps.push(q)),a(q,this._map(f,T)))}}f[S+Hd]=R,m.push(X/b,W/b,1/0,R,-1,b),a&&m.push(Q)}else{for(var O=0;O<_;O++)m.push(f[S+O]);if(b>1)for(var N of L){var A=N*_;if(!(f[A+ks]<=t)){f[A+ks]=t;for(var ye=0;ye<_;ye++)m.push(f[A+ye])}}}}return m}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,t,r){if(e[t+Ui]>1){var o=this.clusterProps[e[t+Qw]];return r?Object.assign({},o):o}var a=this.points[e[t+Fi]].properties,c=this.options.map(a);return r&&c===a?Object.assign({},c):c}}function _y(n,e,t){return{type:"Feature",id:n[e+Fi],properties:Yw(n,e,t),geometry:{type:"Point",coordinates:[Mx(n[e]),Ox(n[e+1])]}}}function Yw(n,e,t){var r=n[e+Ui],o=r>=1e4?"".concat(Math.round(r/1e3),"k"):r>=1e3?"".concat(Math.round(r/100)/10,"k"):r,a=n[e+Qw],c=a===-1?{}:Object.assign({},t[a]);return Object.assign(c,{cluster:!0,cluster_id:n[e+Fi],point_count:r,point_count_abbreviated:o})}function $u(n){return n/360+.5}function Wu(n){var e=Math.sin(n*Math.PI/180),t=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return t<0?0:t>1?1:t}function Mx(n){return(n-.5)*360}function Ox(n){var e=(180-n*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Dx(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]]);return t}class Cn{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,t){this.isAdvancedMarker(e)?e.map=t:e.setMap(t)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}}class _f{constructor(e){var{markers:t,position:r}=e;this.markers=t,r&&(r instanceof google.maps.LatLng?this._position=r:this._position=new google.maps.LatLng(r))}get bounds(){if(!(this.markers.length===0&&!this._position)){var e=new google.maps.LatLngBounds(this._position,this._position);for(var t of this.markers)e.extend(Cn.getPosition(t));return e}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>Cn.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(Cn.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class Nx{constructor(e){var{maxZoom:t=16}=e;this.maxZoom=t}noop(e){var{markers:t}=e;return Vx(t)}}var Vx=n=>{var e=n.map(t=>new _f({position:Cn.getPosition(t),markers:[t]}));return e};class Ux extends Nx{constructor(e){var{maxZoom:t,radius:r=60}=e,o=Dx(e,["maxZoom","radius"]);super({maxZoom:t}),this.state={zoom:-1},this.superCluster=new bx(Object.assign({maxZoom:this.maxZoom,radius:r},o))}calculate(e){var t=!1,r={zoom:e.map.getZoom()};if(!gy(e.markers,this.markers)){t=!0,this.markers=[...e.markers];var o=this.markers.map(a=>{var c=Cn.getPosition(a),d=[c.lng(),c.lat()];return{type:"Feature",geometry:{type:"Point",coordinates:d},properties:{marker:a}}});this.superCluster.load(o)}return t||(this.state.zoom<=this.maxZoom||r.zoom<=this.maxZoom)&&(t=!gy(this.state,r)),this.state=r,t&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:t}}cluster(e){var{map:t}=e;return this.superCluster.getClusters([-180,-90,180,90],Math.round(t.getZoom())).map(r=>this.transformCluster(r))}transformCluster(e){var{geometry:{coordinates:[t,r]},properties:o}=e;if(o.cluster)return new _f({markers:this.superCluster.getLeaves(o.cluster_id,1/0).map(c=>c.properties.marker),position:{lat:r,lng:t}});var a=o.marker;return new _f({markers:[a],position:Cn.getPosition(a)})}}class Fx{constructor(e,t){this.markers={sum:e.length};var r=t.map(a=>a.count),o=r.reduce((a,c)=>a+c,0);this.clusters={count:t.length,markers:{mean:o/t.length,sum:o,min:Math.min(...r),max:Math.max(...r)}}}}class jx{render(e,t,r){var{count:o,position:a}=e,c=o>Math.max(10,t.clusters.markers.mean)?"#ff0000":"#0000ff",d='<svg fill="'.concat(c,`" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">`).concat(o,`</text>
</svg>`),f="Cluster of ".concat(o," markers"),m=Number(google.maps.Marker.MAX_ZINDEX)+o;if(Cn.isAdvancedMarkerAvailable(r)){var _=new DOMParser,S=_.parseFromString(d,"image/svg+xml").documentElement;S.setAttribute("transform","translate(0 25)");var C={map:r,position:a,zIndex:m,title:f,content:S};return new google.maps.marker.AdvancedMarkerElement(C)}var k={position:a,zIndex:m,title:f,icon:{url:"data:image/svg+xml;base64,".concat(btoa(d)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(k)}}function Bx(n,e){for(var t in e.prototype)n.prototype[t]=e.prototype[t]}class fp{constructor(){Bx(fp,google.maps.OverlayView)}}var Ya;(function(n){n.CLUSTERING_BEGIN="clusteringbegin",n.CLUSTERING_END="clusteringend",n.CLUSTER_CLICK="click"})(Ya||(Ya={}));var zx=(n,e,t)=>{t.fitBounds(e.bounds)};class $x extends fp{constructor(e){var{map:t,markers:r=[],algorithmOptions:o={},algorithm:a=new Ux(o),renderer:c=new jx,onClusterClick:d=zx}=e;super(),this.markers=[...r],this.clusters=[],this.algorithm=a,this.renderer=c,this.onClusterClick=d,t&&this.setMap(t)}addMarker(e,t){this.markers.includes(e)||(this.markers.push(e),t||this.render())}addMarkers(e,t){e.forEach(r=>{this.addMarker(r,!0)}),t||this.render()}removeMarker(e,t){var r=this.markers.indexOf(e);return r===-1?!1:(Cn.setMap(e,null),this.markers.splice(r,1),t||this.render(),!0)}removeMarkers(e,t){var r=!1;return e.forEach(o=>{r=this.removeMarker(o,!0)||r}),r&&!t&&this.render(),r}clearMarkers(e){this.markers.length=0,e||this.render()}render(){var e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,Ya.CLUSTERING_BEGIN,this);var{clusters:t,changed:r}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(r||r==null){var o=new Set;for(var a of t)a.markers.length==1&&o.add(a.markers[0]);var c=[];for(var d of this.clusters)d.marker!=null&&(d.markers.length==1?o.has(d.marker)||Cn.setMap(d.marker,null):c.push(d.marker));this.clusters=t,this.renderClusters(),requestAnimationFrame(()=>c.forEach(f=>Cn.setMap(f,null)))}google.maps.event.trigger(this,Ya.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>Cn.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){var e=new Fx(this.markers,this.clusters),t=this.getMap();this.clusters.forEach(r=>{r.markers.length===1?r.marker=r.markers[0]:(r.marker=this.renderer.render(r,e,t),r.markers.forEach(o=>Cn.setMap(o,null)),this.onClusterClick&&r.marker.addListener("click",o=>{google.maps.event.trigger(this,Ya.CLUSTER_CLICK,r),this.onClusterClick(o,r,t)})),Cn.setMap(r.marker,t)})}}function Ey(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function wy(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Ey(Object(t),!0).forEach(function(r){J(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Ey(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Wx(n){var e=$A(),[t,r]=y.useState(null);return y.useEffect(()=>{if(e&&t===null){var o=new $x(wy(wy({},n),{},{map:e}));r(o)}},[e]),t}function Hx(n){var{children:e,options:t}=n,r=Wx(t);return r!==null?e(r):null}y.memo(Hx);var Sy={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},Cy={options(n,e){n.setOptions(e)},position(n,e){n.setPosition(e)},zIndex(n,e){n.setZIndex(e)}};function qx(n){var{children:e,anchor:t,options:r,position:o,zIndex:a,onCloseClick:c,onDomReady:d,onContentChanged:f,onPositionChanged:m,onZindexChanged:_,onLoad:S,onUnmount:C}=n,k=y.useContext(Fe),[L,D]=y.useState(null),[b,B]=y.useState(null),[j,X]=y.useState(null),[W,q]=y.useState(null),[Q,R]=y.useState(null),[P,T]=y.useState(null),x=y.useRef(null);return y.useEffect(()=>{L!==null&&(L.close(),t?L.open(k,t):L.getPosition()&&L.open(k))},[k,L,t]),y.useEffect(()=>{r&&L!==null&&L.setOptions(r)},[L,r]),y.useEffect(()=>{o&&L!==null&&L.setPosition(o)},[o]),y.useEffect(()=>{typeof a=="number"&&L!==null&&L.setZIndex(a)},[a]),y.useEffect(()=>{L&&c&&(b!==null&&google.maps.event.removeListener(b),B(google.maps.event.addListener(L,"closeclick",c)))},[c]),y.useEffect(()=>{L&&d&&(j!==null&&google.maps.event.removeListener(j),X(google.maps.event.addListener(L,"domready",d)))},[d]),y.useEffect(()=>{L&&f&&(W!==null&&google.maps.event.removeListener(W),q(google.maps.event.addListener(L,"content_changed",f)))},[f]),y.useEffect(()=>{L&&m&&(Q!==null&&google.maps.event.removeListener(Q),R(google.maps.event.addListener(L,"position_changed",m)))},[m]),y.useEffect(()=>{L&&_&&(P!==null&&google.maps.event.removeListener(P),T(google.maps.event.addListener(L,"zindex_changed",_)))},[_]),y.useEffect(()=>{var O=new google.maps.InfoWindow(r);return D(O),x.current=document.createElement("div"),c&&B(google.maps.event.addListener(O,"closeclick",c)),d&&X(google.maps.event.addListener(O,"domready",d)),f&&q(google.maps.event.addListener(O,"content_changed",f)),m&&R(google.maps.event.addListener(O,"position_changed",m)),_&&T(google.maps.event.addListener(O,"zindex_changed",_)),O.setContent(x.current),o&&O.setPosition(o),a&&O.setZIndex(a),t?O.open(k,t):O.getPosition()?O.open(k):kt(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),S&&S(O),()=>{b&&google.maps.event.removeListener(b),W&&google.maps.event.removeListener(W),j&&google.maps.event.removeListener(j),Q&&google.maps.event.removeListener(Q),P&&google.maps.event.removeListener(P),C&&C(O),O.close()}},[]),x.current?Go.createPortal(y.Children.only(e),x.current):null}y.memo(qx);class Gx extends y.PureComponent{constructor(){super(...arguments),J(this,"registeredEvents",[]),J(this,"containerElement",null),J(this,"state",{infoWindow:null}),J(this,"open",(e,t)=>{t?e.open(this.context,t):e.getPosition()?e.open(this.context):kt(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")}),J(this,"setInfoWindowCallback",()=>{this.state.infoWindow!==null&&this.containerElement!==null&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))})}componentDidMount(){var e=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=Be({updaterMap:Cy,eventMap:Sy,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({infoWindow:e}),this.setInfoWindowCallback)}componentDidUpdate(e){this.state.infoWindow!==null&&(ze(this.registeredEvents),this.registeredEvents=Be({updaterMap:Cy,eventMap:Sy,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){this.state.infoWindow!==null&&(ze(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?Go.createPortal(y.Children.only(this.props.children),this.containerElement):null}}J(Gx,"contextType",Fe);function Ty(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function Pc(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Ty(Object(t),!0).forEach(function(r){J(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Ty(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var Iy={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Ly={draggable(n,e){n.setDraggable(e)},editable(n,e){n.setEditable(e)},map(n,e){n.setMap(e)},options(n,e){n.setOptions(e)},path(n,e){n.setPath(e)},visible(n,e){n.setVisible(e)}},Kx={};function Qx(n){var{options:e,draggable:t,editable:r,visible:o,path:a,onDblClick:c,onDragEnd:d,onDragStart:f,onMouseDown:m,onMouseMove:_,onMouseOut:S,onMouseOver:C,onMouseUp:k,onRightClick:L,onClick:D,onDrag:b,onLoad:B,onUnmount:j}=n,X=y.useContext(Fe),[W,q]=y.useState(null),[Q,R]=y.useState(null),[P,T]=y.useState(null),[x,O]=y.useState(null),[N,A]=y.useState(null),[ye,Se]=y.useState(null),[Ae,Te]=y.useState(null),[ee,ce]=y.useState(null),[re,U]=y.useState(null),[Y,ne]=y.useState(null),[pe,G]=y.useState(null),[Ce,Ie]=y.useState(null);return y.useEffect(()=>{W!==null&&W.setMap(X)},[X]),y.useEffect(()=>{typeof e<"u"&&W!==null&&W.setOptions(e)},[W,e]),y.useEffect(()=>{typeof t<"u"&&W!==null&&W.setDraggable(t)},[W,t]),y.useEffect(()=>{typeof r<"u"&&W!==null&&W.setEditable(r)},[W,r]),y.useEffect(()=>{typeof o<"u"&&W!==null&&W.setVisible(o)},[W,o]),y.useEffect(()=>{typeof a<"u"&&W!==null&&W.setPath(a)},[W,a]),y.useEffect(()=>{W&&c&&(Q!==null&&google.maps.event.removeListener(Q),R(google.maps.event.addListener(W,"dblclick",c)))},[c]),y.useEffect(()=>{W&&d&&(P!==null&&google.maps.event.removeListener(P),T(google.maps.event.addListener(W,"dragend",d)))},[d]),y.useEffect(()=>{W&&f&&(x!==null&&google.maps.event.removeListener(x),O(google.maps.event.addListener(W,"dragstart",f)))},[f]),y.useEffect(()=>{W&&m&&(N!==null&&google.maps.event.removeListener(N),A(google.maps.event.addListener(W,"mousedown",m)))},[m]),y.useEffect(()=>{W&&_&&(ye!==null&&google.maps.event.removeListener(ye),Se(google.maps.event.addListener(W,"mousemove",_)))},[_]),y.useEffect(()=>{W&&S&&(Ae!==null&&google.maps.event.removeListener(Ae),Te(google.maps.event.addListener(W,"mouseout",S)))},[S]),y.useEffect(()=>{W&&C&&(ee!==null&&google.maps.event.removeListener(ee),ce(google.maps.event.addListener(W,"mouseover",C)))},[C]),y.useEffect(()=>{W&&k&&(re!==null&&google.maps.event.removeListener(re),U(google.maps.event.addListener(W,"mouseup",k)))},[k]),y.useEffect(()=>{W&&L&&(Y!==null&&google.maps.event.removeListener(Y),ne(google.maps.event.addListener(W,"rightclick",L)))},[L]),y.useEffect(()=>{W&&D&&(pe!==null&&google.maps.event.removeListener(pe),G(google.maps.event.addListener(W,"click",D)))},[D]),y.useEffect(()=>{W&&b&&(Ce!==null&&google.maps.event.removeListener(Ce),Ie(google.maps.event.addListener(W,"drag",b)))},[b]),y.useEffect(()=>{var de=new google.maps.Polyline(Pc(Pc({},e||Kx),{},{map:X}));return a&&de.setPath(a),typeof o<"u"&&de.setVisible(o),typeof r<"u"&&de.setEditable(r),typeof t<"u"&&de.setDraggable(t),c&&R(google.maps.event.addListener(de,"dblclick",c)),d&&T(google.maps.event.addListener(de,"dragend",d)),f&&O(google.maps.event.addListener(de,"dragstart",f)),m&&A(google.maps.event.addListener(de,"mousedown",m)),_&&Se(google.maps.event.addListener(de,"mousemove",_)),S&&Te(google.maps.event.addListener(de,"mouseout",S)),C&&ce(google.maps.event.addListener(de,"mouseover",C)),k&&U(google.maps.event.addListener(de,"mouseup",k)),L&&ne(google.maps.event.addListener(de,"rightclick",L)),D&&G(google.maps.event.addListener(de,"click",D)),b&&Ie(google.maps.event.addListener(de,"drag",b)),q(de),B&&B(de),()=>{Q!==null&&google.maps.event.removeListener(Q),P!==null&&google.maps.event.removeListener(P),x!==null&&google.maps.event.removeListener(x),N!==null&&google.maps.event.removeListener(N),ye!==null&&google.maps.event.removeListener(ye),Ae!==null&&google.maps.event.removeListener(Ae),ee!==null&&google.maps.event.removeListener(ee),re!==null&&google.maps.event.removeListener(re),Y!==null&&google.maps.event.removeListener(Y),pe!==null&&google.maps.event.removeListener(pe),j&&j(de),de.setMap(null)}},[]),null}y.memo(Qx);class Yx extends y.PureComponent{constructor(){super(...arguments),J(this,"registeredEvents",[]),J(this,"state",{polyline:null}),J(this,"setPolylineCallback",()=>{this.state.polyline!==null&&this.props.onLoad&&this.props.onLoad(this.state.polyline)})}componentDidMount(){var e=new google.maps.Polyline(Pc(Pc({},this.props.options),{},{map:this.context}));this.registeredEvents=Be({updaterMap:Ly,eventMap:Iy,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{polyline:e}},this.setPolylineCallback)}componentDidUpdate(e){this.state.polyline!==null&&(ze(this.registeredEvents),this.registeredEvents=Be({updaterMap:Ly,eventMap:Iy,prevProps:e,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),ze(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}J(Yx,"contextType",Fe);function Py(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function ky(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Py(Object(t),!0).forEach(function(r){J(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Py(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var Ry={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Ay={draggable(n,e){n.setDraggable(e)},editable(n,e){n.setEditable(e)},map(n,e){n.setMap(e)},options(n,e){n.setOptions(e)},path(n,e){n.setPath(e)},paths(n,e){n.setPaths(e)},visible(n,e){n.setVisible(e)}};function Zx(n){var{options:e,draggable:t,editable:r,visible:o,path:a,paths:c,onDblClick:d,onDragEnd:f,onDragStart:m,onMouseDown:_,onMouseMove:S,onMouseOut:C,onMouseOver:k,onMouseUp:L,onRightClick:D,onClick:b,onDrag:B,onLoad:j,onUnmount:X,onEdit:W}=n,q=y.useContext(Fe),[Q,R]=y.useState(null),[P,T]=y.useState(null),[x,O]=y.useState(null),[N,A]=y.useState(null),[ye,Se]=y.useState(null),[Ae,Te]=y.useState(null),[ee,ce]=y.useState(null),[re,U]=y.useState(null),[Y,ne]=y.useState(null),[pe,G]=y.useState(null),[Ce,Ie]=y.useState(null),[de,be]=y.useState(null);return y.useEffect(()=>{Q!==null&&Q.setMap(q)},[q]),y.useEffect(()=>{typeof e<"u"&&Q!==null&&Q.setOptions(e)},[Q,e]),y.useEffect(()=>{typeof t<"u"&&Q!==null&&Q.setDraggable(t)},[Q,t]),y.useEffect(()=>{typeof r<"u"&&Q!==null&&Q.setEditable(r)},[Q,r]),y.useEffect(()=>{typeof o<"u"&&Q!==null&&Q.setVisible(o)},[Q,o]),y.useEffect(()=>{typeof a<"u"&&Q!==null&&Q.setPath(a)},[Q,a]),y.useEffect(()=>{typeof c<"u"&&Q!==null&&Q.setPaths(c)},[Q,c]),y.useEffect(()=>{Q&&typeof d=="function"&&(P!==null&&google.maps.event.removeListener(P),T(google.maps.event.addListener(Q,"dblclick",d)))},[d]),y.useEffect(()=>{Q&&(google.maps.event.addListener(Q.getPath(),"insert_at",()=>{W==null||W(Q)}),google.maps.event.addListener(Q.getPath(),"set_at",()=>{W==null||W(Q)}),google.maps.event.addListener(Q.getPath(),"remove_at",()=>{W==null||W(Q)}))},[Q,W]),y.useEffect(()=>{Q&&typeof f=="function"&&(x!==null&&google.maps.event.removeListener(x),O(google.maps.event.addListener(Q,"dragend",f)))},[f]),y.useEffect(()=>{Q&&typeof m=="function"&&(N!==null&&google.maps.event.removeListener(N),A(google.maps.event.addListener(Q,"dragstart",m)))},[m]),y.useEffect(()=>{Q&&typeof _=="function"&&(ye!==null&&google.maps.event.removeListener(ye),Se(google.maps.event.addListener(Q,"mousedown",_)))},[_]),y.useEffect(()=>{Q&&typeof S=="function"&&(Ae!==null&&google.maps.event.removeListener(Ae),Te(google.maps.event.addListener(Q,"mousemove",S)))},[S]),y.useEffect(()=>{Q&&typeof C=="function"&&(ee!==null&&google.maps.event.removeListener(ee),ce(google.maps.event.addListener(Q,"mouseout",C)))},[C]),y.useEffect(()=>{Q&&typeof k=="function"&&(re!==null&&google.maps.event.removeListener(re),U(google.maps.event.addListener(Q,"mouseover",k)))},[k]),y.useEffect(()=>{Q&&typeof L=="function"&&(Y!==null&&google.maps.event.removeListener(Y),ne(google.maps.event.addListener(Q,"mouseup",L)))},[L]),y.useEffect(()=>{Q&&typeof D=="function"&&(pe!==null&&google.maps.event.removeListener(pe),G(google.maps.event.addListener(Q,"rightclick",D)))},[D]),y.useEffect(()=>{Q&&typeof b=="function"&&(Ce!==null&&google.maps.event.removeListener(Ce),Ie(google.maps.event.addListener(Q,"click",b)))},[b]),y.useEffect(()=>{Q&&typeof B=="function"&&(de!==null&&google.maps.event.removeListener(de),be(google.maps.event.addListener(Q,"drag",B)))},[B]),y.useEffect(()=>{var me=new google.maps.Polygon(ky(ky({},e),{},{map:q}));return a&&me.setPath(a),c&&me.setPaths(c),typeof o<"u"&&me.setVisible(o),typeof r<"u"&&me.setEditable(r),typeof t<"u"&&me.setDraggable(t),d&&T(google.maps.event.addListener(me,"dblclick",d)),f&&O(google.maps.event.addListener(me,"dragend",f)),m&&A(google.maps.event.addListener(me,"dragstart",m)),_&&Se(google.maps.event.addListener(me,"mousedown",_)),S&&Te(google.maps.event.addListener(me,"mousemove",S)),C&&ce(google.maps.event.addListener(me,"mouseout",C)),k&&U(google.maps.event.addListener(me,"mouseover",k)),L&&ne(google.maps.event.addListener(me,"mouseup",L)),D&&G(google.maps.event.addListener(me,"rightclick",D)),b&&Ie(google.maps.event.addListener(me,"click",b)),B&&be(google.maps.event.addListener(me,"drag",B)),R(me),j&&j(me),()=>{P!==null&&google.maps.event.removeListener(P),x!==null&&google.maps.event.removeListener(x),N!==null&&google.maps.event.removeListener(N),ye!==null&&google.maps.event.removeListener(ye),Ae!==null&&google.maps.event.removeListener(Ae),ee!==null&&google.maps.event.removeListener(ee),re!==null&&google.maps.event.removeListener(re),Y!==null&&google.maps.event.removeListener(Y),pe!==null&&google.maps.event.removeListener(pe),Ce!==null&&google.maps.event.removeListener(Ce),X&&X(me),me.setMap(null)}},[]),null}y.memo(Zx);class Jx extends y.PureComponent{constructor(){super(...arguments),J(this,"registeredEvents",[])}componentDidMount(){var e=this.props.options||{};this.polygon=new google.maps.Polygon(e),this.polygon.setMap(this.context),this.registeredEvents=Be({updaterMap:Ay,eventMap:Ry,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(e){this.polygon&&(ze(this.registeredEvents),this.registeredEvents=Be({updaterMap:Ay,eventMap:Ry,prevProps:e,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),ze(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}J(Jx,"contextType",Fe);function xy(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function kc(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?xy(Object(t),!0).forEach(function(r){J(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):xy(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var by={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},My={bounds(n,e){n.setBounds(e)},draggable(n,e){n.setDraggable(e)},editable(n,e){n.setEditable(e)},map(n,e){n.setMap(e)},options(n,e){n.setOptions(e)},visible(n,e){n.setVisible(e)}};function Xx(n){var{options:e,bounds:t,draggable:r,editable:o,visible:a,onDblClick:c,onDragEnd:d,onDragStart:f,onMouseDown:m,onMouseMove:_,onMouseOut:S,onMouseOver:C,onMouseUp:k,onRightClick:L,onClick:D,onDrag:b,onBoundsChanged:B,onLoad:j,onUnmount:X}=n,W=y.useContext(Fe),[q,Q]=y.useState(null),[R,P]=y.useState(null),[T,x]=y.useState(null),[O,N]=y.useState(null),[A,ye]=y.useState(null),[Se,Ae]=y.useState(null),[Te,ee]=y.useState(null),[ce,re]=y.useState(null),[U,Y]=y.useState(null),[ne,pe]=y.useState(null),[G,Ce]=y.useState(null),[Ie,de]=y.useState(null),[be,me]=y.useState(null);return y.useEffect(()=>{q!==null&&q.setMap(W)},[W]),y.useEffect(()=>{typeof e<"u"&&q!==null&&q.setOptions(e)},[q,e]),y.useEffect(()=>{typeof r<"u"&&q!==null&&q.setDraggable(r)},[q,r]),y.useEffect(()=>{typeof o<"u"&&q!==null&&q.setEditable(o)},[q,o]),y.useEffect(()=>{typeof a<"u"&&q!==null&&q.setVisible(a)},[q,a]),y.useEffect(()=>{typeof t<"u"&&q!==null&&q.setBounds(t)},[q,t]),y.useEffect(()=>{q&&c&&(R!==null&&google.maps.event.removeListener(R),P(google.maps.event.addListener(q,"dblclick",c)))},[c]),y.useEffect(()=>{q&&d&&(T!==null&&google.maps.event.removeListener(T),x(google.maps.event.addListener(q,"dragend",d)))},[d]),y.useEffect(()=>{q&&f&&(O!==null&&google.maps.event.removeListener(O),N(google.maps.event.addListener(q,"dragstart",f)))},[f]),y.useEffect(()=>{q&&m&&(A!==null&&google.maps.event.removeListener(A),ye(google.maps.event.addListener(q,"mousedown",m)))},[m]),y.useEffect(()=>{q&&_&&(Se!==null&&google.maps.event.removeListener(Se),Ae(google.maps.event.addListener(q,"mousemove",_)))},[_]),y.useEffect(()=>{q&&S&&(Te!==null&&google.maps.event.removeListener(Te),ee(google.maps.event.addListener(q,"mouseout",S)))},[S]),y.useEffect(()=>{q&&C&&(ce!==null&&google.maps.event.removeListener(ce),re(google.maps.event.addListener(q,"mouseover",C)))},[C]),y.useEffect(()=>{q&&k&&(U!==null&&google.maps.event.removeListener(U),Y(google.maps.event.addListener(q,"mouseup",k)))},[k]),y.useEffect(()=>{q&&L&&(ne!==null&&google.maps.event.removeListener(ne),pe(google.maps.event.addListener(q,"rightclick",L)))},[L]),y.useEffect(()=>{q&&D&&(G!==null&&google.maps.event.removeListener(G),Ce(google.maps.event.addListener(q,"click",D)))},[D]),y.useEffect(()=>{q&&b&&(Ie!==null&&google.maps.event.removeListener(Ie),de(google.maps.event.addListener(q,"drag",b)))},[b]),y.useEffect(()=>{q&&B&&(be!==null&&google.maps.event.removeListener(be),me(google.maps.event.addListener(q,"bounds_changed",B)))},[B]),y.useEffect(()=>{var Ue=new google.maps.Rectangle(kc(kc({},e),{},{map:W}));return typeof a<"u"&&Ue.setVisible(a),typeof o<"u"&&Ue.setEditable(o),typeof r<"u"&&Ue.setDraggable(r),typeof t<"u"&&Ue.setBounds(t),c&&P(google.maps.event.addListener(Ue,"dblclick",c)),d&&x(google.maps.event.addListener(Ue,"dragend",d)),f&&N(google.maps.event.addListener(Ue,"dragstart",f)),m&&ye(google.maps.event.addListener(Ue,"mousedown",m)),_&&Ae(google.maps.event.addListener(Ue,"mousemove",_)),S&&ee(google.maps.event.addListener(Ue,"mouseout",S)),C&&re(google.maps.event.addListener(Ue,"mouseover",C)),k&&Y(google.maps.event.addListener(Ue,"mouseup",k)),L&&pe(google.maps.event.addListener(Ue,"rightclick",L)),D&&Ce(google.maps.event.addListener(Ue,"click",D)),b&&de(google.maps.event.addListener(Ue,"drag",b)),B&&me(google.maps.event.addListener(Ue,"bounds_changed",B)),Q(Ue),j&&j(Ue),()=>{R!==null&&google.maps.event.removeListener(R),T!==null&&google.maps.event.removeListener(T),O!==null&&google.maps.event.removeListener(O),A!==null&&google.maps.event.removeListener(A),Se!==null&&google.maps.event.removeListener(Se),Te!==null&&google.maps.event.removeListener(Te),ce!==null&&google.maps.event.removeListener(ce),U!==null&&google.maps.event.removeListener(U),ne!==null&&google.maps.event.removeListener(ne),G!==null&&google.maps.event.removeListener(G),Ie!==null&&google.maps.event.removeListener(Ie),be!==null&&google.maps.event.removeListener(be),X&&X(Ue),Ue.setMap(null)}},[]),null}y.memo(Xx);class eb extends y.PureComponent{constructor(){super(...arguments),J(this,"registeredEvents",[]),J(this,"state",{rectangle:null}),J(this,"setRectangleCallback",()=>{this.state.rectangle!==null&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)})}componentDidMount(){var e=new google.maps.Rectangle(kc(kc({},this.props.options),{},{map:this.context}));this.registeredEvents=Be({updaterMap:My,eventMap:by,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{rectangle:e}},this.setRectangleCallback)}componentDidUpdate(e){this.state.rectangle!==null&&(ze(this.registeredEvents),this.registeredEvents=Be({updaterMap:My,eventMap:by,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),ze(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}J(eb,"contextType",Fe);function Oy(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function Rc(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Oy(Object(t),!0).forEach(function(r){J(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Oy(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var Dy={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Ny={center(n,e){n.setCenter(e)},draggable(n,e){n.setDraggable(e)},editable(n,e){n.setEditable(e)},map(n,e){n.setMap(e)},options(n,e){n.setOptions(e)},radius(n,e){n.setRadius(e)},visible(n,e){n.setVisible(e)}},tb={};function nb(n){var{options:e,center:t,radius:r,draggable:o,editable:a,visible:c,onDblClick:d,onDragEnd:f,onDragStart:m,onMouseDown:_,onMouseMove:S,onMouseOut:C,onMouseOver:k,onMouseUp:L,onRightClick:D,onClick:b,onDrag:B,onCenterChanged:j,onRadiusChanged:X,onLoad:W,onUnmount:q}=n,Q=y.useContext(Fe),[R,P]=y.useState(null),[T,x]=y.useState(null),[O,N]=y.useState(null),[A,ye]=y.useState(null),[Se,Ae]=y.useState(null),[Te,ee]=y.useState(null),[ce,re]=y.useState(null),[U,Y]=y.useState(null),[ne,pe]=y.useState(null),[G,Ce]=y.useState(null),[Ie,de]=y.useState(null),[be,me]=y.useState(null),[Ue,Rt]=y.useState(null),[At,fn]=y.useState(null);return y.useEffect(()=>{R!==null&&R.setMap(Q)},[Q]),y.useEffect(()=>{typeof e<"u"&&R!==null&&R.setOptions(e)},[R,e]),y.useEffect(()=>{typeof o<"u"&&R!==null&&R.setDraggable(o)},[R,o]),y.useEffect(()=>{typeof a<"u"&&R!==null&&R.setEditable(a)},[R,a]),y.useEffect(()=>{typeof c<"u"&&R!==null&&R.setVisible(c)},[R,c]),y.useEffect(()=>{typeof r=="number"&&R!==null&&R.setRadius(r)},[R,r]),y.useEffect(()=>{typeof t<"u"&&R!==null&&R.setCenter(t)},[R,t]),y.useEffect(()=>{R&&d&&(T!==null&&google.maps.event.removeListener(T),x(google.maps.event.addListener(R,"dblclick",d)))},[d]),y.useEffect(()=>{R&&f&&(O!==null&&google.maps.event.removeListener(O),N(google.maps.event.addListener(R,"dragend",f)))},[f]),y.useEffect(()=>{R&&m&&(A!==null&&google.maps.event.removeListener(A),ye(google.maps.event.addListener(R,"dragstart",m)))},[m]),y.useEffect(()=>{R&&_&&(Se!==null&&google.maps.event.removeListener(Se),Ae(google.maps.event.addListener(R,"mousedown",_)))},[_]),y.useEffect(()=>{R&&S&&(Te!==null&&google.maps.event.removeListener(Te),ee(google.maps.event.addListener(R,"mousemove",S)))},[S]),y.useEffect(()=>{R&&C&&(ce!==null&&google.maps.event.removeListener(ce),re(google.maps.event.addListener(R,"mouseout",C)))},[C]),y.useEffect(()=>{R&&k&&(U!==null&&google.maps.event.removeListener(U),Y(google.maps.event.addListener(R,"mouseover",k)))},[k]),y.useEffect(()=>{R&&L&&(ne!==null&&google.maps.event.removeListener(ne),pe(google.maps.event.addListener(R,"mouseup",L)))},[L]),y.useEffect(()=>{R&&D&&(G!==null&&google.maps.event.removeListener(G),Ce(google.maps.event.addListener(R,"rightclick",D)))},[D]),y.useEffect(()=>{R&&b&&(Ie!==null&&google.maps.event.removeListener(Ie),de(google.maps.event.addListener(R,"click",b)))},[b]),y.useEffect(()=>{R&&B&&(be!==null&&google.maps.event.removeListener(be),me(google.maps.event.addListener(R,"drag",B)))},[B]),y.useEffect(()=>{R&&j&&(Ue!==null&&google.maps.event.removeListener(Ue),Rt(google.maps.event.addListener(R,"center_changed",j)))},[b]),y.useEffect(()=>{R&&X&&(At!==null&&google.maps.event.removeListener(At),fn(google.maps.event.addListener(R,"radius_changed",X)))},[X]),y.useEffect(()=>{var He=new google.maps.Circle(Rc(Rc({},e||tb),{},{map:Q}));return typeof r=="number"&&He.setRadius(r),typeof t<"u"&&He.setCenter(t),typeof r=="number"&&He.setRadius(r),typeof c<"u"&&He.setVisible(c),typeof a<"u"&&He.setEditable(a),typeof o<"u"&&He.setDraggable(o),d&&x(google.maps.event.addListener(He,"dblclick",d)),f&&N(google.maps.event.addListener(He,"dragend",f)),m&&ye(google.maps.event.addListener(He,"dragstart",m)),_&&Ae(google.maps.event.addListener(He,"mousedown",_)),S&&ee(google.maps.event.addListener(He,"mousemove",S)),C&&re(google.maps.event.addListener(He,"mouseout",C)),k&&Y(google.maps.event.addListener(He,"mouseover",k)),L&&pe(google.maps.event.addListener(He,"mouseup",L)),D&&Ce(google.maps.event.addListener(He,"rightclick",D)),b&&de(google.maps.event.addListener(He,"click",b)),B&&me(google.maps.event.addListener(He,"drag",B)),j&&Rt(google.maps.event.addListener(He,"center_changed",j)),X&&fn(google.maps.event.addListener(He,"radius_changed",X)),P(He),W&&W(He),()=>{T!==null&&google.maps.event.removeListener(T),O!==null&&google.maps.event.removeListener(O),A!==null&&google.maps.event.removeListener(A),Se!==null&&google.maps.event.removeListener(Se),Te!==null&&google.maps.event.removeListener(Te),ce!==null&&google.maps.event.removeListener(ce),U!==null&&google.maps.event.removeListener(U),ne!==null&&google.maps.event.removeListener(ne),G!==null&&google.maps.event.removeListener(G),Ie!==null&&google.maps.event.removeListener(Ie),Ue!==null&&google.maps.event.removeListener(Ue),At!==null&&google.maps.event.removeListener(At),q&&q(He),He.setMap(null)}},[]),null}y.memo(nb);class rb extends y.PureComponent{constructor(){super(...arguments),J(this,"registeredEvents",[]),J(this,"state",{circle:null}),J(this,"setCircleCallback",()=>{this.state.circle!==null&&this.props.onLoad&&this.props.onLoad(this.state.circle)})}componentDidMount(){var e=new google.maps.Circle(Rc(Rc({},this.props.options),{},{map:this.context}));this.registeredEvents=Be({updaterMap:Ny,eventMap:Dy,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{circle:e}},this.setCircleCallback)}componentDidUpdate(e){this.state.circle!==null&&(ze(this.registeredEvents),this.registeredEvents=Be({updaterMap:Ny,eventMap:Dy,prevProps:e,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){if(this.state.circle!==null){var e;this.props.onUnmount&&this.props.onUnmount(this.state.circle),ze(this.registeredEvents),(e=this.state.circle)===null||e===void 0||e.setMap(null)}}render(){return null}}J(rb,"contextType",Fe);function Vy(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function Ac(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Vy(Object(t),!0).forEach(function(r){J(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Vy(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var Uy={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},Fy={add(n,e){n.add(e)},addgeojson(n,e,t){n.addGeoJson(e,t)},contains(n,e){n.contains(e)},foreach(n,e){n.forEach(e)},loadgeojson(n,e,t,r){n.loadGeoJson(e,t,r)},overridestyle(n,e,t){n.overrideStyle(e,t)},remove(n,e){n.remove(e)},revertstyle(n,e){n.revertStyle(e)},controlposition(n,e){n.setControlPosition(e)},controls(n,e){n.setControls(e)},drawingmode(n,e){n.setDrawingMode(e)},map(n,e){n.setMap(e)},style(n,e){n.setStyle(e)},togeojson(n,e){n.toGeoJson(e)}};function ib(n){var{options:e,onClick:t,onDblClick:r,onMouseDown:o,onMouseMove:a,onMouseOut:c,onMouseOver:d,onMouseUp:f,onRightClick:m,onAddFeature:_,onRemoveFeature:S,onRemoveProperty:C,onSetGeometry:k,onSetProperty:L,onLoad:D,onUnmount:b}=n,B=y.useContext(Fe),[j,X]=y.useState(null),[W,q]=y.useState(null),[Q,R]=y.useState(null),[P,T]=y.useState(null),[x,O]=y.useState(null),[N,A]=y.useState(null),[ye,Se]=y.useState(null),[Ae,Te]=y.useState(null),[ee,ce]=y.useState(null),[re,U]=y.useState(null),[Y,ne]=y.useState(null),[pe,G]=y.useState(null),[Ce,Ie]=y.useState(null),[de,be]=y.useState(null);return y.useEffect(()=>{j!==null&&j.setMap(B)},[B]),y.useEffect(()=>{j&&r&&(W!==null&&google.maps.event.removeListener(W),q(google.maps.event.addListener(j,"dblclick",r)))},[r]),y.useEffect(()=>{j&&o&&(Q!==null&&google.maps.event.removeListener(Q),R(google.maps.event.addListener(j,"mousedown",o)))},[o]),y.useEffect(()=>{j&&a&&(P!==null&&google.maps.event.removeListener(P),T(google.maps.event.addListener(j,"mousemove",a)))},[a]),y.useEffect(()=>{j&&c&&(x!==null&&google.maps.event.removeListener(x),O(google.maps.event.addListener(j,"mouseout",c)))},[c]),y.useEffect(()=>{j&&d&&(N!==null&&google.maps.event.removeListener(N),A(google.maps.event.addListener(j,"mouseover",d)))},[d]),y.useEffect(()=>{j&&f&&(ye!==null&&google.maps.event.removeListener(ye),Se(google.maps.event.addListener(j,"mouseup",f)))},[f]),y.useEffect(()=>{j&&m&&(Ae!==null&&google.maps.event.removeListener(Ae),Te(google.maps.event.addListener(j,"rightclick",m)))},[m]),y.useEffect(()=>{j&&t&&(ee!==null&&google.maps.event.removeListener(ee),ce(google.maps.event.addListener(j,"click",t)))},[t]),y.useEffect(()=>{j&&_&&(re!==null&&google.maps.event.removeListener(re),U(google.maps.event.addListener(j,"addfeature",_)))},[_]),y.useEffect(()=>{j&&S&&(Y!==null&&google.maps.event.removeListener(Y),ne(google.maps.event.addListener(j,"removefeature",S)))},[S]),y.useEffect(()=>{j&&C&&(pe!==null&&google.maps.event.removeListener(pe),G(google.maps.event.addListener(j,"removeproperty",C)))},[C]),y.useEffect(()=>{j&&k&&(Ce!==null&&google.maps.event.removeListener(Ce),Ie(google.maps.event.addListener(j,"setgeometry",k)))},[k]),y.useEffect(()=>{j&&L&&(de!==null&&google.maps.event.removeListener(de),be(google.maps.event.addListener(j,"setproperty",L)))},[L]),y.useEffect(()=>{if(B!==null){var me=new google.maps.Data(Ac(Ac({},e),{},{map:B}));r&&q(google.maps.event.addListener(me,"dblclick",r)),o&&R(google.maps.event.addListener(me,"mousedown",o)),a&&T(google.maps.event.addListener(me,"mousemove",a)),c&&O(google.maps.event.addListener(me,"mouseout",c)),d&&A(google.maps.event.addListener(me,"mouseover",d)),f&&Se(google.maps.event.addListener(me,"mouseup",f)),m&&Te(google.maps.event.addListener(me,"rightclick",m)),t&&ce(google.maps.event.addListener(me,"click",t)),_&&U(google.maps.event.addListener(me,"addfeature",_)),S&&ne(google.maps.event.addListener(me,"removefeature",S)),C&&G(google.maps.event.addListener(me,"removeproperty",C)),k&&Ie(google.maps.event.addListener(me,"setgeometry",k)),L&&be(google.maps.event.addListener(me,"setproperty",L)),X(me),D&&D(me)}return()=>{j&&(W!==null&&google.maps.event.removeListener(W),Q!==null&&google.maps.event.removeListener(Q),P!==null&&google.maps.event.removeListener(P),x!==null&&google.maps.event.removeListener(x),N!==null&&google.maps.event.removeListener(N),ye!==null&&google.maps.event.removeListener(ye),Ae!==null&&google.maps.event.removeListener(Ae),ee!==null&&google.maps.event.removeListener(ee),re!==null&&google.maps.event.removeListener(re),Y!==null&&google.maps.event.removeListener(Y),pe!==null&&google.maps.event.removeListener(pe),Ce!==null&&google.maps.event.removeListener(Ce),de!==null&&google.maps.event.removeListener(de),b&&b(j),j.setMap(null))}},[]),null}y.memo(ib);class sb extends y.PureComponent{constructor(){super(...arguments),J(this,"registeredEvents",[]),J(this,"state",{data:null}),J(this,"setDataCallback",()=>{this.state.data!==null&&this.props.onLoad&&this.props.onLoad(this.state.data)})}componentDidMount(){if(this.context!==null){var e=new google.maps.Data(Ac(Ac({},this.props.options),{},{map:this.context}));this.registeredEvents=Be({updaterMap:Fy,eventMap:Uy,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({data:e}),this.setDataCallback)}}componentDidUpdate(e){this.state.data!==null&&(ze(this.registeredEvents),this.registeredEvents=Be({updaterMap:Fy,eventMap:Uy,prevProps:e,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),ze(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}J(sb,"contextType",Fe);function jy(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function By(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?jy(Object(t),!0).forEach(function(r){J(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):jy(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var zy={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},$y={options(n,e){n.setOptions(e)},url(n,e){n.setUrl(e)},zIndex(n,e){n.setZIndex(e)}};class ob extends y.PureComponent{constructor(){super(...arguments),J(this,"registeredEvents",[]),J(this,"state",{kmlLayer:null}),J(this,"setKmlLayerCallback",()=>{this.state.kmlLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)})}componentDidMount(){var e=new google.maps.KmlLayer(By(By({},this.props.options),{},{map:this.context}));this.registeredEvents=Be({updaterMap:$y,eventMap:zy,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{kmlLayer:e}},this.setKmlLayerCallback)}componentDidUpdate(e){this.state.kmlLayer!==null&&(ze(this.registeredEvents),this.registeredEvents=Be({updaterMap:$y,eventMap:zy,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),ze(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}J(ob,"contextType",Fe);function Zw(n,e){return typeof e=="function"?e(n.offsetWidth,n.offsetHeight):{x:0,y:0}}function ab(n,e){return new e(n.lat,n.lng)}function lb(n,e){return new e(new google.maps.LatLng(n.ne.lat,n.ne.lng),new google.maps.LatLng(n.sw.lat,n.sw.lng))}function ub(n,e,t){return n instanceof e?n:t(n,e)}function cb(n,e,t){return n instanceof e?n:t(n,e)}function hb(n,e,t){var r=n&&n.fromLatLngToDivPixel(t.getNorthEast()),o=n&&n.fromLatLngToDivPixel(t.getSouthWest());return r&&o?{left:"".concat(o.x+e.x,"px"),top:"".concat(r.y+e.y,"px"),width:"".concat(r.x-o.x-e.x,"px"),height:"".concat(o.y-r.y-e.y,"px")}:{left:"-9999px",top:"-9999px"}}function db(n,e,t){var r=n&&n.fromLatLngToDivPixel(t);if(r){var{x:o,y:a}=r;return{left:"".concat(o+e.x,"px"),top:"".concat(a+e.y,"px")}}return{left:"-9999px",top:"-9999px"}}function Jw(n,e,t,r){return t!==void 0?hb(n,e,cb(t,google.maps.LatLngBounds,lb)):db(n,e,ub(r,google.maps.LatLng,ab))}function fb(n,e){return n.left===e.left&&n.top===e.top&&n.width===e.height&&n.height===e.height}function Wy(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function pb(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Wy(Object(t),!0).forEach(function(r){J(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Wy(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function gb(n,e,t,r,o){class a extends google.maps.OverlayView{constructor(d,f,m,_){super(),this.container=d,this.pane=f,this.position=m,this.bounds=_}onAdd(){var d,f=(d=this.getPanes())===null||d===void 0?void 0:d[this.pane];f==null||f.appendChild(this.container)}draw(){var d=this.getProjection(),f=pb({},this.container?Zw(this.container,o):{x:0,y:0}),m=Jw(d,f,this.bounds,this.position);for(var[_,S]of Object.entries(m))this.container.style[_]=S}onRemove(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)}}return new a(n,e,t,r)}function Hy(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function mb(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Hy(Object(t),!0).forEach(function(r){J(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Hy(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function qy(n){if(!n)return"";var e=n instanceof google.maps.LatLng?n:new google.maps.LatLng(n.lat,n.lng);return e+""}function Gy(n){if(!n)return"";var e=n instanceof google.maps.LatLngBounds?n:new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.east),new google.maps.LatLng(n.north,n.west));return e+""}function vb(n){var{position:e,bounds:t,mapPaneName:r,zIndex:o,onLoad:a,onUnmount:c,getPixelPositionOffset:d,children:f}=n,m=y.useContext(Fe),_=y.useMemo(()=>{var C=document.createElement("div");return C.style.position="absolute",C},[]),S=y.useMemo(()=>gb(_,r,e,t,d),[_,r,e,t]);return y.useEffect(()=>(a==null||a(S),S==null||S.setMap(m),()=>{c==null||c(S),S==null||S.setMap(null)}),[m,S]),y.useEffect(()=>{_.style.zIndex="".concat(o)},[o,_]),Go.createPortal(f,_)}y.memo(vb);class ea extends y.PureComponent{constructor(e){super(e),J(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),J(this,"updatePane",()=>{var r=this.props.mapPaneName,o=this.overlayView.getPanes();kt(!!r,"OverlayView requires props.mapPaneName but got %s",r),o?this.setState({paneEl:o[r]}):this.setState({paneEl:null})}),J(this,"onAdd",()=>{var r,o;this.updatePane(),(r=(o=this.props).onLoad)===null||r===void 0||r.call(o,this.overlayView)}),J(this,"onPositionElement",()=>{var r=this.overlayView.getProjection(),o=mb({x:0,y:0},this.containerRef.current?Zw(this.containerRef.current,this.props.getPixelPositionOffset):{}),a=Jw(r,o,this.props.bounds,this.props.position);if(!fb(a,{left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height})){var c,d,f,m;this.setState({containerStyle:{top:(c=a.top)!==null&&c!==void 0?c:0,left:(d=a.left)!==null&&d!==void 0?d:0,width:(f=a.width)!==null&&f!==void 0?f:0,height:(m=a.height)!==null&&m!==void 0?m:0,position:"absolute"}})}}),J(this,"draw",()=>{this.onPositionElement()}),J(this,"onRemove",()=>{var r,o;this.setState(()=>({paneEl:null})),(r=(o=this.props).onUnmount)===null||r===void 0||r.call(o,this.overlayView)}),this.containerRef=y.createRef();var t=new google.maps.OverlayView;t.onAdd=this.onAdd,t.draw=this.draw,t.onRemove=this.onRemove,this.overlayView=t}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(e){var t=qy(e.position),r=qy(this.props.position),o=Gy(e.bounds),a=Gy(this.props.bounds);(t!==r||o!==a)&&this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var e=this.state.paneEl;return e?Go.createPortal(le.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:y.Children.only(this.props.children)}),e):null}}J(ea,"FLOAT_PANE","floatPane");J(ea,"MAP_PANE","mapPane");J(ea,"MARKER_LAYER","markerLayer");J(ea,"OVERLAY_LAYER","overlayLayer");J(ea,"OVERLAY_MOUSE_TARGET","overlayMouseTarget");J(ea,"contextType",Fe);function yb(){}function Ky(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function Qy(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Ky(Object(t),!0).forEach(function(r){J(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Ky(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var Yy={onDblClick:"dblclick",onClick:"click"},Zy={opacity(n,e){n.setOpacity(e)}};function _b(n){var{url:e,bounds:t,options:r,visible:o}=n,a=y.useContext(Fe),c=new google.maps.LatLngBounds(new google.maps.LatLng(t.south,t.west),new google.maps.LatLng(t.north,t.east)),d=y.useMemo(()=>new google.maps.GroundOverlay(e,c,r),[]);return y.useEffect(()=>{d!==null&&d.setMap(a)},[a]),y.useEffect(()=>{typeof e<"u"&&d!==null&&(d.set("url",e),d.setMap(a))},[d,e]),y.useEffect(()=>{typeof o<"u"&&d!==null&&d.setOpacity(o?1:0)},[d,o]),y.useEffect(()=>{var f=new google.maps.LatLngBounds(new google.maps.LatLng(t.south,t.west),new google.maps.LatLng(t.north,t.east));typeof t<"u"&&d!==null&&(d.set("bounds",f),d.setMap(a))},[d,t]),null}y.memo(_b);class Xw extends y.PureComponent{constructor(){super(...arguments),J(this,"registeredEvents",[]),J(this,"state",{groundOverlay:null}),J(this,"setGroundOverlayCallback",()=>{this.state.groundOverlay!==null&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)})}componentDidMount(){kt(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,Qy(Qy({},this.props.options),{},{map:this.context}));this.registeredEvents=Be({updaterMap:Zy,eventMap:Yy,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{groundOverlay:e}},this.setGroundOverlayCallback)}componentDidUpdate(e){this.state.groundOverlay!==null&&(ze(this.registeredEvents),this.registeredEvents=Be({updaterMap:Zy,eventMap:Yy,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}J(Xw,"defaultProps",{onLoad:yb});J(Xw,"contextType",Fe);function Jy(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function xc(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Jy(Object(t),!0).forEach(function(r){J(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Jy(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var Xy={},e_={data(n,e){n.setData(e)},map(n,e){n.setMap(e)},options(n,e){n.setOptions(e)}};function Eb(n){var{data:e,onLoad:t,onUnmount:r,options:o}=n,a=y.useContext(Fe),[c,d]=y.useState(null);return y.useEffect(()=>{google.maps.visualization||kt(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),y.useEffect(()=>{kt(!!e,"data property is required in HeatmapLayer %s",e)},[e]),y.useEffect(()=>{c!==null&&c.setMap(a)},[a]),y.useEffect(()=>{o&&c!==null&&c.setOptions(o)},[c,o]),y.useEffect(()=>{var f=new google.maps.visualization.HeatmapLayer(xc(xc({},o),{},{data:e,map:a}));return d(f),t&&t(f),()=>{c!==null&&(r&&r(c),c.setMap(null))}},[]),null}y.memo(Eb);class wb extends y.PureComponent{constructor(){super(...arguments),J(this,"registeredEvents",[]),J(this,"state",{heatmapLayer:null}),J(this,"setHeatmapLayerCallback",()=>{this.state.heatmapLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)})}componentDidMount(){kt(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),kt(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var e=new google.maps.visualization.HeatmapLayer(xc(xc({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=Be({updaterMap:e_,eventMap:Xy,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{heatmapLayer:e}},this.setHeatmapLayerCallback)}componentDidUpdate(e){ze(this.registeredEvents),this.registeredEvents=Be({updaterMap:e_,eventMap:Xy,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),ze(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}J(wb,"contextType",Fe);var t_={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},n_={register(n,e,t){n.registerPanoProvider(e,t)},links(n,e){n.setLinks(e)},motionTracking(n,e){n.setMotionTracking(e)},options(n,e){n.setOptions(e)},pano(n,e){n.setPano(e)},position(n,e){n.setPosition(e)},pov(n,e){n.setPov(e)},visible(n,e){n.setVisible(e)},zoom(n,e){n.setZoom(e)}};class Sb extends y.PureComponent{constructor(){super(...arguments),J(this,"registeredEvents",[]),J(this,"state",{streetViewPanorama:null}),J(this,"setStreetViewPanoramaCallback",()=>{this.state.streetViewPanorama!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)})}componentDidMount(){var e,t,r=(e=(t=this.context)===null||t===void 0?void 0:t.getStreetView())!==null&&e!==void 0?e:null;this.registeredEvents=Be({updaterMap:n_,eventMap:t_,prevProps:{},nextProps:this.props,instance:r}),this.setState(()=>({streetViewPanorama:r}),this.setStreetViewPanoramaCallback)}componentDidUpdate(e){this.state.streetViewPanorama!==null&&(ze(this.registeredEvents),this.registeredEvents=Be({updaterMap:n_,eventMap:t_,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),ze(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}J(Sb,"contextType",Fe);class Cb extends y.PureComponent{constructor(){super(...arguments),J(this,"state",{streetViewService:null}),J(this,"setStreetViewServiceCallback",()=>{this.state.streetViewService!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)})}componentDidMount(){var e=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:e}},this.setStreetViewServiceCallback)}componentWillUnmount(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}J(Cb,"contextType",Fe);var r_={onDirectionsChanged:"directions_changed"},i_={directions(n,e){n.setDirections(e)},map(n,e){n.setMap(e)},options(n,e){n.setOptions(e)},panel(n,e){n.setPanel(e)},routeIndex(n,e){n.setRouteIndex(e)}};class Tb extends y.PureComponent{constructor(){super(...arguments),J(this,"registeredEvents",[]),J(this,"state",{directionsRenderer:null}),J(this,"setDirectionsRendererCallback",()=>{this.state.directionsRenderer!==null&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))})}componentDidMount(){var e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=Be({updaterMap:i_,eventMap:r_,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{directionsRenderer:e}},this.setDirectionsRendererCallback)}componentDidUpdate(e){this.state.directionsRenderer!==null&&(ze(this.registeredEvents),this.registeredEvents=Be({updaterMap:i_,eventMap:r_,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),ze(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}J(Tb,"contextType",Fe);var s_={onPlacesChanged:"places_changed"},o_={bounds(n,e){n.setBounds(e)}};class Ib extends y.PureComponent{constructor(){super(...arguments),J(this,"registeredEvents",[]),J(this,"containerElement",y.createRef()),J(this,"state",{searchBox:null}),J(this,"setSearchBoxCallback",()=>{this.state.searchBox!==null&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)})}componentDidMount(){if(kt(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var e=this.containerElement.current.querySelector("input");if(e!==null){var t=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=Be({updaterMap:o_,eventMap:s_,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{searchBox:t}},this.setSearchBoxCallback)}}}componentDidUpdate(e){this.state.searchBox!==null&&(ze(this.registeredEvents),this.registeredEvents=Be({updaterMap:o_,eventMap:s_,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),ze(this.registeredEvents))}render(){return le.jsx("div",{ref:this.containerElement,children:y.Children.only(this.props.children)})}}J(Ib,"contextType",Fe);var a_={onPlaceChanged:"place_changed"},l_={bounds(n,e){n.setBounds(e)},restrictions(n,e){n.setComponentRestrictions(e)},fields(n,e){n.setFields(e)},options(n,e){n.setOptions(e)},types(n,e){n.setTypes(e)}};class eS extends y.PureComponent{constructor(){super(...arguments),J(this,"registeredEvents",[]),J(this,"containerElement",y.createRef()),J(this,"state",{autocomplete:null}),J(this,"setAutocompleteCallback",()=>{this.state.autocomplete!==null&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)})}componentDidMount(){var e;kt(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var t=(e=this.containerElement.current)===null||e===void 0?void 0:e.querySelector("input");if(t){var r=new google.maps.places.Autocomplete(t,this.props.options);this.registeredEvents=Be({updaterMap:l_,eventMap:a_,prevProps:{},nextProps:this.props,instance:r}),this.setState(()=>({autocomplete:r}),this.setAutocompleteCallback)}}componentDidUpdate(e){ze(this.registeredEvents),this.registeredEvents=Be({updaterMap:l_,eventMap:a_,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){this.state.autocomplete!==null&&ze(this.registeredEvents)}render(){return le.jsx("div",{ref:this.containerElement,className:this.props.className,children:y.Children.only(this.props.children)})}}J(eS,"defaultProps",{className:""});J(eS,"contextType",Fe);const Lb={width:"100%",height:"300px"},Pb={lat:-3.745,lng:-38.523};function kb(){const[n,e]=y.useState(Pb);return le.jsx(Ww,{googleMapsApiKey:"YOUR_GOOGLE_MAPS_API_KEY",children:le.jsx(YA,{mapContainerStyle:Lb,center:n,zoom:15,children:le.jsx(Hw,{position:n})})})}async function Rb(n,e){try{const t=await OA(Iw(Vw,"users"),{userId:n,...e});console.log("Document written with ID:",t.id)}catch(t){console.error("Error adding document:",t.message)}}async function Ab(){try{(await MA(Iw(Vw,"users"))).forEach(e=>{console.log(`${e.id} =>`,e.data())})}catch(n){console.error("Error fetching documents:",n.message)}}function xb(){const n=()=>{Rb("123",{name:"John Doe",email:"john@example.com"})};return le.jsx("div",{children:le.jsx("button",{onClick:n,className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Save User Data"})})}function bb(){return y.useEffect(()=>{Ab()},[]),le.jsx("div",{children:le.jsx("h2",{className:"text-lg font-bold",children:"User Data"})})}function Mb(){return le.jsx(TT,{children:le.jsxs(eT,{children:[le.jsx(Vn,{path:"/map",element:le.jsx(kb,{})}),le.jsx(Vn,{path:"/",element:le.jsx(OT,{})}),le.jsx(Vn,{path:"/welcome",element:le.jsx(DT,{})}),le.jsx(Vn,{path:"/sos",element:le.jsx(NT,{})}),le.jsx(Vn,{path:"/spy-camera",element:le.jsx(VT,{})}),le.jsx(Vn,{path:"/share-location",element:le.jsx(UT,{})}),le.jsx(Vn,{path:"/home",element:le.jsx(jT,{})}),le.jsx(Vn,{path:"/login",element:le.jsx(VA,{})}),le.jsx(Vn,{path:"/register",element:le.jsx(UA,{})}),le.jsx(Vn,{path:"/save-user",element:le.jsx(xb,{})}),le.jsx(Vn,{path:"/fetch-users",element:le.jsx(bb,{})})]})})}cC.createRoot(document.getElementById("root")).render(le.jsx(y.StrictMode,{children:le.jsx(Mb,{})}));
